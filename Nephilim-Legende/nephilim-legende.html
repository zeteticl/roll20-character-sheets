<script type="text/worker">
	function Semaphore(callback, initial, context) 
	{
		var args = (arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments));

		this.lock = parseInt(initial, 10) || 0;
		this.callback = callback;
		this.context = context || callback;
		this.args = args.slice(3);
	}
	
	Semaphore.prototype = {
		v: function() { this.lock++; },
		p: function() {
			var parameters;

			this.lock--;

			if (this.lock === 0 && this.callback) {
				// allow sem.p(arg1, arg2, ...) to override args passed to Semaphore constructor
				if (arguments.length > 0) { parameters = arguments; }
				else { parameters = this.args; }

				this.callback.apply(this.context, parameters);
			}
		}
	};
	
	on("sheet:opened change:degreMetamorphe change:KaDominant", function() 
	{
		getAttrs(["degreMetamorphe", "KaDominant"], function(values) 
		{
			var KAD = values["KaDominant"];
			var degre = parseInt(values["degreMetamorphe"], 10)||0;
			
			if(KAD == "Feu")
			{
				setAttrs({
					KADFeu: degre,
					KADTerre: 0,
					KADAir: 0,
					KADLune: 0,
					KADEau: 0
				});
			}
			
			if(KAD == "Terre")
			{
				setAttrs({
					KADFeu: 0,
					KADTerre: degre,
					KADAir: 0,
					KADLune: 0,
					KADEau: 0
				});
			}
			
			if(KAD == "Air")
			{
				setAttrs({
					KADFeu: 0,
					KADTerre: 0,
					KADAir: degre,
					KADLune: 0,
					KADEau: 0
				});
			}
			
			if(KAD == "Lune")
			{
				setAttrs({
					KADFeu: 0,
					KADTerre: 0,
					KADAir: 0,
					KADLune: degre,
					KADEau: 0
				});
			}
			
			if(KAD == "Eau")
			{
				setAttrs({
					KADFeu: 0,
					KADTerre: 0,
					KADAir: 0,
					KADLune: 0,
					KADEau: degre
				});
			}
		});
	});
	
	on("sheet:opened", function() {
		getAttrs(["version"], function(value) 
		{
			var version = value["version"];
			
			if(version < 2)
			{
				getSectionIDs("repeating_epoques-incarnation", function(idarray) 
				{
					_.each(idarray,function(id) 
					{
						getAttrs(["repeating_epoques-incarnation_"+id+"_epoque", "repeating_epoques-incarnation_"+id+"_vecus-passe1", "repeating_epoques-incarnation_"+id+"_degres_vecu_passe1", "repeating_epoques-incarnation_"+id+"_vecus-passe2", "repeating_epoques-incarnation_"+id+"_degres_vecu_passe2"], function (v) 
						{
							var epoque = v["repeating_epoques-incarnation_"+id+"_epoque"];
							var vecus1 = v["repeating_epoques-incarnation_"+id+"_vecus-passe1"];
							var vecus2 = v["repeating_epoques-incarnation_"+id+"_vecus-passe2"];
							var vecusD1 = v["repeating_epoques-incarnation_"+id+"_degres_vecu_passe1"];
							var vecusD2 = v["repeating_epoques-incarnation_"+id+"_degres_vecu_passe2"];
							
							setAttrs({
								["repeating_epoques-incarnation_"+id+"_vecu"]: vecus1,
								["repeating_epoques-incarnation_"+id+"_degres_vecu_passe"]: vecusD1								
							});
							
							console.log(epoque);
							console.log(vecus1);
							console.log(vecusD1);
							console.log(vecus2);
							console.log(vecusD2);
							
							var newrowid = generateRowID();
							var newrowattrs = {};
							newrowattrs["repeating_epoques-incarnation_" + newrowid + "_epoque"] = epoque;
							newrowattrs["repeating_epoques-incarnation_" + newrowid + "_vecu"] = vecus2;
							newrowattrs["repeating_epoques-incarnation_" + newrowid + "_degres_vecu_passe"] = vecusD2;
							setAttrs(newrowattrs);
						});
						
					});
				});
				
				getSectionIDs("repeating_quetes-eso", function(idarray) 
				{
					_.each(idarray,function(id) 
					{
						getAttrs(["repeating_quetes-eso_"+id+"_quete_eso"], function (v) 
						{
							var quete = v["repeating_quetes-eso_"+id+"_quete_eso"];
							var result;
							
							if(quete == "0")
								result = "";
							else if(quete == "arcadia")
								result = "Arcadia";
							else if(quete == "arcane-xxi")
								result = "Arcane XXI";
							else if(quete == "arche-alliance")
								result = "Arche d'Alliance";
							else if(quete == "atalante-fugitive")
								result = "Atalante Fugitive";
							else if(quete == "champs-polemoka")
								result = "Champ Polemoka fugitive";
							else if(quete == "cite-vertiges")
								result = "Cité des Vertiges";
							else if(quete == "exode-sideral")
								result = "Exode sidéral";
							else if(quete == "hyperborée")
								result = "Hyperborée";
							else if(quete == "jerusalem-celest")
								result = "Jérusalem Céleste";
							else if(quete == "sentier-or")
								result = "Le Sentier d'Or";
							else if(quete == "porte-noire")
								result = "Porte Noire";
							else if(quete == "graal")
								result = "Quête du Graal";
							else if(quete == "rex-mundi")
								result = "Rex Mundi";
							else if(quete == "table-emeraude")
								result = "Table d'Émeraude";
							else if(quete == "toison-or")
								result = "Toison d'Or";
							else if(quete == "tresor-templiers")
								result = "Trésor des Templiers";
							
							setAttrs({
								["repeating_quetes-eso_"+id+"_quete_eso"]: result							
							});
						});
						
					});
				});
				
				getSectionIDs("repeating_savoir-eso", function(idarray) 
				{
					_.each(idarray,function(id) 
					{
						getAttrs(["repeating_savoir-eso_"+id+"_savoir_eso"], function (v) 
						{
							var savoir = v["repeating_savoir-eso_"+id+"_savoir_eso"];
							var result;
							
							if(savoir == "0")
								result = "";
							else if(savoir == "666")
								result = "666";
							else if(savoir == "akasha")
								result = "Akasha";
							else if(savoir == "ar-kaim")
								result = "Ar-Kaim";
							else if(savoir == "arcanes-majeur")
								result = "Arcanes Majeurs";
							else if(savoir == "bohemiens")
								result = "Bohémiens";
							else if(savoir == "champs-magiques")
								result = "Champs Magiques";
							else if(savoir == "cousins")
								result = "Cousins";
							else if(savoir == "drakaon")
								result = "Drakaon";
							else if(savoir == "effets-dragons")
								result = "Effets-Dragons";
							else if(savoir == "histoire-invisible")
								result = "Histoire Invisible";
							else if(savoir == "kaim")
								result = "Kaim";
							else if(savoir == "lune-noire")
								result = "Lune Noire";
							else if(savoir == "mystères")
								result = "Mystères";
							else if(savoir == "nephilim")
								result = "Nephilim";
							else if(savoir == "orichalque")
								result = "Orichalque";
							else if(savoir == "révélation")
								result = "Révélation";
							else if(savoir == "rose-croix")
								result = "Rose+Croix";
							else if(savoir == "sciences-occultes")
								result = "Sciences Occultes";
							else if(savoir == "selenim")
								result = "Selenim";
							else if(savoir == "synarchie")
								result = "Synarchie";
							else if(savoir == "templiers")
								result = "Templiers";
								
							setAttrs({
								["repeating_savoir-eso_"+id+"_savoir_eso"]: result							
							});
						});
						
					});
				});
				
				setAttrs({
					["version"]: "2"						
				});
			}
		});
	});
	
	on("change:kafeu change:kalune sheet:opened", function() 
	{
		getAttrs([
		"kafeu", "kalune"
		], function(values) 
		{

			var kaFeu = parseInt(values["kafeu"], 10)||0;
			var kaLune = parseInt(values["kalune"], 10)||0;
			var bonusDom = 0;
			var voile = 0;
			
			if(kaFeu >= 5 && kaFeu < 10)
				bonusDom = 1;
			else if(kaFeu >= 10)
				bonusDom = 2;
				
			if(kaLune >= 5 && kaLune < 10)
				voile = 1;
			else if(kaLune >= 10)
				voile = 2;
				
			
			setAttrs({
				["bonus-dom"]: bonusDom,			
				["voile"]: voile		
			});
		});
    });

	on("change:repeating_mag-sort:mag-sort-ka change:repeating_mag-sort:mag-sort-degre change:repeating_mag-sort:mag-sort-cercle change:kaeau change:kafeu change:katerre change:kaair change:kalune change:mag-basse-degre change:mag-haute-degre change:mag-secret-degre change:KADFeu change:KADEau change:KADTerre change:KADAir change:KADLune change:malusMag sheet:opened", function() 
	{
		getSectionIDs("repeating_mag-sort", function(idarray) 
		{
			_.each(idarray,function(id) 
			{
				getAttrs([
				"repeating_mag-sort_"+id+"_mag-sort-ka", "repeating_mag-sort_"+id+"_mag-sort-degre", "repeating_mag-sort_"+id+"_mag-sort-cercle",
				"kaeau", "kafeu", "katerre", "kaair", "kalune", "KADFeu", "KADEau", "KADTerre", "KADAir", "KADLune", 
				"mag-basse-degre", "mag-haute-degre", "mag-secret-degre", "malusMag"
				], function(values) {

					var KADF = parseInt(values["KADFeu"], 10)||0;
					var KADE = parseInt(values["KADEau"], 10)||0;
					var KADT = parseInt(values["KADTerre"], 10)||0;
					var KADA = parseInt(values["KADAir"], 10)||0;
					var KADL = parseInt(values["KADLune"], 10)||0;
					
					var malusMag = parseInt(values["malusMag"], 10)||0;

					var ka_element = values["repeating_mag-sort_"+id+"_mag-sort-ka"];
					var ka_element_value = parseInt(values[ka_element], 10)||0;
				   
					var mag_voie = values["repeating_mag-sort_"+id+"_mag-sort-cercle"];
					var mag_voie_value = parseInt(values[mag_voie], 10)||0;

					var degre = parseInt(values["repeating_mag-sort_"+id+"_mag-sort-degre"], 10)||0;
					
					var metamorphose = 0;
					
					if(ka_element == "kaair")
						metamorphose = KADA;
					
					if(ka_element == "kafeu")
						metamorphose = KADF;
						
					if(ka_element == "kaeau")
						metamorphose = KADE;
						
					if(ka_element == "katerre")
						metamorphose = KADT;	
						
					if(ka_element == "kalune")
						metamorphose = KADL;

					var total = (ka_element_value + mag_voie_value + metamorphose - malusMag) - degre;
					
					setAttrs({
						["repeating_mag-sort_"+id+"_mag-sort-current"]: total							
					});
				});
			});
		});
        
    });
	
	on("change:repeating_kabb-invoc:kabb-invoc-ka change:repeating_kabb-invoc:kabb-invoc-sephira change:kaeau change:kafeu change:katerre change:kaair change:kalune change:malkut change:yesod change:hod change:netzah change:tiphereth change:chesed change:geburah change:binah change:hokmah change:kheter change:ordonnanceBonus change:KADFeu change:KADEau change:KADTerre change:KADAir change:KADLune change:malusMag sheet:opened", function()
	{		
		getSectionIDs("repeating_kabb-invoc", function(idarray) 
		{
			console.log("Metamorphose");
			_.each(idarray,function(id) 
			{
				getAttrs([
				"repeating_kabb-invoc_"+id+"_kabb-invoc-ka", "repeating_kabb-invoc_"+id+"_kabb-invoc-sephira",
				"kaeau", "kafeu", "katerre", "kaair", "kalune", "KADFeu", "KADEau", "KADTerre", "KADAir", "KADLune",
				"malkut", "yesod", "hod", "netzah", "tiphereth", "chesed", "geburah", "binah", "hokmah", "kheter", "ordonnanceBonus", "malusMag"
				], function(values) {
				
					var KADF = parseInt(values["KADFeu"], 10)||0;
					var KADE = parseInt(values["KADEau"], 10)||0;
					var KADT = parseInt(values["KADTerre"], 10)||0;
					var KADA = parseInt(values["KADAir"], 10)||0;
					var KADL = parseInt(values["KADLune"], 10)||0;
					
					var malusMag = parseInt(values["malusMag"], 10)||0;
				
					var ka_element = values["repeating_kabb-invoc_"+id+"_kabb-invoc-ka"];
					var ka_element_value = parseInt(values[ka_element], 10)||0;

					var kabb_sephira = values["repeating_kabb-invoc_"+id+"_kabb-invoc-sephira"];
					var kabb_sephira_value = parseInt(values[kabb_sephira], 10)||0;
					
					var ordonnance = parseInt(values["ordonnanceBonus"], 10)||0;
					
					var metamorphose = 0;
					
					if(ka_element == "kaair")
						metamorphose = KADA;
					
					if(ka_element == "kafeu")
						metamorphose = KADF;
						
					if(ka_element == "kaeau")
						metamorphose = KADE;
						
					if(ka_element == "katerre")
						metamorphose = KADT;	
						
					if(ka_element == "kalune")
						metamorphose = KADL;
					
					console.log("Metamorphose : "+metamorphose);

					var total = (ka_element_value + kabb_sephira_value + ordonnance + metamorphose - malusMag);

					setAttrs({
						["repeating_kabb-invoc_"+id+"_kabb-invoc-current"]: total							
					});
				});
			});
		});
    });
	
	on("change:repeating_alch-form:alch-form-art change:repeating_alch-form:alch-form-ka-1 change:repeating_alch-form:alch-form-ka-2 change:repeating_alch-form:alch-form-subs change:repeating_alch-form:alch-form-degre change:repeating_alch-form:alch-oeuvre-noir change:repeating_alch-form:alch-oeuvre-blanc change:repeating_alch-form:alch-oeuvre-rouge change:kaeau change:kafeu change:katerre change:kaair change:kalune change:alch-athanor-kafeu change:alch-athanor-kaeau change:alch-athanor-katerre change:alch-athanor-kalune change:alch-athanor-kaair change:alch-aludel-kafeu change:alch-aludel-kaeau change:alch-aludel-katerre change:alch-aludel-kalune change:alch-aludel-kaair change:alch-alambic-kafeu change:alch-alambic-kaeau change:alch-alambic-katerre change:alch-alambic-kalune change:alch-alambic-kaair change:alch-cornue-kafeu change:alch-cornue-kaeau change:alch-cornue-katerre change:alch-cornue-kalune change:alch-cornue-kaair change:alch-creuset-kafeu change:alch-creuset-kaeau change:alch-creuset-katerre change:alch-creuset-kalune change:alch-creuset-kaair change:alch-oeuvre-noir change:alch-oeuvre-blanc change:alch-oeuvre-rouge sheet:opened", function()
	{		
		getSectionIDs("repeating_alch-form", function(idarray) 
		{
			_.each(idarray,function(id) 
			{
				getAttrs([
				"repeating_alch-form_"+id+"_alch-form-art", "repeating_alch-form_"+id+"_alch-form-ka-1", "repeating_alch-form_"+id+"_alch-form-ka-2", "repeating_alch-form_"+id+"_alch-form-subs", "repeating_alch-form_"+id+"_alch-form-degre",
				"kaeau", "kafeu", "katerre", "kaair", "kalune", 
				"alch-oeuvre-noir", "alch-oeuvre-blanc", "alch-oeuvre-rouge",
				"alch-athanor-kafeu", "alch-athanor-kaeau", "alch-athanor-katerre", "alch-athanor-kalune", "alch-athanor-kaair",
				"alch-aludel-kafeu", "alch-aludel-kaeau", "alch-aludel-katerre", "alch-aludel-kalune", "alch-aludel-kaair",
				"alch-alambic-kafeu", "alch-alambic-kaeau", "alch-alambic-katerre", "alch-alambic-kalune", "alch-alambic-kaair",
				"alch-cornue-kafeu", "alch-cornue-kaeau", "alch-cornue-katerre", "alch-cornue-kalune", "alch-cornue-kaair",
				"alch-creuset-kafeu", "alch-creuset-kaeau", "alch-creuset-katerre", "alch-creuset-kalune", "alch-creuset-kaair"
				], function(values) 
				{
				
					// On récupère la valeur de la substance qui correspondt à l'id du construct
					var construct = values["repeating_alch-form_"+id+"_alch-form-subs"];
					var ka_element1 = values["repeating_alch-form_"+id+"_alch-form-ka-1"];
					var ka_element2 = values["repeating_alch-form_"+id+"_alch-form-ka-2"];

					// On construit l'id du ka concerné du construct sous la forme : "contruct-kaelement". Cela permet de récupérer la bonne valeur
					var ka_element_value1 = parseInt(values[construct + "-" + ka_element1], 10)||0;
					var ka_element_value2 = parseInt(values[construct + "-" + ka_element2], 10)||0;
				   
					var alch_oeuvre = values["repeating_alch-form_"+id+"_alch-form-art"];
					var alch_oeuvre_value = parseInt(values[alch_oeuvre], 10)||0;
					var degre = parseInt(values["repeating_alch-form_"+id+"_alch-form-degre"], 10)||0;
					
					var totalKa = 0;
					
					if(alch_oeuvre == "alch-oeuvre-blanc")
					{
						if(ka_element1 != "0" && ka_element2 != "0")
							totalKa = Math.min(ka_element_value1, ka_element_value2);
						else if(ka_element1 == "0" && ka_element2 != "0")
							totalKa = ka_element_value2;
						else if(ka_element1 != "0" && ka_element2 == "0")
							totalKa = ka_element_value1;
					}
					else
						totalKa = ka_element_value1 + ka_element_value2;

					var total = (totalKa + alch_oeuvre_value) - degre;
										
					setAttrs({
						["repeating_alch-form_"+id+"_alch-form-current"]: total							
					});
					
					
				});
			});
		});
    });

	on("change:cons-min change:cons-ser change:cons-gra change:cons-mag-min change:cons-mag-ser change:cons-mag-gra sheet:opened", function() 
	{
		getAttrs([
		"cons-min", "cons-ser", "cons-gra",
		"cons-mag-min", "cons-mag-ser", "cons-mag-gra"
		], function(values) 
		{
			const phyM = values["cons-min"];
			const phyS = values["cons-ser"];
			const phyG = values["cons-gra"];
			
			const magM = values["cons-mag-min"];
			const magS = values["cons-mag-ser"];
			const magG = values["cons-mag-gra"];
			
			var totalPhy = 0;
			var totalMag = 0;
			
			if(phyM == "on")
				totalPhy += 2;
			if(phyS == "on")
				totalPhy += 4;
			if(phyG == "on")
				totalPhy += 6;
				
			if(magM == "on")
				totalMag += 2;
			if(magS == "on")
				totalMag += 4;
			if(magG == "on")
				totalMag += 6;
				
			setAttrs({
				["malusMag"]: totalMag,	
				["malusPhy"]: totalPhy		
			});
		});
	});
	
	on("remove:repeating_kabb-ord change:repeating_kabb-ord change:repeating_kabb-ord:kabb-ord-respect sheet:opened", function() 
	{
		
		var total = 0;
		
		setAttrs({
			ordonnanceBonus: 0						
		});
		
		getSectionIDs("repeating_kabb-ord", function(idarray) 
		{
			_.each(idarray,function(id) 
			{
				getAttrs([
				"repeating_kabb-ord_"+id+"_kabb-ord-respect"
				], function(values) 
				{
					var ordonnanceR = values["repeating_kabb-ord_"+id+"_kabb-ord-respect"];

					if(ordonnanceR != "on")
						total += 1;
						
					setAttrs({
						ordonnanceBonus: total						
					});
				});
			});
		});
		
		
	});

	on("sheet:opened change:repeating_savoir-eso", function() 
	{			
		getSectionIDs("repeating_savoir-eso", function(idarray) 
		{
			_.each(idarray,function(id) 
			{
				getAttrs([
				"repeating_savoir-eso_"+id+"_savoir_eso"
				], function(values) 
				{
					const savoir = values["repeating_savoir-eso_"+id+"_savoir_eso"];
					var result = "";
					
					if(savoir == "0")
						result = "";
					else
						result = savoir;
					
					console.log(result);
					
					setAttrs({
						["repeating_savoir-eso_"+id+"_savoir_eso_perso"]: result
					});
				});
			});
		});
	});
	
	on("sheet:opened change:repeating_quetes-eso", function() 
	{			
		getSectionIDs("repeating_quetes-eso", function(idarray) 
		{
			_.each(idarray,function(id) 
			{
				getAttrs([
				"repeating_quetes-eso_"+id+"_quete_eso"
				], function(values) 
				{
					const quete = values["repeating_quetes-eso_"+id+"_quete_eso"];
					var result = "";
					
					if(quete == "0")
						result = "";
					else
						result = quete;
					
					console.log(result);
					
					setAttrs({
						["repeating_quetes-eso_"+id+"_quete_eso_perso"]: result
					});
				});
			});
		});
	});

	on("sheet:opened change:repeating_metamorphose remove:repeating_metamorphose", function() 
	{
		getSectionIDs("repeating_metamorphose", function(idarray) 
		{
			var length = idarray.length;
			
			getAttrs([
			"degreMetamorphe"
			], function(values) 
			{
				const meta = values["degreMetamorphe"];
				if(meta > length)
				{
					setAttrs({
						dMeta: length,
						degreMetamorphe:0
					});
				}
				
				setAttrs({
					dMeta: length
				});
				
				console.log("Meta : "+meta);
			});
		});
	});
</script>

<input type="hidden" name="attr_version" value="1" />
<input type="hidden" name="attr_malusMag" value="0" />
<input type="hidden" name="attr_malusPhy" value="0" />
<input type="hidden" name="attr_KADFeu" value="0" />
<input type="hidden" name="attr_KADTerre" value="0" />
<input type="hidden" name="attr_KADAir" value="0" />
<input type="hidden" name="attr_KADLune" value="0" />
<input type="hidden" name="attr_KADEau" value="0" />

<div class="container">
	<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Nephilim-Legende/img/logo.PNG" class="logo" alt="logo" />
	<div class="menuTop">
		<label class="sapience">
			<span>Points de Sapience</span>
			<input type="number" name="attr_sapience" value="0" />
		</label>
		<div class="options">
			<label>
				<input type="checkbox" name="attr_options" value="1" />
				<span></span>
			</label>
			<input type="hidden" name="attr_options" value="1" />
			<div>
				<label>
					<input type="checkbox" name="attr_gm" value="/w gm" />
					<span title="Jets privés"></span>
				</label>
				<label>
					<input type="checkbox" name="attr_initiative_variable" value="1D6" />
					<span title="Initiative Variable"></span>
				</label>
				<label>
					<input type="checkbox" name="attr_practice_magie" />
					<span title="Pratique la magie"></span>
				</label>
				<label>
					<input type="checkbox" name="attr_practice_kabb" />
					<span title="Pratique la kabbale"></span>
				</label>
				<label>
					<input type="checkbox" name="attr_practice_alch" />
					<span title="Pratique l'alchimie"></span>
				</label>
			</div>
		</div>
	</div>
	
	<input type="hidden" name="attr_practice_magie" class="magie" value="0" />
	<input type="hidden" name="attr_practice_kabb" class="kabbale" value="0" />
	<input type="hidden" name="attr_practice_alch" class="alchimie" value="0" />
	
	<div class="menu">
		<label>
			<input type="radio" name="attr_tab" value="1" />
			<span title="Nephilim"></span>
		</label>
		
		<label>
			<input type="radio" name="attr_tab" value="2" />
			<span title="Simulacre"></span>
		</label>
		
		<label>
			<input type="radio" name="attr_tab" value="3" />
			<span title="Epoques d'incarnation"></span>
		</label>
		
		<label>
			<input type="radio" name="attr_tab" value="4" />
			<span title="Combat"></span>
		</label>
		
		<label>
			<input type="radio" name="attr_tab" value="10" />
			<span title="Arcadia"></span>
		</label>		
		
		<label>
			<input type="radio" name="attr_tab" value="5" />
			<span title="Magie"></span>
		</label>
		
		<label>
			<input type="radio" name="attr_tab" value="6" />
			<span title="Kabbale"></span>
		</label>
			
		<label>
			<input type="radio" name="attr_tab" value="7" />
			<span title="Alchimie"></span>
		</label>
		
		<label>
			<input type="radio" name="attr_tab" value="8" />
			<span title="Constructs"></span>
		</label>
		
		<label>
			<input type="radio" name="attr_tab" value="9" />
			<span title="Fraternité"></span>
		</label>
	</div>
	
	<input type="hidden" name="attr_tab" class="menu" value="1" />
	
	<div class="tab1">
		<div class="col">
			<label class="headerName">
				<span>Nom</span>
				<input type="text" name="attr_character_name" />
			</label>
			<div class="metamorphe">
				<div>
					<h1>Métamorphe</h1>
					<input type="number" name="attr_metamorphe" value="0" />
				</div>
				<input type="text" name="attr_metamorphose_name" />
				<span>Métamorphose</span>
				<span>Permanent</span>
				<fieldset class="repeating_metamorphose">
					<label>
						<span></span>
						<input type="text" name="attr_metamorphose_desc" />
					</label>
					<label>
						<input type="checkbox" name="attr_permanent" />
						<span></span>
					</label>
				</fieldset>
			</div>
			<div class="degreMetamorphe">
				<h1>Degré de métamorphe actif</h1>
				<div>
					<select name="attr_KaDominant">
						<option value="" selected>Ka dominant : Aucun</option>
						<option value="Feu">Ka dominant : Feu</option>
						<option value="Terre">Ka dominant : Terre</option>
						<option value="Air">Ka dominant : Air</option>
						<option value="Lune">Ka dominant : Lune</option>
						<option value="Eau">Ka dominant : Eau</option>
					</select>
				</div>
				<input type="hidden" name="attr_dMeta" value="0" />
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="1" />
					<span title="1"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="2" />
					<span title="2"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="3" />
					<span title="3"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="4" />
					<span title="4"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="5" />
					<span title="5"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="6" />
					<span title="6"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="7" />
					<span title="7"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="8" />
					<span title="8"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="9" />
					<span title="9"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="10" />
					<span title="10"></span>
				</label>
			</div>
		</div>

		<div class="2colT1">
			<div class="kaElement">
				<button type="roll" name="roll_kafeu" value="@{gm} &{template:base} {{name=@{character_name}}} {{jet=[[1d100]]}} {{ka=Ka-Feu}} {{seuil=[[(@{kafeu}+(?{Bonus/Malus ?|0}+@{KADFeu})-@{malusMag})*10]]}}">
					<span>Ka-Feu</span>
				</button>
				<input type="number" name="attr_kafeu" value="1" min="1" />
				
				<button type="roll" name="roll_katerre" value="@{gm} &{template:base} {{name=@{character_name}}} {{jet=[[1d100]]}} {{ka=Ka-Terre}} {{seuil=[[(@{katerre}+(?{Bonus/Malus ?|0}+@{KADTerre})-@{malusMag})*10]]}}">
					<span>Ka-Terre</span>
				</button>
				<input type="number" name="attr_katerre" value="1" min="1" />
				
				<button type="roll" name="roll_kaair" value="@{gm} &{template:base} {{name=@{character_name}}} {{jet=[[1d100]]}} {{ka=Ka-Air}} {{seuil=[[(@{kaair}+(?{Bonus/Malus ?|0}+@{KADAir})-@{malusMag})*10]]}}">
					<span>Ka-Air</span>
				</button>
				<input type="number" name="attr_kaair" value="1" min="1" />
				
				<button type="roll" name="roll_kalune" value="@{gm} &{template:base} {{name=@{character_name}}} {{jet=[[1d100]]}} {{ka=Ka-Lune}} {{seuil=[[(@{kalune}+(?{Bonus/Malus ?|0}+@{KADLune})-@{malusMag})*10]]}}">
					<span>Ka-Lune</span>
				</button>
				<input type="number" name="attr_kalune" value="1" min="1" />
				
				<button type="roll" name="roll_kaeau" value="@{gm} &{template:base} {{name=@{character_name}}} {{jet=[[1d100]]}} {{ka=Ka-Eau}} {{seuil=[[(@{kaeau}+(?{Bonus/Malus ?|0}+@{KADEau})-@{malusMag})*10]]}}">
					<span>Ka-Eau</span>
				</button>
				<input type="number" name="attr_kaeau" value="1" min="1" />
			</div>
		</div>

		<div class="nephilimPhrase">
			<span>Votre Nephilim en une phrase :</span>
			<div class="autoex autoex24">
				<textarea name="attr_en_une_phrase"></textarea>
				<span name="attr_en_une_phrase"></span>
			</div>
		</div>

		<div class="col2">
			<div class="chutes">
				<h1>Chutes</h1>
				<div>
					<div>
						<h2>Khaïba</h2>
						<input type="hidden" name="attr_kaiba" value="0" />
						<label>
							<input type="radio" name="attr_kaiba" value="0" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_kaiba" value="1" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_kaiba" value="2" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_kaiba" value="3" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_kaiba" value="4" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_kaiba" value="5" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_kaiba" value="6" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_kaiba" value="7" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_kaiba" value="8" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_kaiba" value="9" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_kaiba" value="10" />
							<span></span>
						</label>
					</div>
					<input type="text" name="attr_kaiba_form" />
				</div>
				<div>
					<div>
						<h2>Ombre</h2>
						<input type="hidden" name="attr_ombre" value="0" />
						<label>
							<input type="radio" name="attr_ombre" value="0" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_ombre" value="1" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_ombre" value="2" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_ombre" value="3" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_ombre" value="4" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_ombre" value="5" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_ombre" value="6" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_ombre" value="7" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_ombre" value="8" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_ombre" value="9" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_ombre" value="10" />
							<span></span>
						</label>
					</div>
					<input type="text" name="attr_ombre_form" />
				</div>
				<div>
					<div>
						<h2>Narcose</h2>
						<input type="hidden" name="attr_narcose" value="0" />
						<label>
							<input type="radio" name="attr_narcose" value="0" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_narcose" value="1" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_narcose" value="2" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_narcose" value="3" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_narcose" value="4" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_narcose" value="5" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_narcose" value="6" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_narcose" value="7" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_narcose" value="8" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_narcose" value="9" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_narcose" value="10" />
							<span></span>
						</label>
					</div>
					<input type="text" name="attr_narcose_form" />
				</div>
				<div>
					<div>
						<h2>Entropie lunaire</h2>
						<input type="hidden" name="attr_entropieLunaire" value="0" />
						<label>
							<input type="radio" name="attr_entropieLunaire" value="0" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_entropieLunaire" value="1" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_entropieLunaire" value="2" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_entropieLunaire" value="3" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_entropieLunaire" value="4" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_entropieLunaire" value="5" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_entropieLunaire" value="6" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_entropieLunaire" value="7" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_entropieLunaire" value="8" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_entropieLunaire" value="9" />
							<span></span>
						</label>
						<label>
							<input type="radio" name="attr_entropieLunaire" value="10" />
							<span></span>
						</label>
					</div>
					<input type="text" name="attr_entropieLunaire_form" />
				</div>
			</div>
		</div>
		<div class="col2">
			<div class="adoption">
				<div>
					<h1>Adoption</h1>
					<input type="number" name="attr_simu-attr_arc_degre" value="0" />
				</div>
				<div class="autoex autoex40">
					<textarea name="attr_arc_name"></textarea>
					<span name="attr_arc_name"></span>
				</div>
			</div>
			<div class="stase">
				<div>
					<h1>Stase</h1>
					<input type="number" name="attr_simu-attr_stase_degre" value="0" />
				</div>
				<div class="autoex autoex40">
					<textarea name="attr_stase_name"></textarea>
					<span name="attr_stase_name"></span>
				</div>
			</div>
		</div>
	</div>
	
	<div class="tab2">
		<div class="simulacreVecu">
			<h1>Simulacre</h1>
			<input type="text" name="attr_simu_vecu" placeholder="Vécu" />
			<input type="number" name="attr_simu-vecu-nbr" value="0" />
			<select name="attr_approche">
				<option value="{{seuil=[[(@{simu-vecu-nbr}+0+?{Bonus/Malus ?|0})*10]]}} {{approche=Aucune approche}}" selected>Aucune approche</option>
				<option value="{{seuil=[[(@{simu-vecu-nbr}+@{kafeu}+?{Bonus/Malus ?|0}+@{KADFeu}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche de Feu}}">Approche de Feu</option>
				<option value="{{seuil=[[(@{simu-vecu-nbr}+@{kaair}+?{Bonus/Malus ?|0}+@{KADAir}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche d'Air}}">Approche d'Air</option>
				<option value="{{seuil=[[(@{simu-vecu-nbr}+@{kaeau}+?{Bonus/Malus ?|0}+@{KADEau}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche d'Eau}}">Approche d'Eau</option>
				<option value="{{seuil=[[(@{simu-vecu-nbr}+@{katerre}+?{Bonus/Malus ?|0}+@{KADTerre}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche de Terre}}">Approche de Terre</option>
				<option value="{{seuil=[[(@{simu-vecu-nbr}+@{kalune}+?{Bonus/Malus ?|0}+@{KADLune}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche de Lune}}">Approche de Lune</option>
			</select>
			<button type="roll" name="roll_vecu" value="@{gm} &{template:base} {{name=@{character_name}}} {{vecu=@{simu_vecu}}} {{jet=[[1d100]]}} @{approche}"></button>
		</div>
		
		<div class="col2">
			<div class="simulacreIdentite1">
				<label>
					<span>Nom</span>
					<input type="text" name="attr_simu_name" />
				</label>
				
				<label>
					<span>Ka-Soleil</span>
					<input type="number" name="attr_simu-kasoleil" value="0" />
				</label>
			</div>
		
			<div class="simulacreDescription">
				<h1>Description</h1>
				
				<div class="autoex autoex40">
					<textarea name="attr_simu-descr"></textarea>
					<span name="attr_simu-descr"></span>
				</div>
			</div>
			
			<div class="simulacreProches">
				<h1>Proches</h1>
				
				<div class="autoex autoex40">
					<textarea name="attr_simu-proches"></textarea>
					<span name="attr_simu-proches"></span>
				</div>
			</div>
		</div>
		
		<div class="col2">
			<div class="simulacreIdentite2">
				<label>
					<span>Genre</span>
					<input type="text" name="attr_simu_genre" />
				</label>
				
				<label>
					<span>Âge</span>
					<input type="number" name="attr_simu_age" value="0" />
				</label>
			</div>

			<div class="simulacreRessources">
				<label>
					<h1>Ressources et possessions notables</h1>
					<input type="number" name="simu_ressources_value" value="0" />
				</label>
				
				<div class="autoex autoex40">
					<textarea name="attr_simu-ress"></textarea>
					<span name="attr_simu-ress"></span>
				</div>
			</div>
			
			<div class="degreMetamorphe">
				<h1>Degré de métamorphe actif</h1>
				<input type="hidden" name="attr_dMeta" value="0" />
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="1" />
					<span title="1"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="2" />
					<span title="2"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="3" />
					<span title="3"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="4" />
					<span title="4"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="5" />
					<span title="5"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="6" />
					<span title="6"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="7" />
					<span title="7"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="8" />
					<span title="8"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="9" />
					<span title="9"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="10" />
					<span title="10"></span>
				</label>
			</div>
		
			<div class="equipement">
				<h1>Équipements</h1>
				<fieldset class="repeating_equipements">
					<div class="autoex autoex22">
						<textarea name="attr_equipement"></textarea>
						<span name="attr_equipement"></span>
					</div>
				</fieldset>
			</div>
		</div>
	</div>
	
	<div class="tab3">
		<div class="degreMetamorphe">
			<h1>Degré de métamorphe actif</h1>
			<input type="hidden" name="attr_dMeta" value="0" />
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="1" />
				<span title="1"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="2" />
				<span title="2"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="3" />
				<span title="3"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="4" />
				<span title="4"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="5" />
				<span title="5"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="6" />
				<span title="6"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="7" />
				<span title="7"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="8" />
				<span title="8"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="9" />
				<span title="9"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="10" />
				<span title="10"></span>
			</label>
		</div>
		
		<div class="epoquesIncarnation">
			<h1>Époques d'incarnation</h1>
			<h1>Vécus passés</h1>
			<h1>Effets Mnémos</h1>
			<fieldset class="repeating_epoques-incarnation">
				<div>
					<label>
						<input type="checkbox" name="attr_expandEpoque" value="1" checked />
						<span></span>
					</label>
					<select name="attr_epoque">
						<option value="0" selected></option>
						<option value="chute-atlantide">La Chute de l'Atlantide</option>
						<option value="deluge">Le Déluge</option>
						<option value="premiers-dieux">Les premiers dieux</option>
						<option value="premiers-peuple">Le premier peuple</option>
						<option value="premiere-cite">La première cité</option>
						<option value="premiers-megalithes">Les premiers mégalithes</option>
						<option value="thuatha-danann">Les Tuatha de Danann</option>
						<option value="mahabharata">Le Mahabharata</option>
						<option value="labyrinthe-minos">Le labyrinthe de Minos</option>
						<option value="reve-akhenathon">Le rêve d'Akhenathon</option>
						<option value="chute-troie">La Chute de Troie</option>
						<option value="empire-perse">L'empire perse</option>
						<option value="empire-babylone">L'empire de Babylone</option>
						<option value="empire-lexandre">L'empire d'Alexandre</option>
						<option value="empire-carthage">L'empire de Carthage</option>
						<option value="empire-rome">L'empire de Rome</option>
						<option value="incident-jesus">L'incident Jésus</option>
						<option value="arthuriades">Les Arthuriades</option>
						<option value="croisades">Les croisades</option>
						<option value="buchers-cathares">Les bûchers cathares</option>
						<option value="chute-temple">La chute du Temple</option>
						<option value="arcanes-renaissance">Les arcanes de la Renaissance</option>
						<option value="secret-porte">Les secrets de la Sublime Porte</option>
						<option value="cour-roi-soleil">La cour du Roi-Soleil</option>
						<option value="conspiration-revolution">Les conspirations de la Révolution</option>
						<option value="vapeurs-victoriennes">Les vapeurs victoriennes</option>
						<option value="secession-viennoise">La Sécession viennoise</option>
						<option value="anness-folles">Les années folles</option>
						<option value="annees-noires">Les années noires</option>
						<option value="eveil">L'Eveil</option>
						<option value="chroniques-apocalypse">Les Chroniques de l'Apocalypse</option>
						<option value="perso">Personnalisé</option>
					</select>
					<input type="hidden" name="attr_epoque" value="0" />
					<input type="text" class="perso" name="attr_epoquePerso" value="" />
					<input type="hidden" name="attr_expandEpoque" value="1" />
					<div class="autoex autoex24">
						<textarea name="attr_epoque_description"></textarea>
						<span name="attr_epoque_description"></span>
					</div>
				</div>
				<div>
					<label>
						<input type="checkbox" name="attr_expandVecus" value="1" checked />
						<span></span>
					</label>
					<input type="text" name="attr_vecu" />
					<input type="number" name="attr_degres_vecu_passe" value="0" />
					<input type="hidden" name="attr_expandVecus" value="1" />
					<div class="autoex autoex24">
						<textarea name="attr_vecu_description"></textarea>
						<span name="attr_vecu_description"></span>
					</div>
					<select name="attr_approche">
						<option value="{{seuil=[[(@{degres_vecu_passe}+0+?{Bonus/Malus ?|0}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy})*10]]}} {{approche=Aucune approche}}" selected>Aucune approche</option>
						<option value="{{seuil=[[(@{degres_vecu_passe}+@{kafeu}+?{Bonus/Malus ?|0}+@{KADFeu}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche de Feu}}">Approche de Feu</option>
						<option value="{{seuil=[[(@{degres_vecu_passe}+@{kaair}+?{Bonus/Malus ?|0}+@{KADAir}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche d'Air}}">Approche d'Air</option>
						<option value="{{seuil=[[(@{degres_vecu_passe}+@{kaeau}+?{Bonus/Malus ?|0}+@{KADEau}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche d'Eau}}">Approche d'Eau</option>
						<option value="{{seuil=[[(@{degres_vecu_passe}+@{katerre}+?{Bonus/Malus ?|0}+@{KADTerre}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche de Terre}}">Approche de Terre</option>
						<option value="{{seuil=[[(@{degres_vecu_passe}+@{kalune}+?{Bonus/Malus ?|0}+@{KADLune}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche de Lune}}">Approche de Lune</option>
					</select>
					<button type="roll" name="roll_vecu" value="@{gm} &{template:base} {{name=@{character_name}}} {{vecu=@{vecu}}} {{mnemos1=@{mnemos1}}} {{mnemos2=@{mnemos2}}} {{jet=[[1d100]]}} @{approche}"></button>
				</div>
				<div>
					<div>
						<label>
							<input type="checkbox" name="attr_expandMnemos1" value="1" />
							<span></span>
						</label>
						<input type="text" name="attr_mnemos1" />
						<input type="number" name="attr_degres_mnemos1" value="0" />
						<input type="hidden" name="attr_expandMnemos1" value="1" />
						<div class="autoex autoex24">
							<textarea name="attr_mnemos_description1"></textarea>
							<span name="attr_mnemos_description1"></span>
						</div>
					</div>
					<div>
						<label>
							<input type="checkbox" name="attr_expandMnemos2" value="1" />
							<span></span>
						</label>
						<input type="text" name="attr_mnemos2" />
						<input type="number" name="attr_degres_mnemos2" value="0" />
						<input type="hidden" name="attr_expandMnemos2" value="1" />
						<div class="autoex autoex24">
							<textarea name="attr_mnemos_description2"></textarea>
							<span name="attr_mnemos_description2"></span>
						</div>
					</div>
				</div>
			</fieldset>
		</div>
		
		<div class="col2">
			<div class="quetesEsoteriques">
				<h1>Quêtes ésotériques</h1>
				<fieldset class="repeating_quetes-eso">
					<select name="attr_quete_eso">
						<option value=""></option>
						<option value="Arcadia">Arcadia</option>
						<option value="Arcane XXI">Arcane XXI</option>
						<option value="Arche d'Alliance">Arche d'Alliance</option>
						<option value="Atalante Fugitive">Atalante Fugitive</option>
						<option value="Champs Polemoka">Champs Polemoka</option>
						<option value="Cité des Vertiges">Cité des Vertiges</option>
						<option value="Exode Sidéral">Exode Sidéral</option>
						<option value="Hyperborée">Hyperborée</option>
						<option value="Jérusalem Céleste">Jérusalem Céleste</option>
						<option value="Le Sentier d'Or">Le Sentier d'Or</option>
						<option value="Porte Noire">Porte Noire</option>
						<option value="Quête du Graal">Quête du Graal</option>
						<option value="Rex Mundi">Rex Mundi</option>
						<option value="Table d'Émeraude">Table d'Émeraude</option>
						<option value="Toison d'Or">Toison d'Or</option>
						<option value="Trésor des Templiers">Trésor des Templiers</option>
						<option value="0">Personnalisé</option>
					</select>
					<input type="number" name="attr_quete_eso_degres" />
					<input type="hidden" name="attr_quete_eso" />
					<button type="roll" name="roll_quetesEsoteriques" value="@{gm} &{template:base} {{name=@{character_name}}} {{vecu=@{quete_eso}}} {{jet=[[1d100]]}} {{@{quete_eso}=@{quete_eso}}} {{vecuP=@{quete_eso_perso}}} {{special=special}} {{seuil=[[(@{quete_eso_degres}+?{Bonus/Malus ?|0})*10]]}}" ></button>
					<input type="text" name="attr_quete_eso_perso" />
				</fieldset>
			</div>
		</div>
		
		<div class="col2">
			<div class="savoirsEsoteriques">
				<h1>Savoirs ésotériques</h1>
				<fieldset class="repeating_savoir-eso">
					<select name="attr_savoir_eso">
						<option value="0">-- Savoir --</option>
						<option value="666">666</option>
						<option value="Akasha">Akasha</option>
						<option value="Ar-Kaim">Ar-Kaïm</option>
						<option value="Arcanes Majeurs">Arcanes Majeurs</option>
						<option value="Architectonique">Architectonique</option>
						<option value="Bohémiens">Bohémiens</option>
						<option value="Champs Magiques">Champs Magiques</option>
						<option value="Cousins">Cousins</option>
						<option value="Drakaon">Drakaon</option>
						<option value="Effets-Dragons">Effets-Dragons</option>
						<option value="Histoire Invisible">Histoire Invisible</option>
						<option value="Kaim">Kaïm</option>
						<option value="Lune Noire">Lune Noire</option>
						<option value="Mystères">Mystères</option>
						<option value="Nephilim">Nephilim</option>
						<option value="Orichalque">Orichalque</option>
						<option value="Révélation">Révélation</option>
						<option value="Rose+Croix">Rose+Croix</option>
						<option value="Sciences Occultes">Sciences Occultes</option>
						<option value="Selenim">Selenim</option>
						<option value="Synarchie">Synarchie</option>
						<option value="Templiers">Templiers</option>
						<option value="0">Personnalisé</option>
					</select>
					<input name="attr_savoir_eso_degres" type="number" value="0" />
					<input type="hidden" name="attr_savoir_eso" />
					<button type="roll" name="roll_savoirsEsoteriques" value="@{gm} &{template:base} {{name=@{character_name}}} {{vecu=@{savoir_eso}}} {{jet=[[1d100]]}} {{vecuP=@{savoir_eso_perso}}} {{special=special}} {{seuil=[[(@{savoir_eso_degres}+?{Bonus/Malus ?|0})*10]]}}" ></button>
					<input type="text" name="attr_savoir_eso_perso" />
				</fieldset>
			</div>
		</div>
	</div>

	<div class="tab4">
		<div class="col">
			<div class="actionsAttributs">
				<h1>Actions et attributs</h1>
				<div>
					<button type="roll" name="roll_initiative" value="@{gm} &{template:initiative} {{name=@{character_name}}} {{jet=[[ [[@{init}]]+@{initiative_variable} &{tracker}]]}}"><span>Initiative</span></button>
					<input type="number" name="attr_init" value="@{kaeau}*2" disabled />
				</div>
				<label>
					<span>Récupération</span>
					<input type="number" name="attr_recup" value="11-@{katerre}" disabled />
				</label>
				<label>
					<span>Mouvement</span>
					<input type="number" name="attr_mouv" value="@{kaeau}*2" disabled />
				</label>
				<label>
					<span>Bonus de Dommages</span>
					<input type="number" name="attr_bonus-dom" value="0" readonly />
				</label>
				<label>
					<span>Perspicacité</span>
					<input type="number" name="attr_persp" value="11-@{kaair}" disabled />
				</label>
				<label>
					<span>Voile</span>
					<input type="number" name="attr_voile" value="0" readonly />
				</label>
			</div>
		</div>

		<div class="col">
			<div class="dommagesPhysiques">
				<h1>Dommages physiques</h1>
				<div>
					<input type="hidden" name="attr_katerre" value="0" />
								
					<label>
						<span>1</span>
						<input type="checkbox" name="attr_dom1" value="1" />
						<span></span>
					</label>
					
					<label>
						<span>2</span>
						<input type="checkbox" name="attr_dom2" value="2" />
						<span></span>
					</label>
					
					<label>
						<span>3</span>
						<input type="checkbox" name="attr_dom3" value="3" />
						<span></span>
					</label>
					
					<label>
						<span>1</span>
						<input type="checkbox" name="attr_dom4" value="4" />
						<span></span>
					</label>
					
					<label>
						<span>1</span>
						<input type="checkbox" name="attr_dom5" value="5" />
						<span></span>
					</label>
				</div>
				<span>Conséquences</span>
				<div>
					<span>Mineure</span>
					<span>-2</span>
					<label>
						<input type="checkbox" name="attr_cons-min" />
						<span></span>
					</label>
					<input type="text" name="attr_cons-min-desc" />
				</div>
				<div>
					<span>Sérieuse</span>
					<span>-4</span>
					<label>
						<input type="checkbox" name="attr_cons-ser" />
						<span></span>
					</label>
					<input type="text" name="attr_cons-ser-desc" />
				</div>
				<div>
					<span>Grave</span>
					<span>-6</span>
					<label>
						<input type="checkbox" name="attr_cons-gra" />
						<span></span>
					</label>
					<input type="text" name="attr_cons-gra-desc" />
				</div>
			</div>	
		</div>
	
		<div class="col">
			<div class="dommagesMagiques">
				<h1>Dommages magiques</h1>
				<div>
					<input type="hidden" name="attr_dom-mag" value="0" />
					
					<label>
						<span>1</span>
						<input type="checkbox" name="attr_dom-mag1" value="1" />
						<span></span>
					</label>
					
					<label>
						<span>2</span>
						<input type="checkbox" name="attr_dom-mag2" value="2" />
						<span></span>
					</label>
					
					<label>
						<span>3</span>
						<input type="checkbox" name="attr_dom-mag3" value="3" />
						<span></span>
					</label>
				</div>
				<span>Conséquences</span>
				<div>
					<span>Mineure</span>
					<span>-2</span>
					<label>
						<input type="checkbox" name="attr_cons-mag-min" />
						<span></span>
					</label>
					<input type="text" name="attr_cons-mag-min-desc" />
				</div>
				<div>
					<span>Sérieuse</span>
					<span>-4</span>
					<label>
						<input type="checkbox" name="attr_cons-mag-ser" />
						<span></span>
					</label>
					<input type="text" name="attr_cons-mag-ser-desc" />
				</div>
				<div>
					<span>Grave</span>
					<span>-6</span>
					<label>
						<input type="checkbox" name="attr_cons-mag-gra" />
						<span></span>
					</label>
					<input type="text" name="attr_cons-mag-gra-desc" />
				</div>
			</div>
		</div>
		
		<div class="degreMetamorphe">
			<h1>Degré de métamorphe actif</h1>
			<input type="hidden" name="attr_dMeta" value="0" />
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="1" />
				<span title="1"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="2" />
				<span title="2"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="3" />
				<span title="3"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="4" />
				<span title="4"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="5" />
				<span title="5"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="6" />
				<span title="6"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="7" />
				<span title="7"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="8" />
				<span title="8"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="9" />
				<span title="9"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="10" />
				<span title="10"></span>
			</label>
		</div>
		
		<div class="epoquesIncarnation">
			<h1>Époques d'incarnation</h1>
			<h1>Vécus passés</h1>
			<h1>Effets Mnémos</h1>
			<fieldset class="repeating_epoques-incarnation">
				<div>
					<label>
						<input type="checkbox" name="attr_expandEpoque" value="1" checked />
						<span></span>
					</label>
					<select name="attr_epoque">
						<option value="0" selected></option>
						<option value="chute-atlantide">La Chute de l'Atlantide</option>
						<option value="deluge">Le Déluge</option>
						<option value="premiers-dieux">Les premiers dieux</option>
						<option value="premiers-peuple">Le premier peuple</option>
						<option value="premiere-cite">La première cité</option>
						<option value="premiers-megalithes">Les premiers mégalithes</option>
						<option value="thuatha-danann">Les Tuatha de Danann</option>
						<option value="mahabharata">Le Mahabharata</option>
						<option value="labyrinthe-minos">Le labyrinthe de Minos</option>
						<option value="reve-akhenathon">Le rêve d'Akhenathon</option>
						<option value="chute-troie">La Chute de Troie</option>
						<option value="empire-perse">L'empire perse</option>
						<option value="empire-babylone">L'empire de Babylone</option>
						<option value="empire-lexandre">L'empire d'Alexandre</option>
						<option value="empire-carthage">L'empire de Carthage</option>
						<option value="empire-rome">L'empire de Rome</option>
						<option value="incident-jesus">L'incident Jésus</option>
						<option value="arthuriades">Les Arthuriades</option>
						<option value="croisades">Les croisades</option>
						<option value="buchers-cathares">Les bûchers cathares</option>
						<option value="chute-temple">La chute du Temple</option>
						<option value="arcanes-renaissance">Les arcanes de la Renaissance</option>
						<option value="secret-porte">Les secrets de la Sublime Porte</option>
						<option value="cour-roi-soleil">La cour du Roi-Soleil</option>
						<option value="conspiration-revolution">Les conspirations de la Révolution</option>
						<option value="vapeurs-victoriennes">Les vapeurs victoriennes</option>
						<option value="secession-viennoise">La Sécession viennoise</option>
						<option value="anness-folles">Les années folles</option>
						<option value="annees-noires">Les années noires</option>
						<option value="eveil">L'Eveil</option>
						<option value="chroniques-apocalypse">Les Chroniques de l'Apocalypse</option>
						<option value="perso">Personnalisé</option>
					</select>
					<input type="hidden" name="attr_epoque" value="0" />
					<input type="text" class="perso" name="attr_epoquePerso" value="" />
					<input type="hidden" name="attr_expandEpoque" value="1" />
					<div class="autoex autoex24">
						<textarea name="attr_epoque_description"></textarea>
						<span name="attr_epoque_description"></span>
					</div>
				</div>
				<div>
					<label>
						<input type="checkbox" name="attr_expandVecus" value="1" checked />
						<span></span>
					</label>
					<input type="text" name="attr_vecu" />
					<input type="number" name="attr_degres_vecu_passe" value="0" />
					<input type="hidden" name="attr_expandVecus" value="1" />
					<div class="autoex autoex24">
						<textarea name="attr_vecu_description"></textarea>
						<span name="attr_vecu_description"></span>
					</div>
					<select name="attr_approche">
						<option value="{{seuil=[[(@{degres_vecu_passe}+0+?{Bonus/Malus ?|0}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy})*10]]}} {{approche=Aucune approche}}" selected>Aucune approche</option>
						<option value="{{seuil=[[(@{degres_vecu_passe}+@{kafeu}+?{Bonus/Malus ?|0}+@{KADFeu}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche de Feu}}">Approche de Feu</option>
						<option value="{{seuil=[[(@{degres_vecu_passe}+@{kaair}+?{Bonus/Malus ?|0}+@{KADAir}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche d'Air}}">Approche d'Air</option>
						<option value="{{seuil=[[(@{degres_vecu_passe}+@{kaeau}+?{Bonus/Malus ?|0}+@{KADEau}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche d'Eau}}">Approche d'Eau</option>
						<option value="{{seuil=[[(@{degres_vecu_passe}+@{katerre}+?{Bonus/Malus ?|0}+@{KADTerre}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche de Terre}}">Approche de Terre</option>
						<option value="{{seuil=[[(@{degres_vecu_passe}+@{kalune}+?{Bonus/Malus ?|0}+@{KADLune}+@{degres_mnemos1}+@{degres_mnemos2}-@{malusPhy}-@{malusMag})*10]]}} {{approche=Approche de Lune}}">Approche de Lune</option>
					</select>
					<button type="roll" name="roll_vecu" value="@{gm} &{template:base} {{name=@{character_name}}} {{vecu=@{vecu}}} {{mnemos1=@{mnemos1}}} {{mnemos2=@{mnemos2}}} {{jet=[[1d100]]}} @{approche}"></button>
				</div>
				<div>
					<div>
						<label>
							<input type="checkbox" name="attr_expandMnemos1" value="1" />
							<span></span>
						</label>
						<input type="text" name="attr_mnemos1" />
						<input type="number" name="attr_degres_mnemos1" value="0" />
						<input type="hidden" name="attr_expandMnemos1" value="1" />
						<div class="autoex autoex24">
							<textarea name="attr_mnemos_description1"></textarea>
							<span name="attr_mnemos_description1"></span>
						</div>
					</div>
					<div>
						<label>
							<input type="checkbox" name="attr_expandMnemos2" value="1" />
							<span></span>
						</label>
						<input type="text" name="attr_mnemos2" />
						<input type="number" name="attr_degres_mnemos2" value="0" />
						<input type="hidden" name="attr_expandMnemos2" value="1" />
						<div class="autoex autoex24">
							<textarea name="attr_mnemos_description2"></textarea>
							<span name="attr_mnemos_description2"></span>
						</div>
					</div>
				</div>
			</fieldset>
		</div>
		
		<div class="col2">
			<div class="armes">
				<h1>Armes de mêlée</h1>
				<span>Type</span>
				<span>Dommages</span>
				<fieldset class="repeating_poss-arme">
					<input type="text" name="attr_poss-arme-nom" />
					<input type="number" name="attr_poss-arme-degre" value="0" />
				</fieldset>
			</div>
			
			<div class="artefacts">
				<h1>Artefacts</h1>
				<fieldset class="repeating_posse-artefact-eso">
					<input type="text" name="attr_poss-artefact-name" />
					<select name="attr_poss-artefact-ka">
						<option value="0">-- Ka-élément --</option>
						<option value="kaair">Air</option>
						<option value="kaeau">Eau</option>
						<option value="kafeu">Feu</option>
						<option value="kalune">Lune</option>
						<option value="katerre">Terre</option>
					</select>
					<input name="attr_poss-artefact-score" type="number" value="0" />
					<div class="autoex autoex22">
						<textarea name="attr_poss-artefact-def" ></textarea>
						<span name="attr_poss-artefact-def"></span>
					</div>
				</fieldset>
			</div>
		
			<div class="alchimie">
				<h1>Objets d'alchimie synthétisés</h1>
				<fieldset class="repeating_objets-alchimie">
					<div class="autoex autoex22">
						<textarea name="attr_objets"></textarea>
						<span name="attr_objets"></span>
					</div>
				</fieldset>
			</div>
		</div>
		<div class="col2">
			<div class="armes armesFeu">
				<h1>Armes à feu</h1>
				<span>Type</span>
				<span>Dommages</span>
				<fieldset class="repeating_poss-arme-feu">
					<input type="text" name="attr_poss-arme-nom" />
					<input type="number" name="attr_poss-arme-degre" value="0" />
				</fieldset>
			</div>
			
			<div class="armures">
				<h1>Armures</h1>
				<span>Type</span>
				<span>Protection</span>
				<fieldset class="repeating_poss-protec">
					<input type="text" name="attr_poss-protec-nom" />
					<input type="number" name="attr_poss-protec-degre" value="0" />
				</fieldset>
			</div>
		</div>
	</div>	

	<div class="tab5">
		<h1 class="titreMagie">Magie</h1>
	
		<div class="col40">
			<div class="cercleMagie cercleMagie1">
				<label>
					<h1>1er Cercle - Basse Magie</h1>
					<input type="number" name="attr_mag-basse-degre" value="0" />
				</label>
			</div>
			<div class="cercleMagie cercleMagie2 cercleMargin">
				<label>
					<h1>2e Cercle  - Haute Magie</h1>
					<input type="number" name="attr_mag-haute-degre" value="0" />
				</label>
			</div>
			<div class="cercleMagie cercleMagie3 cercleMargin">
				<label>
					<h1>3e Cercle - Grand Secret</h1>
					<input type="number" name="attr_mag-secret-degre" value="0" />
				</label>
			</div>
		</div>
		<div class="col60">
			<div class="vIEL">
				<h1>Voie initiatique</h1>
				<select name="attr_mag-voie">
					<option value="0" selected></option>
					<option value="sentier-sinueux">Sentier sinueux</option>
					<option value="spirale-elevation">Spirale d'élèvation</option>
					<option value="principe-egarants">Principes égarants</option>
					<option value="labyrinthe-ame">Labyrinthe schématique</option>
					<option value="dedale-ame">Dédale de l'âme</option>
				</select>
			</div>
			<div class="vIEL">
				<h1>Étape Labyrinthique</h1>
				<select name="attr_mag-etape">
					<option value="0" selected></option>
					<option value="porche">Porche</option>
					<option value="carrefour">Carrefour</option>
					<option value="coeur">Coeur</option>
					<option value="fil">Fil</option>
					<option value="epreuve">Epreuve</option>
				</select>
			</div>
		</div>
		
		<div class="degreMetamorphe">
			<h1>Degré de métamorphe actif</h1>
			<input type="hidden" name="attr_dMeta" value="0" />
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="1" />
				<span title="1"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="2" />
				<span title="2"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="3" />
				<span title="3"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="4" />
				<span title="4"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="5" />
				<span title="5"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="6" />
				<span title="6"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="7" />
				<span title="7"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="8" />
				<span title="8"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="9" />
				<span title="9"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="10" />
				<span title="10"></span>
			</label>
		</div>
	
		<div class="sorts">
			<h1>Sorts</h1>
			<span>Nom du sort</span>
			<span>Ka</span>
			<span>Cercle</span>
			<span>Degré</span>
			<span>Portée</span>
			<span>Durée</span>
			<span title="Appris">A</span>
			<span title="Tatoué">T</span>
			<span title="Sur Focus">F</span>
			<span></span>
			<fieldset class="repeating_mag-sort">
				<label>
					<input type="checkbox" name="attr_expand" value="1" checked />
					<span></span>
				</label>
				<input type="text" name="attr_mag-sort-nom" /> 
				<select name="attr_mag-sort-ka">
					<option value="0"></option>
					<option value="kaair">Air</option>
					<option value="kaeau">Eau</option>
					<option value="kafeu">Feu</option>
					<option value="kalune">Lune</option>
					<option value="katerre">Terre</option>
				</select>
				<select name="attr_mag-sort-cercle">
					<option value="0"></option>
					<option value="mag-basse-degre">1er</option>
					<option value="mag-haute-degre">2ème</option>
					<option value="mag-secret-degre">3ème</option>
				</select>
				<input type="number" name="attr_mag-sort-degre" value="0" />
				<input type="text" name="attr_mag-sort-portee" />
				<input type="text" name="attr_mag-sort-duree" />
				<label>
					<input type="checkbox" name="attr_mag-sort-a" value="1" title="Appris" />
					<span></span>
				</label>
				<label>
					<input type="checkbox" name="attr_mag-sort-t" value="1" title="Tatoué" />
					<span></span>
				</label>
				<label>
					<input type="checkbox" name="attr_mag-sort-f" value="1" title="Sur Focus" />
					<span></span>
				</label>
				<button type="roll" name="sheet-simu-roll-vecu" value="&amp;{template:sort} {{name=@{character_name} }} {{nom_sort=@{mag-sort-nom} }} {{descrip_sort=@{mag-sort-desc}}} {{portee_sort=@{mag-sort-portee}}} {{duree_sort=@{mag-sort-duree}}} {{degre=@{mag-sort-degre}}} {{jet=[[1d100]] }}{{seuil=[[(?{Bonus / malus ?|0}[ Bonus, malus, vécus, etc. ]+@{mag-sort-current}[ Cercle + Ka - Degré ])*10]]}}"></button>
				<input type="hidden" name="attr_expand" value="1" />
				<div>
					<label>
						<span>Voie</span>
						<select class="sheet-mag-sort-voie" name="attr_mag-sort-voie">
							<option value="0" selected></option>
							<option value="sentier-sinueux">Sentier sinueux</option>
							<option value="spirale-elevation">Spirale d'élèvation</option>
							<option value="principe-egarants">Principes égarants</option>
							<option value="labyrinthe-ame">Labyrinthe schématique</option>
							<option value="dedale-ame">Dédale de l'âme</option>
						</select>
					</label>
					<label>
						<span>Étape</span>
						<select class="sheet-mag-sort-etape" name="attr_mag-sort-etape">
							<option value="0" selected></option>
							<option value="porche">Porche</option>
							<option value="carrefour">Carrefour</option>
							<option value="coeur">Coeur</option>
							<option value="fil">Fil</option>
							<option value="epreuve">Epreuve</option>
						</select>
					</label>
					<label>
						<span>Difficulté</span>
						<input type="number" name="attr_mag-sort-current" value="0" readonly />
                    </label>
					<label>
						<span>Page</span>
						<input type="number" name="attr_mag-sort-page" value="0" />
					</label>
					<div class="autoex autoex22">
						<textarea name="attr_mag-sort-desc" placeholder="Description"></textarea>
						<span name="attr_mag-sort-desc"></span>
					</div>
				</div>
			</fieldset>
		</div>
	
	</div>

	<div class="tab6">
		<h1 class="titreKabbale">Kabbale</h1>
		<div class="col2">
			<div class="cercleArbreKabbale">
				<span>3ᶱ Cercle</span>
				<span>2ᶱ Cercle</span>
				<span>1ᶱ Cercle</span>
			</div>
			<div class="colArbreKabbaleR">
				<div class="arbreKabbale">
					<label class="kether">
						<span>Kether</span>
						<input type="number" name="attr_kheter" value="0" />
					</label>
					<label class="binah">
						<span>Binah</span>
						<input type="number" name="attr_binah" value="0" />
					</label>
					<label class="hokmah">
						<span>Hokmah</span>
						<input type="number" name="attr_hokmah" value="0" />
					</label>
					<label class="chesed">
						<span>Chesed</span>
						<input type="number" name="attr_chesed" value="0" />
					</label>
					<label class="geburah">
						<span>Geburah</span>
						<input type="number" name="attr_geburah" value="0" />
					</label>
					<label class="tiphereth">
						<span>Tiphereth</span>
						<input type="number" name="attr_tiphereth" value="0" />
					</label>
					<label class="netzach">
						<span>Netzach</span>
						<input type="number" name="attr_netzah" value="0" />
					</label>
					<label class="hod">
						<span>Hod</span>
						<input type="number" name="attr_hod" value="0" />
					</label>
					<label class="yesod">
						<span>Yesod</span>
						<input type="number" name="attr_yesod" value="0" />
					</label>
					<label class="malkuth">
						<span>Malkut</span>
						<input type="number" name="attr_malkut" value="0" />
					</label>
				</div>
			</div>
		</div>
		<div class="col2">
			<div class="kMonde">
				<h1>Monde</h1>
				<select name="attr_kabb-monde">
					<option value="0"></option>
					<option value="sohar">Sohar</option>
					<option value="zakaï">Zakaï</option>
					<option value="pachad">Pachad</option>
					<option value="meborack">Meborack</option>
					<option value="aresh">Aresh</option>
				</select>
			</div>
			<div class="kOrdonnance">
				<h1>Ordonnances</h1>
				<fieldset class="repeating_kabb-ord" >
					<input type="number" name="attr_kabb-ord-degré" value="1" title="Degré" />
					<input type="text" name="attr_kabb-ord-nom" />
					<label>
						<input type="checkbox" name="attr_kabb-ord-respect" title="Non Respecté ?"/>
						<span></span>
					</label>
				</fieldset>
			</div>
			<div class="degreMetamorphe">
				<h1>Degré de métamorphe actif</h1>
				<input type="hidden" name="attr_dMeta" value="0" />
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="1" />
					<span title="1"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="2" />
					<span title="2"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="3" />
					<span title="3"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="4" />
					<span title="4"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="5" />
					<span title="5"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="6" />
					<span title="6"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="7" />
					<span title="7"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="8" />
					<span title="8"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="9" />
					<span title="9"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_degreMetamorphe" value="10" />
					<span title="10"></span>
				</label>
			</div>

		</div>
		<input type="hidden" name="attr_ordonnanceBonus" value="0" />
		<div class="invocations">
			<h1>Invocations</h1>
			<span>Nom de l'invocation</span>
			<span>Séphira</span>
			
			<span>Ka</span>
			<span>Degré</span>
			<span>Portée</span>
			<span>Durée</span>
			<span>Visible</span>
			<span title="Appris">A</span>
			<span title="Tatoué">T</span>
			<span title="Sur Focus">F</span>
			<span></span>
			<fieldset class="repeating_kabb-invoc">
				<label>
					<input type="checkbox" name="attr_expand" value="1" checked />
					<span></span>
				</label>
				<input type="text" name="attr_kabb-invoc-nom" />
				<select name="attr_kabb-invoc-sephira">
					<option value="0"></option>
					<option value="malkut">Malkut</option>
					<option value="yesod">Yesod</option>
					<option value="hod">Hod</option>
					<option value="netzah">Netzah</option>
					<option value="tiphereth">Tiphereth</option>
					<option value="chesed">Chesed</option>
					<option value="geburah">Geburah</option>
					<option value="binah">Binah</option>
					<option value="hokmah">Hokmah</option>
					<option value="kheter">Kheter</option>
				</select>
				<select name="attr_kabb-invoc-ka">
					<option value="0"></option>
					<option value="kaair">Air</option>
					<option value="kaeau">Eau</option>
					<option value="kafeu">Feu</option>
					<option value="kalune">Lune</option>
					<option value="katerre">Terre</option>
				</select>
				<input type="number" name="attr_kabb-invoc-degre" value="0" />
				<input type="text" name="attr_kabb-invoc-portee" />
				<input type="text" name="attr_kabb-invoc-duree" />
				<div>
					<label>
						<input type="checkbox" name="attr_kabb-invoc-visible" />
						<span></span>
					</label>
				</div>
				<label>
					<input type="checkbox" name="attr_kabb-invoc-a" value="1" title="Appris" />
					<span></span>
				</label>
				<label>
					<input type="checkbox" name="attr_kabb-invoc-t" value="1" title="Tatoué" />
					<span></span>
				</label>
				<label>
					<input type="checkbox" name="attr_kabb-invoc-f" value="1" title="Sur Focus" />
					<span></span>
				</label>
				<button type="roll" name="roll_simu-roll-vecu" title="Invocation" value="&{template:invocation} {{name=@{character_name}}} {{nom_creature=@{kabb-invoc-nom}}} {{descrip_sort=@{kabb-invoc-desc}}} {{portee_sort=@{kabb-invoc-portee}}} {{duree_sort=@{kabb-invoc-duree}}} {{degre=@{kabb-invoc-degre}}} {{jet=[[1d100]] }}{{seuil=[[(?{Bonus / malus ?|0}[ Bonus, malus, vécus, etc. ]+@{kabb-invoc-current}[ Kabbale + Ka + Ordonnances ])*10]]}}"></button>
				
				<button type="roll" name="roll_simu-roll-opposition" title="Nouer un pacte" value="&{template:opposition} {{name=@{character_name}}} {{creature=@{kabb-invoc-nom}}} {{jet=[[1d100]]}} {{seuil=[[(?{Bonus / malus ?|0}[Bonus, malus, vécus, etc.]+[[@{kabb-invoc-current}]][Kabbale + Ka])*10 ]]}} {{jet_creature=[[1d100]]}} {{degre=[[@{kabb-invoc-degre}[Degré]*10 ]]}}"></button>
				
				<input type="hidden" name="attr_expand" value="1" />
				<div>
					<label>
						<span>Monde</span>
						<select name="attr_kabb-invoc-monde">
							<option value="0"></option>
							<option value="sohar">Sohar</option>
							<option value="zakaï">Zakaï</option>
							<option value="pachad">Pachad</option>
							<option value="meborack">Meborack</option>
							<option value="aresh">Aresh</option>
						</select>
					</label>
					<label>
						<span>Difficulté</span>
						<input type="number" name="attr_kabb-invoc-current" value="0" readonly />
					</label>
					<select name="attr_pacteConclu">
						<option value="1" selected>Première invocation</option>
						<option value="2">Pacte conclu</option>
					</select>
					<label>
						<span>Page</span>
						<input type="number" name="attr_kabb-invoc-page" value="0" />
					</label>
					<div class="autoex autoex22">
						<textarea name="attr_kabb-invoc-desc" placeholder="Description"></textarea>
						<span name="attr_kabb-invoc-desc"></span>
					</div>
				</div>
			</fieldset>
		</div>
	</div>

	<div class="tab7">
		<h1 class="titreAlchimie">Alchimie</h1>
	
		<div class="col2">
			<div class="oeuvres">
				<label>
					<span>Œuvre<br/>au noir</span>
					<input type="number" name="attr_alch-oeuvre-noir" value="0" />
				</label>
				<label>
					<span>Œuvre<br/>au blanc</span>
					<input type="number" name="attr_alch-oeuvre-blanc" value="0" />
				</label>
				<label>
					<span>Œuvre<br/>au rouge</span>
					<input type="number" name="attr_alch-oeuvre-rouge" value="0" />
				</label>
			</div>
			
			<label class="alchimieVoie">
				<span>Voie initiatique</span>
				<select name="attr_alch-voie">
					<option value="0"></option>
					<option value="breve">Voie brève</option>
					<option value="seche">Voie sèche</option>
					<option value="humide">Voie humide</option>
					<option value="royale">Voie royale</option>
					<option value="pagirie">Spagirie</option>
				</select>
			</label>
			
			<div class="alchimieSConstruct">
				<h1>Constructs utilisables</h1>
				<label>
					<input type="checkbox" name="attr_sCornue" value="1" checked />
					<span title="Cornue"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_sAthanor" value="1" checked />
					<span title="Athanor"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_sAludel" value="1" checked />
					<span title="Aludel"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_sForge" value="1" checked />
					<span title="Forge ou Creuset"></span>
				</label>
				
				<label>
					<input type="checkbox" name="attr_sAlambic" value="1" checked />
					<span title="Alambic"></span>
				</label>
			</div>
		</div>
		<div class="col2">
			<div class="materiaePrimae">
				<h1>Jauge de Materiae Primae</h1>
				<div>
					<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Nephilim-Legende/img/Feu.png" alt="Feu" />
					<label>
						<input type="number" name="attr_alch-mp-feu" value="0" />
						<span>/</span>
						<input type="number" name="attr_alch-mp-feu-max" value="0" />
					</label>
				</div>
				
				<div>
					<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Nephilim-Legende/img/Air.png" alt="Air" />
					<label>
						<input type="number" name="attr_alch-mp-air" value="0" />
						<span>/</span>
						<input type="number" name="attr_alch-mp-air-max" value="0" />
					</label>
				</div>
				
				<div>
					<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Nephilim-Legende/img/Terre.png" alt="Terre" />
					<label>
						<input type="number" name="attr_alch-mp-terre" value="0" />
						<span>/</span>
						<input type="number" name="attr_alch-mp-terre-max" value="0" />
					</label>
				</div>
				
				<div>
					<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Nephilim-Legende/img/Eau.png" alt="Eau" />
					<label>
						<input type="number" name="attr_alch-mp-eau" value="0" />
						<span>/</span>
						<input type="number" name="attr_alch-mp-eau-max" value="0" />
					</label>
				</div>
				
				<div>
					<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Nephilim-Legende/img/Lune.png" alt="Lune" />
					<label>
						<input type="number" name="attr_alch-mp-lune" value="0" />
						<span>/</span>
						<input type="number" name="attr_alch-mp-lune-max" value="0" />
					</label>
				</div>
			</div>
		</div>
	
		<div class="formules">
			<h1>Formules</h1>
			<span>Nom de la formule</span>
			<span>Substance</span>
			<span>Ka</span>
			<span>Ka</span>
			<span>Aire d'effet</span>
			<span>Durée</span>
			<span title="Appris">A</span>
			<span title="Tatoué">T</span>
			<span title="Sur Focus">F</span>
			<span></span>
			<fieldset class="repeating_alch-form">
				<label>
					<input type="checkbox" name="attr_expand" value="1" checked />
					<span></span>
				</label>
				<input type="text" name="attr_alch-form-nom" />
				<select class="sheet-alch-form-subs" name="attr_alch-form-subs">
					<option value="0" selected></option>
					<option value="alch-athanor">Poudre (Athanor)</option>
					<option value="alch-creuset">Métal (Creuset)</option>
					<option value="alch-cornue">Ambre (Cornue)</option>
					<option value="alch-alambic">Liqueur (Alambic)</option>
					<option value="alch-aludel">Vapeur (Aludel)</option>
				</select>
				<select name="attr_alch-form-ka-1">
					<option value="0"></option>
					<option value="kaair">Air</option>
					<option value="kaeau">Eau</option>
					<option value="kafeu">Feu</option>
					<option value="kalune">Lune</option>
					<option value="katerre">Terre</option>
				</select>
				<select name="attr_alch-form-ka-2">
					<option value="0"></option>
					<option value="kaair">Air</option>
					<option value="kaeau">Eau</option>
					<option value="kafeu">Feu</option>
					<option value="kalune">Lune</option>
					<option value="katerre">Terre</option>
				</select>
				<input type="text" name="attr_alch-form-portee" />
				<input type="text" name="attr_alch-form-duree" />
				<label>
					<input type="checkbox" name="attr_alch-form-a" value="1" title="Appris" />
					<span></span>
				</label>
				<label>
					<input type="checkbox" name="attr_alch-form-t" value="1" title="Tatoué" />
					<span></span>
				</label>
				<label>
					<input type="checkbox" name="attr_alch-form-f" value="1" title="Sur Focus" />
					<span></span>
				</label>
				<button type="roll" name="roll_simu-roll-vecu" value="&{template:formule} {{name=@{character_name}}} {{nom_formule=@{alch-form-nom}}} {{nb_materia=@{alch-form-degre}}} {{jet=[[1d100]]}} {{seuil=[[(?{Bonus / malus ?|0}[Bonus, malus, vécus, etc.]+@{alch-form-current}[Oeuvre + Ka-Élément du Construct - Degré])*10]]}} {{aire_formule=@{alch-form-portee}}} {{duree_formule=@{alch-form-duree}}} {{description_formule=@{alch-form-desc}}}"></button>
				<input type="hidden" name="attr_expand" value="1" />
				<div>
					<label>
						<span>Art occulte</span>
						<select name="attr_alch-form-art">
							<option value="0"></option>
							<option value="alch-oeuvre-noir">Oeuvre au noir</option>
							<option value="alch-oeuvre-blanc">Oeuvre au blanc</option>
							<option value="alch-oeuvre-rouge">Oeuvre au rouge</option>
						</select>
					</label>
					<label>
						<span>Degré</span>
						<input type="number" name="attr_alch-form-degre" value="0" />
					</label>
					<label>
						<span>Difficulté</span>
						<input type="number" name="attr_alch-form-current" value="0" readonly />
					</label>
					<label>
						<span>Page</span>
						<input type="number" name="attr_alch-form-page" value="0" />
					</label>
                    <div class="autoex autoex22">
						<textarea name="attr_alch-form-desc"></textarea>
						<span name="attr_alch-form-desc"></span>
					</div>
				</div>
			</fieldset>
		</div>
	</div>

	<div class="tab8">
		<div class="constructs">
			<h1>Laboratoire et constructs</h1>
			<input type="hidden" name="attr_sCornue" class="cornue" value="1" />
			<input type="hidden" name="attr_sAthanor" class="athanor" value="1" />
			<input type="hidden" name="attr_sAludel" class="aludel" value="1" />
			<input type="hidden" name="attr_sForge" class="forge" value="1" />
			<input type="hidden" name="attr_sAlambic" class="alambic" value="1" />
			
			<div class="cornue">				
				<span>Ka-Feu</span>
				<input type="number" name="attr_alch-cornue-kafeu" value="0" />
				<span>Ka-Terre</span>
				<input type="number" name="attr_alch-cornue-katerre" value="0" />
				<span>Ka-Air</span>
				<input type="number" name="attr_alch-cornue-kaair" value="0" />
				<span>Ka-Lune</span>
				<input type="number" name="attr_alch-cornue-kalune" value="0" />
				<span>Cornue<span>(ambres)</span></span>
				<span>Ka-Eau</span>
				<input type="number" name="attr_alch-cornue-kaeau" value="0" />
			</div>
			
			<div class="athanor">			
				<span>Ka-Feu</span>
				<input type="number" name="attr_alch-athanor-kafeu" value="0" />
				<span>Ka-Terre</span>
				<input type="number" name="attr_alch-athanor-katerre" value="0" />
				<span>Ka-Air</span>
				<input type="number" name="attr_alch-athanor-kaair" value="0" />
				<span>Ka-Lune</span>
				<input type="number" name="attr_alch-athanor-kalune" value="0" />
				<span>Athanor<span>(poudres)</span></span>
				<span>Ka-Eau</span>
				<input type="number" name="attr_alch-athanor-kaeau" value="0" />
			</div>
			
			<div class="aludel">
				<span>Ka-Feu</span>
				<input type="number" name="attr_alch-aludel-kafeu" value="0" />
				<span>Ka-Terre</span>
				<input type="number" name="attr_alch-aludel-katerre" value="0" />
				<span>Ka-Air</span>
				<input type="number" name="attr_alch-aludel-kaair" value="0" />
				<span>Ka-Lune</span>
				<input type="number" name="attr_alch-aludel-kalune" value="0" />
				<span>Aludel<span>(vapeurs)</span></span>
				<span>Ka-Eau</span>
				<input type="number" name="attr_alch-aludel-kaeau" value="0" />
			</div>
			
			<div class="forge">			
				<span>Ka-Feu</span>
				<input type="number" name="attr_alch-creuset-kafeu" value="0" />
				<span>Ka-Terre</span>
				<input type="number" name="attr_alch-creuset-katerre" value="0" />
				<span>Ka-Air</span>
				<input type="number" name="attr_alch-creuset-kaair" value="0" />
				<span>Ka-Lune</span>
				<input type="number" name="attr_alch-creuset-kalune" value="0" />
				<span>Forge ou Creuset<span>(métaux)</span></span>
				<span>Ka-Eau</span>
				<input type="number" name="attr_alch-creuset-kaeau" value="0" />
			</div>
			
			<div class="alambic">			
				<span>Ka-Feu</span>
				<input type="number" name="attr_alch-alambic-kafeu" value="0" />
				<span>Ka-Terre</span>
				<input type="number" name="attr_alch-alambic-katerre" value="0" />
				<span>Ka-Air</span>
				<input type="number" name="attr_alch-alambic-kaair" value="0" />
				<span>Ka-Lune</span>
				<input type="number" name="attr_alch-alambic-kalune" value="0" />
				<span>Alambic<span>(liqueur)</span></span>
				<span>Ka-Eau</span>
				<input type="number" name="attr_alch-alambic-kaeau" value="0" />
			</div>
		</div>
	</div>

	<div class="tab9">
		<div class="fraternite">
			<h1>Fraternité</h1>
			<div class="col2">
				<label>
					<h1>Nom</h1>
					<input type="text" name="attr_frat-nom" />
				</label>
			</div>
			<div class="col2">
				<div>
					<h1>Quête / Savoir ésotérique</h1>
					<input type="text" name="attr_frat-quete" />
					<input type="number" name="attr_frat-quete-score" value="0" min="0" />
				</div>
			</div>
			<h1>Alliés</h1>
			<fieldset class="repeating_frat-ress-allies">
				<div class="autoex autoex22">
					<textarea name="attr_frat-ress-allies"></textarea>
					<span name="attr_frat-ress-allies"></span>
				</div>
			</fieldset>
			<h1>Ressources</h1>
			<fieldset class="repeating_frat-ress-propr">
				<div class="autoex autoex22">
					<textarea name="attr_frat-ress-propr"></textarea>
					<span name="attr_frat-ress-propr"></span>
				</div>
			</fieldset>
			<h1>Refuges</h1>
			<fieldset class="repeating_frat-ress-refuge">
				<div class="autoex autoex22">
					<textarea name="attr_frat-ress-refuge"></textarea>
					<span name="attr_frat-ress-refuge"></span>
				</div>
			</fieldset>
		</div>
	</div>

	<div class="tab10">
		<div class="degreMetamorphe">
			<h1>Degré de métamorphe actif</h1>
			<input type="hidden" name="attr_dMeta" value="0" />
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="1" />
				<span title="1"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="2" />
				<span title="2"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="3" />
				<span title="3"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="4" />
				<span title="4"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="5" />
				<span title="5"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="6" />
				<span title="6"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="7" />
				<span title="7"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="8" />
				<span title="8"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="9" />
				<span title="9"></span>
			</label>
			
			<label>
				<input type="checkbox" name="attr_degreMetamorphe" value="10" />
				<span title="10"></span>
			</label>
		</div>

		<div class="arcadia">
			<div>
				<h1>Arcadia</h1>
				<select name="attr_approche">
					<option value="0+?{Bonus/Malus ?|0})*10]]}} {{approche=Aucune approche}}" selected>Aucune approche</option>
					<option value="@{kafeu}+?{Bonus/Malus ?|0}+@{KADFeu}-@{malusMag})*10]]}} {{approche=Approche de Feu}}">Approche de Feu</option>
					<option value="@{kaair}+?{Bonus/Malus ?|0}+@{KADAir}-@{malusMag})*10]]}} {{approche=Approche d'Air}}">Approche d'Air</option>
					<option value="@{kaeau}+?{Bonus/Malus ?|0}+@{KADEau}-@{malusMag})*10]]}} {{approche=Approche d'Eau}}">Approche d'Eau</option>
					<option value="@{katerre}+?{Bonus/Malus ?|0}+@{KADTerre}-@{malusMag})*10]]}} {{approche=Approche de Terre}}">Approche de Terre</option>
					<option value="@{kalune}+?{Bonus/Malus ?|0}+@{KADLune}-@{malusMag})*10]]}} {{approche=Approche de Lune}}">Approche de Lune</option>
				</select>
			</div>
			<span>Vécu Arcadien</span>
			<span>Quartier</span>
			<span>Quadrant</span>
			<span>Intime</span>
			<span>Passages</span>
			<span>Clé</span>
			<fieldset class="repeating_arcadia">
				<div>
					<input type="text" name="attr_vecuArcadien" />
					<input type="number" name="attr_vecuArcadienScore" value="0" />
				</div>
				<div class="autoex autoex22">
					<textarea name="attr_quartier"></textarea>
					<span name="attr_quartier"></span>					
				</div>
				<div class="autoex autoex22">
					<textarea name="attr_quadrant"></textarea>
					<span name="attr_quadrant"></span>					
				</div>
				<div>
					<label>
						<input type="checkbox" name="attr_intime" value="1" />
						<span></span>
					</label>
				</div>
				<div class="autoex autoex22">
					<textarea name="attr_passages"></textarea>
					<span name="attr_passages"></span>					
				</div>
				<div class="autoex autoex22">
					<textarea name="attr_cle"></textarea>
					<span name="attr_cle"></span>					
				</div>
				<button type="roll" name="roll_vecu" value="@{gm} &{template:base} {{name=@{character_name}}} {{vecu=@{vecuArcadien}}}  {{jet=[[1d100]]}} {{seuil=[[(@{vecuArcadienScore}-@{malusPhy}+@{approche}}}"></button>
			</fieldset>
		</div>
	
		<div class="titre">
			<h1>Titre</h1>
			<input type="text" name="attr_titre" />
		</div>
	</div>
</div>
<!------------------------------------- Begin Roll Templates ------------------------------------->
<rolltemplate class="sheet-rolltemplate-base">
	<h1>{{name}}</h1>
	{{#mnemos1}}
		<h2>{{mnemos1}}</h2>
	{{/mnemos1}}
	{{#mnemos2}}
		<h2>{{mnemos2}}</h2>
	{{/mnemos2}}
	{{#approche}}
		<div>
			<span>Mobilise son expérience de :</span>
			<span>{{vecu}}</span>
			<span>{{approche}}</span>
		</div>
	{{/approche}}
	{{#special}}
		<div>
			<span>Mobilise son expérience de :</span>
			<span>{{vecuP}}</span>
			<span>{{approche}}</span>
		</div>
	{{/special}}
	{{#ka}}
		<div>
			<span>Utilise son :</span>
			<span>{{ka}}</span>
		</div>
	{{/ka}}
	<div>
		<span>Résultat</span>
		<span>{{jet}}</span><span>({{seuil}})</span>
		{{#^rollTotal() jet 100}}
			{{#rollBetween() jet 1 seuil}}
				{{#^rollTotal() jet 11}}	
					{{#^rollTotal() jet 22}}
						{{#^rollTotal() jet 33}}
							{{#^rollTotal() jet 44}}
								{{#^rollTotal() jet 55}}
									{{#^rollTotal() jet 66}}
										{{#^rollTotal() jet 77}}
											{{#^rollTotal() jet 88}}
												{{#^rollTotal() jet 99}}
													<span class="success">Réussite</span>
												{{/^rollTotal() jet 99}}
											{{/^rollTotal() jet 88}}
										{{/^rollTotal() jet 77}}
									{{/^rollTotal() jet 66}}
								{{/^rollTotal() jet 55}}
							{{/^rollTotal() jet 44}}
						{{/^rollTotal() jet 33}}
					{{/^rollTotal() jet 22}}
				{{/^rollTotal() jet 11}}
				{{#rollTotal() jet 11}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 11}}
				{{#rollTotal() jet 22}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 22}}
				{{#rollTotal() jet 33}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 33}}
				{{#rollTotal() jet 44}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 44}}
				{{#rollTotal() jet 55}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 55}}
				{{#rollTotal() jet 66}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 66}}
				{{#rollTotal() jet 77}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 77}}
				{{#rollTotal() jet 88}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 88}}
				{{#rollTotal() jet 99}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 99}}
			{{/rollBetween() jet 1 seuil}}
			{{#rollGreater() jet seuil}}
				{{#^rollTotal() jet 100}}
					{{#^rollTotal() jet 11}}	
						{{#^rollTotal() jet 22}}
							{{#^rollTotal() jet 33}}
								{{#^rollTotal() jet 44}}
									{{#^rollTotal() jet 55}}
										{{#^rollTotal() jet 66}}
											{{#^rollTotal() jet 77}}
												{{#^rollTotal() jet 88}}
													{{#^rollTotal() jet 99}}
														<span class="fail">Échec</span>
													{{/^rollTotal() jet 99}}
												{{/^rollTotal() jet 88}}
											{{/^rollTotal() jet 77}}
										{{/^rollTotal() jet 66}}
									{{/^rollTotal() jet 55}}
								{{/^rollTotal() jet 44}}
							{{/^rollTotal() jet 33}}
						{{/^rollTotal() jet 22}}
					{{/^rollTotal() jet 11}}
				{{/^rollTotal() jet 100}}
				{{#rollTotal() jet 11}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 11}}
				{{#rollTotal() jet 22}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 22}}
				{{#rollTotal() jet 33}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 33}}
				{{#rollTotal() jet 44}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 44}}
				{{#rollTotal() jet 55}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 55}}
				{{#rollTotal() jet 66}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 66}}
				{{#rollTotal() jet 77}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 77}}
				{{#rollTotal() jet 88}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 88}}
				{{#rollTotal() jet 99}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 99}}
			{{/rollGreater() jet seuil}}
		{{/^rollTotal() jet 100}}
		{{#rollTotal() jet 100}}
			<span class="fail">Maladresse</span>
		{{/rollTotal() jet 100}}
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-sort">
	<h1>{{name}}</h1>
	<div>
		<span>Lance le sort :</span>
		<span>{{nom_sort}}</span><span>({{degre}})</span>
	</div>
	<div>
		<span>Résultat</span>
		<span>{{jet}}</span><span>({{seuil}})</span>
		{{#^rollTotal() jet 100}}
			{{#rollBetween() jet 1 seuil}}
				{{#^rollTotal() jet 11}}	
					{{#^rollTotal() jet 22}}
						{{#^rollTotal() jet 33}}
							{{#^rollTotal() jet 44}}
								{{#^rollTotal() jet 55}}
									{{#^rollTotal() jet 66}}
										{{#^rollTotal() jet 77}}
											{{#^rollTotal() jet 88}}
												{{#^rollTotal() jet 99}}
													<span class="success">Réussite</span>
												{{/^rollTotal() jet 99}}
											{{/^rollTotal() jet 88}}
										{{/^rollTotal() jet 77}}
									{{/^rollTotal() jet 66}}
								{{/^rollTotal() jet 55}}
							{{/^rollTotal() jet 44}}
						{{/^rollTotal() jet 33}}
					{{/^rollTotal() jet 22}}
				{{/^rollTotal() jet 11}}
				{{#rollTotal() jet 11}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 11}}
				{{#rollTotal() jet 22}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 22}}
				{{#rollTotal() jet 33}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 33}}
				{{#rollTotal() jet 44}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 44}}
				{{#rollTotal() jet 55}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 55}}
				{{#rollTotal() jet 66}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 66}}
				{{#rollTotal() jet 77}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 77}}
				{{#rollTotal() jet 88}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 88}}
				{{#rollTotal() jet 99}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 99}}
			{{/rollBetween() jet 1 seuil}}
			{{#rollGreater() jet seuil}}
				{{#^rollTotal() jet 100}}
					{{#^rollTotal() jet 11}}	
						{{#^rollTotal() jet 22}}
							{{#^rollTotal() jet 33}}
								{{#^rollTotal() jet 44}}
									{{#^rollTotal() jet 55}}
										{{#^rollTotal() jet 66}}
											{{#^rollTotal() jet 77}}
												{{#^rollTotal() jet 88}}
													{{#^rollTotal() jet 99}}
														<span class="fail">Échec</span>
													{{/^rollTotal() jet 99}}
												{{/^rollTotal() jet 88}}
											{{/^rollTotal() jet 77}}
										{{/^rollTotal() jet 66}}
									{{/^rollTotal() jet 55}}
								{{/^rollTotal() jet 44}}
							{{/^rollTotal() jet 33}}
						{{/^rollTotal() jet 22}}
					{{/^rollTotal() jet 11}}
				{{/^rollTotal() jet 100}}
				{{#rollTotal() jet 11}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 11}}
				{{#rollTotal() jet 22}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 22}}
				{{#rollTotal() jet 33}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 33}}
				{{#rollTotal() jet 44}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 44}}
				{{#rollTotal() jet 55}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 55}}
				{{#rollTotal() jet 66}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 66}}
				{{#rollTotal() jet 77}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 77}}
				{{#rollTotal() jet 88}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 88}}
				{{#rollTotal() jet 99}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 99}}
			{{/rollGreater() jet seuil}}
		{{/^rollTotal() jet 100}}
		{{#rollTotal() jet 100}}
			<span class="fail">Maladresse</span>
		{{/rollTotal() jet 100}}
	</div>
	<div>
		<span>Portée : </span><span>{{portee_sort}}</span>
		<span>Durée : </span><span>{{duree_sort}}</span>
		<span>{{descrip_sort}}</span>
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-invocation">
	<h1>{{name}}</h1>
	<div>
		<span>Invoque :</span>
		<span>{{nom_creature}}</span><span>({{degre}})</span>
	</div>
	<div>
		<span>Résultat</span>
		<span>{{jet}}</span><span>({{seuil}})</span>
		{{#^rollTotal() jet 100}}
			{{#rollBetween() jet 1 seuil}}
				{{#^rollTotal() jet 11}}	
					{{#^rollTotal() jet 22}}
						{{#^rollTotal() jet 33}}
							{{#^rollTotal() jet 44}}
								{{#^rollTotal() jet 55}}
									{{#^rollTotal() jet 66}}
										{{#^rollTotal() jet 77}}
											{{#^rollTotal() jet 88}}
												{{#^rollTotal() jet 99}}
													<span class="success">Réussite</span>
												{{/^rollTotal() jet 99}}
											{{/^rollTotal() jet 88}}
										{{/^rollTotal() jet 77}}
									{{/^rollTotal() jet 66}}
								{{/^rollTotal() jet 55}}
							{{/^rollTotal() jet 44}}
						{{/^rollTotal() jet 33}}
					{{/^rollTotal() jet 22}}
				{{/^rollTotal() jet 11}}
				{{#rollTotal() jet 11}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 11}}
				{{#rollTotal() jet 22}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 22}}
				{{#rollTotal() jet 33}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 33}}
				{{#rollTotal() jet 44}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 44}}
				{{#rollTotal() jet 55}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 55}}
				{{#rollTotal() jet 66}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 66}}
				{{#rollTotal() jet 77}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 77}}
				{{#rollTotal() jet 88}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 88}}
				{{#rollTotal() jet 99}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 99}}
			{{/rollBetween() jet 1 seuil}}
			{{#rollGreater() jet seuil}}
				{{#^rollTotal() jet 100}}
					{{#^rollTotal() jet 11}}	
						{{#^rollTotal() jet 22}}
							{{#^rollTotal() jet 33}}
								{{#^rollTotal() jet 44}}
									{{#^rollTotal() jet 55}}
										{{#^rollTotal() jet 66}}
											{{#^rollTotal() jet 77}}
												{{#^rollTotal() jet 88}}
													{{#^rollTotal() jet 99}}
														<span class="fail">Échec</span>
													{{/^rollTotal() jet 99}}
												{{/^rollTotal() jet 88}}
											{{/^rollTotal() jet 77}}
										{{/^rollTotal() jet 66}}
									{{/^rollTotal() jet 55}}
								{{/^rollTotal() jet 44}}
							{{/^rollTotal() jet 33}}
						{{/^rollTotal() jet 22}}
					{{/^rollTotal() jet 11}}
				{{/^rollTotal() jet 100}}
				{{#rollTotal() jet 11}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 11}}
				{{#rollTotal() jet 22}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 22}}
				{{#rollTotal() jet 33}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 33}}
				{{#rollTotal() jet 44}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 44}}
				{{#rollTotal() jet 55}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 55}}
				{{#rollTotal() jet 66}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 66}}
				{{#rollTotal() jet 77}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 77}}
				{{#rollTotal() jet 88}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 88}}
				{{#rollTotal() jet 99}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 99}}
			{{/rollGreater() jet seuil}}
		{{/^rollTotal() jet 100}}
		{{#rollTotal() jet 100}}
			<span class="fail">Maladresse</span>
		{{/rollTotal() jet 100}}
	</div>
	<div>
		<span>Portée : </span><span>{{portee_sort}}</span>
		<span>Durée : </span><span>{{duree_sort}}</span>
		<span>{{descrip_sort}}</span>
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-opposition">
	<h1>{{name}}</h1>
	<div>
		<span>Vous nouez un pacte avec :</span>
		<span>{{creature}}</span>
	</div>
	<div>
		<div>
			<span>{{name}}</span>
			<span>{{jet}}</span>
			{{#rollBetween() jet 1 seuil}}
				{{#^rollTotal() jet 11}}	
					{{#^rollTotal() jet 22}}
						{{#^rollTotal() jet 33}}
							{{#^rollTotal() jet 44}}
								{{#^rollTotal() jet 55}}
									{{#^rollTotal() jet 66}}
										{{#^rollTotal() jet 77}}
											{{#^rollTotal() jet 88}}
												{{#^rollTotal() jet 99}}
													<span class="success">Réussite</span>
												{{/^rollTotal() jet 99}}
											{{/^rollTotal() jet 88}}
										{{/^rollTotal() jet 77}}
									{{/^rollTotal() jet 66}}
								{{/^rollTotal() jet 55}}
							{{/^rollTotal() jet 44}}
						{{/^rollTotal() jet 33}}
					{{/^rollTotal() jet 22}}
				{{/^rollTotal() jet 11}}
				
				{{#rollTotal() jet 11}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 11}}
				{{#rollTotal() jet 22}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 22}}
				{{#rollTotal() jet 33}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 33}}
				{{#rollTotal() jet 44}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 44}}
				{{#rollTotal() jet 55}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 55}}
				{{#rollTotal() jet 66}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 66}}
				{{#rollTotal() jet 77}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 77}}
				{{#rollTotal() jet 88}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 88}}
				{{#rollTotal() jet 99}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 99}}
			{{/rollBetween() jet 1 seuil}}
			
			{{#rollGreater() jet seuil}}
				{{#^rollTotal() jet 100}}
					{{#^rollTotal() jet 11}}	
						{{#^rollTotal() jet 22}}
							{{#^rollTotal() jet 33}}
								{{#^rollTotal() jet 44}}
									{{#^rollTotal() jet 55}}
										{{#^rollTotal() jet 66}}
											{{#^rollTotal() jet 77}}
												{{#^rollTotal() jet 88}}
													{{#^rollTotal() jet 99}}
														<span class="fail">Échec</span>
													{{/^rollTotal() jet 99}}
												{{/^rollTotal() jet 88}}
											{{/^rollTotal() jet 77}}
										{{/^rollTotal() jet 66}}
									{{/^rollTotal() jet 55}}
								{{/^rollTotal() jet 44}}
							{{/^rollTotal() jet 33}}
						{{/^rollTotal() jet 22}}
					{{/^rollTotal() jet 11}}
				{{/^rollTotal() jet 100}}
				{{#rollTotal() jet 11}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 11}}
				{{#rollTotal() jet 22}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 22}}
				{{#rollTotal() jet 33}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 33}}
				{{#rollTotal() jet 44}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 44}}
				{{#rollTotal() jet 55}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 55}}
				{{#rollTotal() jet 66}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 66}}
				{{#rollTotal() jet 77}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 77}}
				{{#rollTotal() jet 88}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 88}}
				{{#rollTotal() jet 99}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 99}}
			{{/rollGreater() jet seuil}}
			{{#rollTotal() jet 100}}
				<span class="fail">Maladresse</span>
			{{/rollTotal() jet 100}}
		</div>
		<span>vs</span>
		<div>
			<span>{{creature}}</span>
			<span>{{jet_creature}}</span>
			{{#rollBetween() jet_creature 1 degre}}
				{{#^rollTotal() jet_creature 11}}	
					{{#^rollTotal() jet_creature 22}}
						{{#^rollTotal() jet_creature 33}}
							{{#^rollTotal() jet_creature 44}}
								{{#^rollTotal() jet_creature 55}}
									{{#^rollTotal() jet_creature 66}}
										{{#^rollTotal() jet_creature 77}}
											{{#^rollTotal() jet_creature 88}}
												{{#^rollTotal() jet_creature 99}}
													<span class="success">Réussite</span>
												{{/^rollTotal() jet_creature 99}}
											{{/^rollTotal() jet_creature 88}}
										{{/^rollTotal() jet_creature 77}}
									{{/^rollTotal() jet_creature 66}}
								{{/^rollTotal() jet_creature 55}}
							{{/^rollTotal() jet_creature 44}}
						{{/^rollTotal() jet_creature 33}}
					{{/^rollTotal() jet_creature 22}}
				{{/^rollTotal() jet_creature 11}}
				
				{{#rollTotal() jet_creature 11}}
					<span class="success">Critique</span>
				{{/rollTotal() jet_creature 11}}
				{{#rollTotal() jet_creature 22}}
					<span class="success">Critique</span>
				{{/rollTotal() jet_creature 22}}
				{{#rollTotal() jet_creature 33}}
					<span class="success">Critique</span>
				{{/rollTotal() jet_creature 33}}
				{{#rollTotal() jet_creature 44}}
					<span class="success">Critique</span>
				{{/rollTotal() jet_creature 44}}
				{{#rollTotal() jet_creature 55}}
					<span class="success">Critique</span>
				{{/rollTotal() jet_creature 55}}
				{{#rollTotal() jet_creature 66}}
					<span class="success">Critique</span>
				{{/rollTotal() jet_creature 66}}
				{{#rollTotal() jet_creature 77}}
					<span class="success">Critique</span>
				{{/rollTotal() jet_creature 77}}
				{{#rollTotal() jet_creature 88}}
					<span class="success">Critique</span>
				{{/rollTotal() jet_creature 88}}
				{{#rollTotal() jet_creature 99}}
					<span class="success">Critique</span>
				{{/rollTotal() jet_creature 99}}
			{{/rollBetween() jet_creature 1 degre}}
			
			{{#rollGreater() jet_creature degre}}
				{{#^rollTotal() jet_creature 100}}
					{{#^rollTotal() jet_creature 11}}	
						{{#^rollTotal() jet_creature 22}}
							{{#^rollTotal() jet_creature 33}}
								{{#^rollTotal() jet_creature 44}}
									{{#^rollTotal() jet_creature 55}}
										{{#^rollTotal() jet_creature 66}}
											{{#^rollTotal() jet_creature 77}}
												{{#^rollTotal() jet_creature 88}}
													{{#^rollTotal() jet_creature 99}}
														<span class="fail">Échec</span>
													{{/^rollTotal() jet_creature 99}}
												{{/^rollTotal() jet_creature 88}}
											{{/^rollTotal() jet_creature 77}}
										{{/^rollTotal() jet_creature 66}}
									{{/^rollTotal() jet_creature 55}}
								{{/^rollTotal() jet_creature 44}}
							{{/^rollTotal() jet_creature 33}}
						{{/^rollTotal() jet_creature 22}}
					{{/^rollTotal() jet_creature 11}}
				{{/^rollTotal() jet_creature 100}}
				{{#rollTotal() jet_creature 11}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet_creature 11}}
				{{#rollTotal() jet_creature 22}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet_creature 22}}
				{{#rollTotal() jet_creature 33}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet_creature 33}}
				{{#rollTotal() jet_creature 44}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet_creature 44}}
				{{#rollTotal() jet_creature 55}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet_creature 55}}
				{{#rollTotal() jet_creature 66}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet_creature 66}}
				{{#rollTotal() jet_creature 77}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet_creature 77}}
				{{#rollTotal() jet_creature 88}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet_creature 88}}
				{{#rollTotal() jet_creature 99}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet_creature 99}}
			{{/rollGreater() jet_creature degre}}
			{{#rollTotal() jet_creature 100}}
				<span class="fail">Maladresse</span>
			{{/rollTotal() jet_creature 100}}
		</div>
		<div>
			<span>Vainqueur</span>
			{{#rollBetween() jet 1 seuil}}
				{{#^rollBetween() jet_creature 1 degre}}
					<span class="success">{{name}}</span>
				{{/^rollBetween() jet_creature 1 degre}}
				{{#rollBetween() jet_creature 1 degre}}
					{{#rollGreater() jet jet_creature}}
						{{#rollBetween() jet_creature 1 21}}
							{{#^rollTotal() jet_creature 11}}
								{{#^rollTotal() jet 11}}
									{{#^rollTotal() jet 22}}
										{{#^rollTotal() jet 33}}
											{{#^rollTotal() jet 44}}
												{{#^rollTotal() jet 55}}
													{{#^rollTotal() jet 66}}
														{{#^rollTotal() jet 77}}
															{{#^rollTotal() jet 88}}
																{{#^rollTotal() jet 99}}
																	<span class="success">{{name}}</span>
																{{/^rollTotal() jet 99}}
															{{/^rollTotal() jet 88}}
														{{/^rollTotal() jet 77}}
													{{/^rollTotal() jet 66}}
												{{/^rollTotal() jet 55}}
											{{/^rollTotal() jet 44}}
										{{/^rollTotal() jet 33}}
									{{/^rollTotal() jet 22}}
								{{/^rollTotal() jet 11}}
							{{/^rollTotal() jet_creature 11}}
						{{/rollBetween() jet_creature 1 21}}
						
						{{#rollBetween() jet_creature 22 32}}
							{{#^rollTotal() jet_creature 22}}
								{{#^rollTotal() jet 11}}
									{{#^rollTotal() jet 22}}
										{{#^rollTotal() jet 33}}
											{{#^rollTotal() jet 44}}
												{{#^rollTotal() jet 55}}
													{{#^rollTotal() jet 66}}
														{{#^rollTotal() jet 77}}
															{{#^rollTotal() jet 88}}
																{{#^rollTotal() jet 99}}
																	<span class="success">{{name}}</span>
																{{/^rollTotal() jet 99}}
															{{/^rollTotal() jet 88}}
														{{/^rollTotal() jet 77}}
													{{/^rollTotal() jet 66}}
												{{/^rollTotal() jet 55}}
											{{/^rollTotal() jet 44}}
										{{/^rollTotal() jet 33}}
									{{/^rollTotal() jet 22}}
								{{/^rollTotal() jet 11}}
							{{/^rollTotal() jet_creature 22}}
						{{/rollBetween() jet_creature 22 32}}
						
						{{#rollBetween() jet_creature 33 43}}
							{{#^rollTotal() jet_creature 33}}
								{{#^rollTotal() jet 11}}
									{{#^rollTotal() jet 22}}
										{{#^rollTotal() jet 33}}
											{{#^rollTotal() jet 44}}
												{{#^rollTotal() jet 55}}
													{{#^rollTotal() jet 66}}
														{{#^rollTotal() jet 77}}
															{{#^rollTotal() jet 88}}
																{{#^rollTotal() jet 99}}
																	<span class="success">{{name}}</span>
																{{/^rollTotal() jet 99}}
															{{/^rollTotal() jet 88}}
														{{/^rollTotal() jet 77}}
													{{/^rollTotal() jet 66}}
												{{/^rollTotal() jet 55}}
											{{/^rollTotal() jet 44}}
										{{/^rollTotal() jet 33}}
									{{/^rollTotal() jet 22}}
								{{/^rollTotal() jet 11}}
							{{/^rollTotal() jet_creature 33}}
						{{/rollBetween() jet_creature 33 43}}
						
						{{#rollBetween() jet_creature 44 54}}
							{{#^rollTotal() jet_creature 44}}
								{{#^rollTotal() jet 11}}
									{{#^rollTotal() jet 22}}
										{{#^rollTotal() jet 33}}
											{{#^rollTotal() jet 44}}
												{{#^rollTotal() jet 55}}
													{{#^rollTotal() jet 66}}
														{{#^rollTotal() jet 77}}
															{{#^rollTotal() jet 88}}
																{{#^rollTotal() jet 99}}
																	<span class="success">{{name}}</span>
																{{/^rollTotal() jet 99}}
															{{/^rollTotal() jet 88}}
														{{/^rollTotal() jet 77}}
													{{/^rollTotal() jet 66}}
												{{/^rollTotal() jet 55}}
											{{/^rollTotal() jet 44}}
										{{/^rollTotal() jet 33}}
									{{/^rollTotal() jet 22}}
								{{/^rollTotal() jet 11}}
							{{/^rollTotal() jet_creature 44}}
						{{/rollBetween() jet_creature 44 54}}
						
						{{#rollBetween() jet_creature 55 65}}
							{{#^rollTotal() jet_creature 55}}
								{{#^rollTotal() jet 11}}
									{{#^rollTotal() jet 22}}
										{{#^rollTotal() jet 33}}
											{{#^rollTotal() jet 44}}
												{{#^rollTotal() jet 55}}
													{{#^rollTotal() jet 66}}
														{{#^rollTotal() jet 77}}
															{{#^rollTotal() jet 88}}
																{{#^rollTotal() jet 99}}
																	<span class="success">{{name}}</span>
																{{/^rollTotal() jet 99}}
															{{/^rollTotal() jet 88}}
														{{/^rollTotal() jet 77}}
													{{/^rollTotal() jet 66}}
												{{/^rollTotal() jet 55}}
											{{/^rollTotal() jet 44}}
										{{/^rollTotal() jet 33}}
									{{/^rollTotal() jet 22}}
								{{/^rollTotal() jet 11}}
							{{/^rollTotal() jet_creature 55}}
						{{/rollBetween() jet_creature 55 65}}
						
						{{#rollBetween() jet_creature 66 76}}
							{{#^rollTotal() jet_creature 66}}
								{{#^rollTotal() jet 11}}
									{{#^rollTotal() jet 22}}
										{{#^rollTotal() jet 33}}
											{{#^rollTotal() jet 44}}
												{{#^rollTotal() jet 55}}
													{{#^rollTotal() jet 66}}
														{{#^rollTotal() jet 77}}
															{{#^rollTotal() jet 88}}
																{{#^rollTotal() jet 99}}
																	<span class="success">{{name}}</span>
																{{/^rollTotal() jet 99}}
															{{/^rollTotal() jet 88}}
														{{/^rollTotal() jet 77}}
													{{/^rollTotal() jet 66}}
												{{/^rollTotal() jet 55}}
											{{/^rollTotal() jet 44}}
										{{/^rollTotal() jet 33}}
									{{/^rollTotal() jet 22}}
								{{/^rollTotal() jet 11}}
							{{/^rollTotal() jet_creature 66}}
						{{/rollBetween() jet_creature 66 76}}
						
						{{#rollBetween() jet_creature 77 87}}
							{{#^rollTotal() jet_creature 77}}
								{{#^rollTotal() jet 11}}
									{{#^rollTotal() jet 22}}
										{{#^rollTotal() jet 33}}
											{{#^rollTotal() jet 44}}
												{{#^rollTotal() jet 55}}
													{{#^rollTotal() jet 66}}
														{{#^rollTotal() jet 77}}
															{{#^rollTotal() jet 88}}
																{{#^rollTotal() jet 99}}
																	<span class="success">{{name}}</span>
																{{/^rollTotal() jet 99}}
															{{/^rollTotal() jet 88}}
														{{/^rollTotal() jet 77}}
													{{/^rollTotal() jet 66}}
												{{/^rollTotal() jet 55}}
											{{/^rollTotal() jet 44}}
										{{/^rollTotal() jet 33}}
									{{/^rollTotal() jet 22}}
								{{/^rollTotal() jet 11}}
							{{/^rollTotal() jet_creature 77}}
						{{/rollBetween() jet_creature 77 87}}
						
						{{#rollBetween() jet_creature 88 98}}
							{{#^rollTotal() jet_creature 88}}
								{{#^rollTotal() jet 11}}
									{{#^rollTotal() jet 22}}
										{{#^rollTotal() jet 33}}
											{{#^rollTotal() jet 44}}
												{{#^rollTotal() jet 55}}
													{{#^rollTotal() jet 66}}
														{{#^rollTotal() jet 77}}
															{{#^rollTotal() jet 88}}
																{{#^rollTotal() jet 99}}
																	<span class="success">{{name}}</span>
																{{/^rollTotal() jet 99}}
															{{/^rollTotal() jet 88}}
														{{/^rollTotal() jet 77}}
													{{/^rollTotal() jet 66}}
												{{/^rollTotal() jet 55}}
											{{/^rollTotal() jet 44}}
										{{/^rollTotal() jet 33}}
									{{/^rollTotal() jet 22}}
								{{/^rollTotal() jet 11}}
							{{/^rollTotal() jet_creature 88}}
						{{/rollBetween() jet_creature 88 98}}
					{{/rollGreater() jet jet_creature}}
					
					{{#rollTotal() jet 11}}
						{{#^rollTotal() jet_creature 22}}
							{{#^rollTotal() jet_creature 33}}
								{{#^rollTotal() jet_creature 44}}
									{{#^rollTotal() jet_creature 55}}
										{{#^rollTotal() jet_creature 66}}
											{{#^rollTotal() jet_creature 77}}
												{{#^rollTotal() jet_creature 88}}
													{{#^rollTotal() jet_creature 99}}
														<span class="success">{{name}}</span>
													{{/^rollTotal() jet_creature 99}}
												{{/^rollTotal() jet_creature 88}}
											{{/^rollTotal() jet_creature 77}}
										{{/^rollTotal() jet_creature 66}}
									{{/^rollTotal() jet_creature 55}}
								{{/^rollTotal() jet_creature 44}}
							{{/^rollTotal() jet_creature 33}}
						{{/^rollTotal() jet_creature 22}}
					{{/rollTotal() jet 11}}
					
					{{#rollTotal() jet 22}}
						{{#^rollTotal() jet_creature 33}}
							{{#^rollTotal() jet_creature 44}}
								{{#^rollTotal() jet_creature 55}}
									{{#^rollTotal() jet_creature 66}}
										{{#^rollTotal() jet_creature 77}}
											{{#^rollTotal() jet_creature 88}}
												{{#^rollTotal() jet_creature 99}}
													<span class="success">{{name}}</span>
												{{/^rollTotal() jet_creature 99}}
											{{/^rollTotal() jet_creature 88}}
										{{/^rollTotal() jet_creature 77}}
									{{/^rollTotal() jet_creature 66}}
								{{/^rollTotal() jet_creature 55}}
							{{/^rollTotal() jet_creature 44}}
						{{/^rollTotal() jet_creature 33}}
					{{/rollTotal() jet 22}}
					
					{{#rollTotal() jet 33}}
						{{#^rollTotal() jet_creature 44}}
							{{#^rollTotal() jet_creature 55}}
								{{#^rollTotal() jet_creature 66}}
									{{#^rollTotal() jet_creature 77}}
										{{#^rollTotal() jet_creature 88}}
											{{#^rollTotal() jet_creature 99}}
												<span class="success">{{name}}</span>
											{{/^rollTotal() jet_creature 99}}
										{{/^rollTotal() jet_creature 88}}
									{{/^rollTotal() jet_creature 77}}
								{{/^rollTotal() jet_creature 66}}
							{{/^rollTotal() jet_creature 55}}
						{{/^rollTotal() jet_creature 44}}
					{{/rollTotal() jet 33}}
					
					{{#rollTotal() jet 44}}
						{{#^rollTotal() jet_creature 55}}
							{{#^rollTotal() jet_creature 66}}
								{{#^rollTotal() jet_creature 77}}
									{{#^rollTotal() jet_creature 88}}
										{{#^rollTotal() jet_creature 99}}
											<span class="success">{{name}}</span>
										{{/^rollTotal() jet_creature 99}}
									{{/^rollTotal() jet_creature 88}}
								{{/^rollTotal() jet_creature 77}}
							{{/^rollTotal() jet_creature 66}}
						{{/^rollTotal() jet_creature 55}}
					{{/rollTotal() jet 44}}
					
					{{#rollTotal() jet 55}}
						{{#^rollTotal() jet_creature 66}}
							{{#^rollTotal() jet_creature 77}}
								{{#^rollTotal() jet_creature 88}}
									{{#^rollTotal() jet_creature 99}}
										<span class="success">{{name}}</span>
									{{/^rollTotal() jet_creature 99}}
								{{/^rollTotal() jet_creature 88}}
							{{/^rollTotal() jet_creature 77}}
						{{/^rollTotal() jet_creature 66}}
					{{/rollTotal() jet 55}}
					
					{{#rollTotal() jet 66}}
						{{#^rollTotal() jet_creature 77}}
							{{#^rollTotal() jet_creature 88}}
								{{#^rollTotal() jet_creature 99}}
									<span class="success">{{name}}</span>
								{{/^rollTotal() jet_creature 99}}
							{{/^rollTotal() jet_creature 88}}
						{{/^rollTotal() jet_creature 77}}
					{{/rollTotal() jet 66}}
					
					{{#rollTotal() jet 77}}
						{{#^rollTotal() jet_creature 88}}
							{{#^rollTotal() jet_creature 99}}
								<span class="success">{{name}}</span>
							{{/^rollTotal() jet_creature 99}}
						{{/^rollTotal() jet_creature 88}}
					{{/rollTotal() jet 77}}
					
					{{#rollTotal() jet 88}}
						{{#^rollTotal() jet_creature 99}}
							<span class="success">{{name}}</span>
						{{/^rollTotal() jet_creature 99}}
					{{/rollTotal() jet 88}}
					
					{{#rollTotal() jet 99}}
							<span class="success">{{name}}</span>
					{{/rollTotal() jet 99}}
				{{/rollBetween() jet_creature 1 degre}}
			{{/rollBetween() jet 1 seuil}}
			
			{{#rollBetween() jet_creature 1 degre}}
				{{#^rollBetween() jet 1 seuil}}
					<span class="success">{{creature}}</span>
				{{/^rollBetween() jet 1 seuil}}
				{{#rollGreater() jet_creature jet}}
					{{#rollBetween() jet 1 21}}
						{{#^rollTotal() jet 11}}
							{{#^rollTotal() jet_creature 11}}
								{{#^rollTotal() jet_creature 22}}
									{{#^rollTotal() jet_creature 33}}
										{{#^rollTotal() jet_creature 44}}
											{{#^rollTotal() jet_creature 55}}
												{{#^rollTotal() jet_creature 66}}
													{{#^rollTotal() jet_creature 77}}
														{{#^rollTotal() jet_creature 88}}
															{{#^rollTotal() jet_creature 99}}
																<span class="success">{{creature}}</span>
															{{/^rollTotal() jet_creature 99}}
														{{/^rollTotal() jet_creature 88}}
													{{/^rollTotal() jet_creature 77}}
												{{/^rollTotal() jet_creature 66}}
											{{/^rollTotal() jet_creature 55}}
										{{/^rollTotal() jet_creature 44}}
									{{/^rollTotal() jet_creature 33}}
								{{/^rollTotal() jet_creature 22}}
							{{/^rollTotal() jet_creature 11}}
						{{/^rollTotal() jet 11}}
					{{/rollBetween() jet 1 21}}
					
					{{#rollBetween() jet 22 32}}
						{{#^rollTotal() jet 22}}
							{{#^rollTotal() jet_creature 11}}
								{{#^rollTotal() jet_creature 22}}
									{{#^rollTotal() jet_creature 33}}
										{{#^rollTotal() jet_creature 44}}
											{{#^rollTotal() jet_creature 55}}
												{{#^rollTotal() jet_creature 66}}
													{{#^rollTotal() jet_creature 77}}
														{{#^rollTotal() jet_creature 88}}
															{{#^rollTotal() jet_creature 99}}
																<span class="success">{{creature}}</span>
															{{/^rollTotal() jet_creature 99}}
														{{/^rollTotal() jet_creature 88}}
													{{/^rollTotal() jet_creature 77}}
												{{/^rollTotal() jet_creature 66}}
											{{/^rollTotal() jet_creature 55}}
										{{/^rollTotal() jet_creature 44}}
									{{/^rollTotal() jet_creature 33}}
								{{/^rollTotal() jet_creature 22}}
							{{/^rollTotal() jet_creature 11}}
						{{/^rollTotal() jet 22}}
					{{/rollBetween() jet 22 32}}
					
					{{#rollBetween() jet 33 43}}
						{{#^rollTotal() jet 33}}
							{{#^rollTotal() jet_creature 11}}
								{{#^rollTotal() jet_creature 22}}
									{{#^rollTotal() jet_creature 33}}
										{{#^rollTotal() jet_creature 44}}
											{{#^rollTotal() jet_creature 55}}
												{{#^rollTotal() jet_creature 66}}
													{{#^rollTotal() jet_creature 77}}
														{{#^rollTotal() jet_creature 88}}
															{{#^rollTotal() jet_creature 99}}
																<span class="success">{{creature}}</span>
															{{/^rollTotal() jet_creature 99}}
														{{/^rollTotal() jet_creature 88}}
													{{/^rollTotal() jet_creature 77}}
												{{/^rollTotal() jet_creature 66}}
											{{/^rollTotal() jet_creature 55}}
										{{/^rollTotal() jet_creature 44}}
									{{/^rollTotal() jet_creature 33}}
								{{/^rollTotal() jet_creature 22}}
							{{/^rollTotal() jet_creature 11}}
						{{/^rollTotal() jet 33}}
					{{/rollBetween() jet 33 43}}
					
					{{#rollBetween() jet 44 54}}
						{{#^rollTotal() jet 44}}
							{{#^rollTotal() jet_creature 11}}
								{{#^rollTotal() jet_creature 22}}
									{{#^rollTotal() jet_creature 33}}
										{{#^rollTotal() jet_creature 44}}
											{{#^rollTotal() jet_creature 55}}
												{{#^rollTotal() jet_creature 66}}
													{{#^rollTotal() jet_creature 77}}
														{{#^rollTotal() jet_creature 88}}
															{{#^rollTotal() jet_creature 99}}
																<span class="success">{{creature}}</span>
															{{/^rollTotal() jet_creature 99}}
														{{/^rollTotal() jet_creature 88}}
													{{/^rollTotal() jet_creature 77}}
												{{/^rollTotal() jet_creature 66}}
											{{/^rollTotal() jet_creature 55}}
										{{/^rollTotal() jet_creature 44}}
									{{/^rollTotal() jet_creature 33}}
								{{/^rollTotal() jet_creature 22}}
							{{/^rollTotal() jet_creature 11}}
						{{/^rollTotal() jet 44}}
					{{/rollBetween() jet 44 54}}
					
					{{#rollBetween() jet 55 65}}
						{{#^rollTotal() jet 55}}
							{{#^rollTotal() jet_creature 11}}
								{{#^rollTotal() jet_creature 22}}
									{{#^rollTotal() jet_creature 33}}
										{{#^rollTotal() jet_creature 44}}
											{{#^rollTotal() jet_creature 55}}
												{{#^rollTotal() jet_creature 66}}
													{{#^rollTotal() jet_creature 77}}
														{{#^rollTotal() jet_creature 88}}
															{{#^rollTotal() jet_creature 99}}
																<span class="success">{{creature}}</span>
															{{/^rollTotal() jet_creature 99}}
														{{/^rollTotal() jet_creature 88}}
													{{/^rollTotal() jet_creature 77}}
												{{/^rollTotal() jet_creature 66}}
											{{/^rollTotal() jet_creature 55}}
										{{/^rollTotal() jet_creature 44}}
									{{/^rollTotal() jet_creature 33}}
								{{/^rollTotal() jet_creature 22}}
							{{/^rollTotal() jet_creature 11}}
						{{/^rollTotal() jet 55}}
					{{/rollBetween() jet 55 65}}
					
					{{#rollBetween() jet 66 76}}
						{{#^rollTotal() jet 66}}
							{{#^rollTotal() jet_creature 11}}
								{{#^rollTotal() jet_creature 22}}
									{{#^rollTotal() jet_creature 33}}
										{{#^rollTotal() jet_creature 44}}
											{{#^rollTotal() jet_creature 55}}
												{{#^rollTotal() jet_creature 66}}
													{{#^rollTotal() jet_creature 77}}
														{{#^rollTotal() jet_creature 88}}
															{{#^rollTotal() jet_creature 99}}
																<span class="success">{{creature}}</span>
															{{/^rollTotal() jet_creature 99}}
														{{/^rollTotal() jet_creature 88}}
													{{/^rollTotal() jet_creature 77}}
												{{/^rollTotal() jet_creature 66}}
											{{/^rollTotal() jet_creature 55}}
										{{/^rollTotal() jet_creature 44}}
									{{/^rollTotal() jet_creature 33}}
								{{/^rollTotal() jet_creature 22}}
							{{/^rollTotal() jet_creature 11}}
						{{/^rollTotal() jet 66}}
					{{/rollBetween() jet 66 76}}
					
					{{#rollBetween() jet 77 87}}
						{{#^rollTotal() jet 77}}
							{{#^rollTotal() jet_creature 11}}
								{{#^rollTotal() jet_creature 22}}
									{{#^rollTotal() jet_creature 33}}
										{{#^rollTotal() jet_creature 44}}
											{{#^rollTotal() jet_creature 55}}
												{{#^rollTotal() jet_creature 66}}
													{{#^rollTotal() jet_creature 77}}
														{{#^rollTotal() jet_creature 88}}
															{{#^rollTotal() jet_creature 99}}
																<span class="success">{{creature}}</span>
															{{/^rollTotal() jet_creature 99}}
														{{/^rollTotal() jet_creature 88}}
													{{/^rollTotal() jet_creature 77}}
												{{/^rollTotal() jet_creature 66}}
											{{/^rollTotal() jet_creature 55}}
										{{/^rollTotal() jet_creature 44}}
									{{/^rollTotal() jet_creature 33}}
								{{/^rollTotal() jet_creature 22}}
							{{/^rollTotal() jet_creature 11}}
						{{/^rollTotal() jet 77}}
					{{/rollBetween() jet 77 87}}
					
					{{#rollBetween() jet 88 98}}
						{{#^rollTotal() jet 88}}
							{{#^rollTotal() jet_creature 11}}
								{{#^rollTotal() jet_creature 22}}
									{{#^rollTotal() jet_creature 33}}
										{{#^rollTotal() jet_creature 44}}
											{{#^rollTotal() jet_creature 55}}
												{{#^rollTotal() jet_creature 66}}
													{{#^rollTotal() jet_creature 77}}
														{{#^rollTotal() jet_creature 88}}
															{{#^rollTotal() jet_creature 99}}
																<span class="success">{{creature}}</span>
															{{/^rollTotal() jet_creature 99}}
														{{/^rollTotal() jet_creature 88}}
													{{/^rollTotal() jet_creature 77}}
												{{/^rollTotal() jet_creature 66}}
											{{/^rollTotal() jet_creature 55}}
										{{/^rollTotal() jet_creature 44}}
									{{/^rollTotal() jet_creature 33}}
								{{/^rollTotal() jet_creature 22}}
							{{/^rollTotal() jet_creature 11}}
						{{/^rollTotal() jet 88}}
					{{/rollBetween() jet 88 98}}
				{{/rollGreater() jet_creature jet}}
				
				{{#rollTotal() jet_creature 11}}
					{{#^rollTotal() jet 22}}
						{{#^rollTotal() jet 33}}
							{{#^rollTotal() jet 44}}
								{{#^rollTotal() jet 55}}
									{{#^rollTotal() jet 66}}
										{{#^rollTotal() jet 77}}
											{{#^rollTotal() jet 88}}
												{{#^rollTotal() jet 99}}
													<span class="success">{{creature}}</span>
												{{/^rollTotal() jet 99}}
											{{/^rollTotal() jet 88}}
										{{/^rollTotal() jet 77}}
									{{/^rollTotal() jet 66}}
								{{/^rollTotal() jet 55}}
							{{/^rollTotal() jet 44}}
						{{/^rollTotal() jet 33}}
					{{/^rollTotal() jet 22}}
				{{/rollTotal() jet_creature 11}}
				
				{{#rollTotal() jet_creature 22}}
					{{#^rollTotal() jet 33}}
						{{#^rollTotal() jet 44}}
							{{#^rollTotal() jet 55}}
								{{#^rollTotal() jet 66}}
									{{#^rollTotal() jet 77}}
										{{#^rollTotal() jet 88}}
											{{#^rollTotal() jet 99}}
												<span class="success">{{creature}}</span>
											{{/^rollTotal() jet 99}}
										{{/^rollTotal() jet 88}}
									{{/^rollTotal() jet 77}}
								{{/^rollTotal() jet 66}}
							{{/^rollTotal() jet 55}}
						{{/^rollTotal() jet 44}}
					{{/^rollTotal() jet 33}}
				{{/rollTotal() jet_creature 22}}
				
				{{#rollTotal() jet_creature 33}}
					{{#^rollTotal() jet 44}}
						{{#^rollTotal() jet 55}}
							{{#^rollTotal() jet 66}}
								{{#^rollTotal() jet 77}}
									{{#^rollTotal() jet 88}}
										{{#^rollTotal() jet 99}}
											<span class="success">{{creature}}</span>
										{{/^rollTotal() jet 99}}
									{{/^rollTotal() jet 88}}
								{{/^rollTotal() jet 77}}
							{{/^rollTotal() jet 66}}
						{{/^rollTotal() jet 55}}
					{{/^rollTotal() jet 44}}
				{{/rollTotal() jet_creature 33}}
				
				{{#rollTotal() jet_creature 44}}
					{{#^rollTotal() jet 55}}
						{{#^rollTotal() jet 66}}
							{{#^rollTotal() jet 77}}
								{{#^rollTotal() jet 88}}
									{{#^rollTotal() jet 99}}
										<span class="success">{{creature}}</span>
									{{/^rollTotal() jet 99}}
								{{/^rollTotal() jet 88}}
							{{/^rollTotal() jet 77}}
						{{/^rollTotal() jet 66}}
					{{/^rollTotal() jet 55}}
				{{/rollTotal() jet_creature 44}}
				
				{{#rollTotal() jet_creature 55}}
					{{#^rollTotal() jet 66}}
						{{#^rollTotal() jet 77}}
							{{#^rollTotal() jet 88}}
								{{#^rollTotal() jet 99}}
									<span class="success">{{creature}}</span>
								{{/^rollTotal() jet 99}}
							{{/^rollTotal() jet 88}}
						{{/^rollTotal() jet 77}}
					{{/^rollTotal() jet 66}}
				{{/rollTotal() jet_creature 55}}
				
				{{#rollTotal() jet_creature 66}}
					{{#^rollTotal() jet 77}}
						{{#^rollTotal() jet 88}}
							{{#^rollTotal() jet 99}}
								<span class="success">{{creature}}</span>
							{{/^rollTotal() jet 99}}
						{{/^rollTotal() jet 88}}
					{{/^rollTotal() jet 77}}
				{{/rollTotal() jet_creature 66}}
				
				{{#rollTotal() jet_creature 77}}
					{{#^rollTotal() jet 88}}
						{{#^rollTotal() jet 99}}
							<span class="success">{{creature}}</span>
						{{/^rollTotal() jet 99}}
					{{/^rollTotal() jet 88}}
				{{/rollTotal() jet_creature 77}}
				
				{{#rollTotal() jet_creature 88}}
					{{#^rollTotal() jet 99}}
						<span class="success">{{creature}}</span>
					{{/^rollTotal() jet 99}}
				{{/rollTotal() jet_creature 88}}
				
				{{#rollTotal() jet_creature 99}}
					<span class="success">{{creature}}</span>
				{{/rollTotal() jet_creature 99}}

			{{/rollBetween() jet_creature 1 degre}}
			{{#rollGreater() jet_creature degre}}
				{{#rollGreater() jet seuil}}
					<span class="fail">Aucun</span>
				{{/rollGreater() jet seuil}}
			{{/rollGreater() jet_creature degre}}
		</div>
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-formule">
	<h1>{{name}}</h1>
	<div>
		<span>Transmute la substance :</span>
		<span>{{nom_formule}}</span>
	</div>
	<div>
		<span>Résultat</span>
		<span>{{jet}}</span><span>({{seuil}})</span>
		{{#^rollTotal() jet 100}}
			{{#rollBetween() jet 1 seuil}}
				{{#^rollTotal() jet 11}}	
					{{#^rollTotal() jet 22}}
						{{#^rollTotal() jet 33}}
							{{#^rollTotal() jet 44}}
								{{#^rollTotal() jet 55}}
									{{#^rollTotal() jet 66}}
										{{#^rollTotal() jet 77}}
											{{#^rollTotal() jet 88}}
												{{#^rollTotal() jet 99}}
													<span class="success">Réussite</span>
												{{/^rollTotal() jet 99}}
											{{/^rollTotal() jet 88}}
										{{/^rollTotal() jet 77}}
									{{/^rollTotal() jet 66}}
								{{/^rollTotal() jet 55}}
							{{/^rollTotal() jet 44}}
						{{/^rollTotal() jet 33}}
					{{/^rollTotal() jet 22}}
				{{/^rollTotal() jet 11}}
				{{#rollTotal() jet 11}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 11}}
				{{#rollTotal() jet 22}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 22}}
				{{#rollTotal() jet 33}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 33}}
				{{#rollTotal() jet 44}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 44}}
				{{#rollTotal() jet 55}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 55}}
				{{#rollTotal() jet 66}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 66}}
				{{#rollTotal() jet 77}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 77}}
				{{#rollTotal() jet 88}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 88}}
				{{#rollTotal() jet 99}}
					<span class="success">Critique</span>
				{{/rollTotal() jet 99}}
			{{/rollBetween() jet 1 seuil}}
			{{#rollGreater() jet seuil}}
				{{#^rollTotal() jet 100}}
					{{#^rollTotal() jet 11}}	
						{{#^rollTotal() jet 22}}
							{{#^rollTotal() jet 33}}
								{{#^rollTotal() jet 44}}
									{{#^rollTotal() jet 55}}
										{{#^rollTotal() jet 66}}
											{{#^rollTotal() jet 77}}
												{{#^rollTotal() jet 88}}
													{{#^rollTotal() jet 99}}
														<span class="fail">Échec</span>
													{{/^rollTotal() jet 99}}
												{{/^rollTotal() jet 88}}
											{{/^rollTotal() jet 77}}
										{{/^rollTotal() jet 66}}
									{{/^rollTotal() jet 55}}
								{{/^rollTotal() jet 44}}
							{{/^rollTotal() jet 33}}
						{{/^rollTotal() jet 22}}
					{{/^rollTotal() jet 11}}
				{{/^rollTotal() jet 100}}
				{{#rollTotal() jet 11}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 11}}
				{{#rollTotal() jet 22}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 22}}
				{{#rollTotal() jet 33}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 33}}
				{{#rollTotal() jet 44}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 44}}
				{{#rollTotal() jet 55}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 55}}
				{{#rollTotal() jet 66}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 66}}
				{{#rollTotal() jet 77}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 77}}
				{{#rollTotal() jet 88}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 88}}
				{{#rollTotal() jet 99}}
					<span class="fail">Maladresse</span>
				{{/rollTotal() jet 99}}
			{{/rollGreater() jet seuil}}
		{{/^rollTotal() jet 100}}
		{{#rollTotal() jet 100}}
			<span class="fail">Maladresse</span>
		{{/rollTotal() jet 100}}
	</div>
	<div>
		<span>Aire d'effet : </span><span>{{aire_formule}}</span>
		<span>Durée : </span><span>{{duree_formule}}</span>
		<span>Cela utilise <span>{{nb_materia}} Materia Primae</span> par élément </span>
		<span>{{description_formule}}</span>
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-initiative">
	<h1>{{name}}</h1>
	<div>
		<span>Initiative</span>
		<span>{{jet}}</span>
	</div>
</rolltemplate>
