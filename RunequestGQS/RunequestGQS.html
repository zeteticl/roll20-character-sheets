<input type="text" style="display:none" value="0" name="attr_version" />
<input type="text" style="display:none" value="0" name="attr_version" />
<input type="text" style="display:none" value="0" name="attr_intialSRs" />
<input type="text" style="display:none" value="0" name="attr_SetupDone2" />	
<input type="checkbox" class="sheet-toggleFullSheet" name="attr_toggleFullSheet"  style="display: none">
<div class="sheet-FullSheet">


		<input type="radio" name="attr_tab1a" class="sheet-tab sheet-tab1a" value="1" title="Main" checked="checked" /><span title="Main"></span>
		<input type="radio" name="attr_tab1a" class="sheet-tab sheet-tab2a" value="2" title="Skills" /><span title="Skills"></span>
		<input type="radio" name="attr_tab1a" class="sheet-tab sheet-tab3a" value="3" title="Allies" /><span title="Allies"></span>
		<input type="radio" name="attr_tab1a" class="sheet-tab sheet-tab4a" value="4" title="Family" /><span title="Family"></span>			
		<div class="sheet-tab-contenta sheet-tab1a"><!--- Tab 1 start -->
		<div class="sheet-cdiv">
					<input class="sheet-HideConfig" type="checkbox" checked="checked" name="attr_is_config"><span class="sheet-is-config"><span style="font-family: &quot;pictos&quot;">y</span></span>
					<div class="sheet-config" style="border-style: dotted ; border-color: gray ; padding: 5px ; background-color: white ; background-image: none">
					 	
						<input type="checkbox" class="sheet-toggleQSSheet" name="attr_toggleQSSheet"  checked="checked">Display Quick Start Sheet
						<input type="checkbox" class="sheet-toggleFullSheet" name="attr_toggleFullSheet">Display Full Sheet
						<input type="checkbox" class="sheet-toggleNPC1Sheet" name="attr_toggleNPC1Sheet">Display NPC Sheet



					</div>
					<b>Version 14.12.2019</b>
					<input style="color:red;border:none;background:none;padding 0px;font-weight: bold;;width:400px;" type="text" readonly name="attr_versiony" value ="(https://tinyurl.com/yb9tgmlv)" />
					
					
		</div>	
			<br />
			<div class='sheet-2colrow' style="margin-bottom:19px;">
				<div class='sheet-col' style="margin-right:1px">
					<div class="sheet-info">
						<div class="sheet-input_label">Name</div><input type="text" style="width:131px;" class="sheet-text_input" name="attr_character_name" />
						<div class="sheet-input_label">Birth Year</div><input type="text" style="width:56px;" class="sheet-text_input" name="attr_birth_year" />
						<div class="sheet-input_label">Age</div><input type="text" style="width:35px;" class="sheet-text_input" name="attr_age" />
					</div>
					<div class="sheet-info">
						<div class="sheet-input_label">Gender</div><input type="text" style="width:99px;" class="sheet-text_input" name="attr_gender" />
						<div class="sheet-input_label">Homeland</div><input type="text" style="width:145px;" class="sheet-text_input" name="attr_homeland" />
					</div>				
					<div class="sheet-info">
						<div class="sheet-input_label">Tribe</div><input type="text" style="width:159px;" class="sheet-text_input" name="attr_tribe" />
						<div class="sheet-input_label">Clan</div><input type="text" style="width:143px;" class="sheet-text_input" name="attr_clan" />
					</div>					
					
				</div>
				<div class='sheet-col' style="margin-right:1px">
					<div class="sheet-info">
						<div class="sheet-input_label">Occupation</div><input type="text" style="width:159px;" class="sheet-text_input" name="attr_occupation" />
						<div class="sheet-input_label">Ransom</div><input type="text" style="width:56px;" class="sheet-text_input" name="attr_ransom" />(L)
						
					</div>
					<div class="sheet-info">
						<div class="sheet-input_label">Reputation</div><input type="text" value="0" class="sheet-text_input sheet-percentiles" name="attr_reputation" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{reputation}]]}} {{fumble=[[{(101-(round((100-(@{reputation}))/20))),100}kl1]]}} {{crit=[[round(([[(@{reputation})]])/20)+1]]}}  {{special=[[round(([[(@{reputation})]])/5)+1]]}}    {{success=[[(@{reputation})]]}} {{roll=[[1d100]]}} {{skillname=Reputation}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{reputation}]]}} {{fumble=[[{(101-(round((100-(@{reputation}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{reputation}+?{Mods|0})/20)+1]]}}  {{special=[[round((@{reputation}+?{Mods|0})/5)+1]]}}    {{success=[[@{reputation}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Reputation}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
						<div class="sheet-input_label">Standard of Living</div><input type="text" style="width:75px;" class="sheet-text_input" name="attr_living_standard" />
					
					</div>				
					<div class="sheet-info">
						<div class="sheet-input_label">Base Income</div><input type="text" style="width:95px;" class="sheet-text_input" name="attr_base_income" />(L)					
						<div class="sheet-input_label">Campaign</div><input type="text" style="width:96px;" class="sheet-text_input" name="attr_campaign" />
					</div>			
				
				</div>			
			</div>
			<hr class="sheet-hr" />

			<div class='sheet-3colrow'><!-- Runes and Hit locations -->
				<div class='sheet-col' style="position: relative;margin-right:1px"><!--Hit Location-->

					<div class="sheet-hit-box sheet-hit-head" style="font-size:x-small" >
						<label>Head 19-20</label>
						<div>
							<span>AP</span>
							<input type="text" style="display:inline-block;" value="0" name="attr_EqpArmorHd" />
							<input type="text" style="display:inline-block;;" value="0" name="attr_EqpBonusHd" />
							<input type="text" style="display:inline-block;;" value="[[@{EqpArmorHd}+@{EqpBonusHd}]]" disabled name="attr_EqpTotalHd" />
						</div>
						<div>
							<span>HP</span>
							<input type="text" style="display:inline-block;;"  readonly value="0" name="attr_hd_max_hp" />
							<input type="text" style="display:inline-block;;" readonly value="0" name="attr_hd_cur_hp" />
						</div>
						<div>
							<span>Wnds.</span>
							<input type="text" class="sheet-wnds"  value="0+0" name="attr_hd_damage" />
						</div>										
						
					</div>	

					
					<div class="sheet-hit-box sheet-hit-larm" style="font-size:x-small" >
						<label>L Arm 16-18</label>
						<div>
							<span>AP</span>
							<input type="text" style="display:inline-block;" value="0" name="attr_EqpArmorLA" />
							<input type="text" style="display:inline-block;;" value="0" name="attr_EqpBonusLA" />
							<input type="text" style="display:inline-block;;" value="[[@{EqpArmorLA}+@{EqpBonusLA}]]" disabled  name="attr_EqpTotalLA" />
						</div>
						<div>
							<span>HP</span>
							<input type="text" style="display:inline-block;;" value="0" readonly name="attr_l_arm_max_hp" />
							<input type="text" style="display:inline-block;;" value="0"  readonly name="attr_l_arm_cur_hp" />
						</div>
						<div>
							<span>Wnds.</span>
							<input type="text" class="sheet-wnds"  value="0+0" name="attr_l_arm_damage" />
						</div>										
						
					</div>					
					
					
					<div class="sheet-hit-box sheet-hit-rarm" style="font-size:x-small" >
						<label>R Arm 13-15</label>
						<div>
							<span>AP</span>
							<input type="text" style="display:inline-block;" value="0" name="attr_EqpArmorRA" />
							<input type="text" style="display:inline-block;;" value="0" name="attr_EqpBonusRA" />
							<input type="text" style="display:inline-block;;" value="[[@{EqpArmorRA}+@{EqpBonusRA}]]" disabled  name="attr_EqpTotalRA" />
						</div>
						<div>
							<span>HP</span>
							<input type="text" style="display:inline-block;;"  readonly  value="0" name="attr_r_arm_max_hp" />
							<input type="text" style="display:inline-block;;"  readonly  value="0" name="attr_r_arm_cur_hp" />
						</div>
						<div>
							<span>Wnds.</span>
							<input type="text" class="sheet-wnds"  value="0+0" name="attr_r_arm_damage" />
						</div>										
						
					</div>	
				
					<div class="sheet-hit-box sheet-hit-chest" style="font-size:x-small" >
						<label>Chest 12</label>
						<div>
							<span>AP</span>
							<input type="text" style="display:inline-block;" value="0" name="attr_EqpArmorCh" />
							<input type="text" style="display:inline-block;;" value="0" name="attr_EqpBonusCh" />
							<input type="text" style="display:inline-block;;" value="[[@{EqpArmorCh}+@{EqpBonusCh}]]" disabled  name="attr_EqpTotalCh" />
						</div>
						<div>
							<span>HP</span>
							<input type="text" style="display:inline-block;;" value="0"  readonly  name="attr_chst_max_hp" />
							<input type="text" style="display:inline-block;;" value="0"  readonly  name="attr_chst_cur_hp" />
						</div>
						<div>
							<span>Wnds.</span>
							<input type="text" class="sheet-wnds"  value="0+0" name="attr_chst_damage" />
						</div>										
						
					</div>	
					
					<div class="sheet-hit-box sheet-hit-abd" style="font-size:x-small" >
						<label>Abd 9-11</label>
						<div>
							<span>AP</span>
							<input type="text" style="display:inline-block;" value="0" name="attr_EqpArmorAb" />
							<input type="text" style="display:inline-block;;" value="0" name="attr_EqpBonusAb" />
							<input type="text" style="display:inline-block;;" value="[[@{EqpArmorAb}+@{EqpBonusAb}]]" disabled  name="attr_EqpTotalAb" />
						</div>
						<div>
							<span>HP</span>
							<input type="text" style="display:inline-block;;" value="0"  readonly name="attr_abd_max_hp" />
							<input type="text" style="display:inline-block;;" value="0"  readonly name="attr_abd_cur_hp" />
						</div>
						<div>
							<span>Wnds.</span>
							<input type="text" class="sheet-wnds"  value="0+0" name="attr_abd_damage" />
						</div>										
						
					</div>					
					
					
					
					<div class="sheet-hit-box sheet-hit-lleg" style="font-size:x-small" >
						<label>L Leg 5-8</label>
						<div>
							<span>AP</span>
							<input type="text" style="display:inline-block;" value="0" name="attr_EqpArmorLL" />
							<input type="text" style="display:inline-block;;" value="0" name="attr_EqpBonusLL" />
							<input type="text" style="display:inline-block;;" value="[[@{EqpArmorLL}+@{EqpBonusLL}]]" disabled  name="attr_EqpTotalLL" />
						</div>
						<div>
							<span>HP</span>
							<input type="text" style="display:inline-block;;" value="0"  readonly  name="attr_l_leg_max_hp" />
							<input type="text" style="display:inline-block;;" value="0"  readonly  name="attr_l_leg_cur_hp" />
						</div>
						<div>
							<span>Wnds.</span>
							<input type="text" class="sheet-wnds"  value="0+0" name="attr_l_leg_damage" />
						</div>										
						
					</div>					
					
					
					<div class="sheet-hit-box sheet-hit-rleg" style="font-size:x-small" >
						<label>R leg 1-4</label>
						<div>
							<span>AP</span>
							<input type="text" style="display:inline-block;" value="0" name="attr_EqpArmorRL" />
							<input type="text" style="display:inline-block;;" value="0" name="attr_EqpBonusRL" />
							<input type="text" style="display:inline-block;;" value="[[@{EqpArmorRL}+@{EqpBonusRL}]]" disabled  name="attr_EqpTotalRL" />
						</div>
						<div>
							<span>HP</span>
							<input type="text" style="display:inline-block;;" value="0"  readonly  name="attr_r_leg_max_hp" />
							<input type="text" style="display:inline-block;;" value="0"  readonly  name="attr_r_leg_cur_hp" />
						</div>
						<div>
							<span>Wnds.</span>
							<input type="text" class="sheet-wnds"  value="0+0" name="attr_r_leg_damage" />
						</div>										
						
					</div>					
					
					
					
					
					
					<img class="sheet-man-image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/man.png" />			
				
				</div><!--Hit Location-->
				<div class='sheet-col' style="position: relative;"><!--Elemental Runes-->
					<img class="sheet-elemental-image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/Elemental.png" />

					<div class="sheet-air-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{air_rune}]]}} {{fumble=[[{(101-(round((100-(@{air_rune}+?{Mods|0}))/20))),100}kl1]]}}  {{crit=[[round((@{air_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{air_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{air_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Air Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/air rune.jpg"></button>
					</div>
					
					<div class="sheet-fire-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{fire_rune}]]}} {{fumble=[[{(101-(round((100-(@{fire_rune}+?{Mods|0}))/20))),100}kl1]]}}  {{crit=[[round((@{fire_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{fire_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{fire_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Fire Rune}}  "  class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/fire rune.png"></button>
					</div>
									
					<div class="sheet-dark-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{dark_rune}]]}} {{fumble=[[{(101-(round((100-(@{dark_rune}+?{Mods|0}))/20))),100}kl1]]}}  {{crit=[[round((@{dark_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{dark_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{dark_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dark Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/darkness rune.png"></button>
					</div>				

					<div class="sheet-water-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{water_rune}]]}} {{fumble=[[{(101-(round((100-(@{water_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{water_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{water_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{water_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Water Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/water rune.png"></button>
					</div>	

					<div class="sheet-earth-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{earth_rune}]]}} {{fumble=[[{(101-(round((100-(@{earth_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{earth_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{earth_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{earth_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Earth Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/earth rune.png"></button>
					</div>	


					<div class="sheet-moon-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{moon_rune}]]}} {{fumble=[[{(101-(round((100-(@{moon_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{moon_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{moon_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{moon_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Moon Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/moon rune.png"></button>
					</div>					
					
					<input type="text" class="sheet-rune_input sheet-dark-value" value="0" name="attr_dark_rune" />
					<input type="checkbox" class="sheet-dark-check"  value="1" name="attr_dark-runeExp" />		

					
					<input type="text" class="sheet-rune_input sheet-air-value" value="0" name="attr_air_rune" />
					<input type="checkbox" class="sheet-air-check"  value="1" name="attr_air-runeExp" />
					
					<input type="text" class="sheet-rune_input sheet-moon-value" value="0" name="attr_moon_rune" />
					<input type="checkbox" class="sheet-moon-check"  value="1" name="attr_moon-runeExp" />				
						
					<input type="text" class="sheet-rune_input sheet-fire-value" value="0" name="attr_fire_rune" />
					<input type="checkbox" class="sheet-fire-check"  value="1" name="attr_fire-runeExp" />				
					
					<input type="text" class="sheet-rune_input sheet-water-value" value="0" name="attr_water_rune" />
					<input type="checkbox" class="sheet-water-check"  value="1" name="attr_water-runeExp" />				
									
					<input type="text" class="sheet-rune_input sheet-earth-value" value="0" name="attr_earth_rune" />
					<input type="checkbox" class="sheet-earth-check"  value="1" name="attr_earth-runeExp" />				
					
				</div><!--Elemental RuneS-->			
				<div class='sheet-col'style="position: relative;"><!--Power Runes-->
				

					<img class="sheet-power-image" src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/new_power4.jpg" />	


					<div class="sheet-manR-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{man_rune}]]}} {{fumble=[[{(101-(round((100-(@{man_rune}+?{Mods|0}))/20))),100}kl1]]}}{{crit=[[round((@{man_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{man_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{man_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Man Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/man rune new.png"></button>
					</div>
					
					<div class="sheet-fertility-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{fertility_rune}]]}} {{fumble=[[{(101-(round((100-(@{fertility_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{fertility_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{fertility_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{fertility_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Fertility Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/fertility rune new.png"></button>
					</div>
									

					<div class="sheet-harmony-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{harmony_rune}]]}} {{fumble=[[{(101-(round((100-(@{harmony_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{harmony_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{harmony_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{harmony_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Harmony Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/harmony rune new.png"></button>
					</div>								
									
					<div class="sheet-truth-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{truth_rune}]]}} {{fumble=[[{(101-(round((100-(@{truth_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{truth_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{truth_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{truth_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Truth Rune}}" class="sheet-rune_roll" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/truth rune new.png"></button>
					</div>								
									
					<div class="sheet-stasis-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{stasis_rune}]]}} {{fumble=[[{(101-(round((100-(@{stasis_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{stasis_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{stasis_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{stasis_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Stasis Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/stasis rune new.png"></button>
					</div>								
									
					<div class="sheet-death-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{death_rune}]]}} {{fumble=[[{(101-(round((100-(@{death_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{death_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{death_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{death_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Death Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/death rune new.png"></button>
					</div>																
									
					<div class="sheet-disorder-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{disorder_rune}]]}} {{fumble=[[{(101-(round((100-(@{disorder_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{disorder_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{disorder_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{disorder_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Disorder Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/disorder rune new.png"></button>
					</div>																
									
					<div class="sheet-illusion-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{illusion_rune}]]}} {{fumble=[[{(101-(round((100-(@{illusion_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{illusion_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{illusion_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{illusion_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Illusion Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/illusion rune new.png"></button>
					</div>								

					<div class="sheet-movement-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{movement_rune}]]}} {{fumble=[[{(101-(round((100-(@{movement_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{movement_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{disorder_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{movement_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Move Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/movement rune new.png"></button>
					</div>												
					
					
					<div class="sheet-beast-image">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{beast_rune}]]}} {{fumble=[[{(101-(round((100-(@{beast_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[round((@{beast_rune}+?{Mods|0})/20)+1]]}} {{special=[[round((@{beast_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{beast_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Beast Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/beast rune new.png"></button>
					</div>				
									
					<input type="text" class="sheet-rune_input sheet-man-value" value="0" name="attr_man_rune" />
					<input type="checkbox" class="sheet-man-check"  value="1" name="attr_man-runeExp" />	
					
					<input type="text" class="sheet-rune_input sheet-fertility-value" value="0" name="attr_fertility_rune" />
					<input type="checkbox" class="sheet-fertility-check"  value="1" name="attr_fertility-runeExp" />		
					
					<input type="text" class="sheet-rune_input sheet-harmony-value" value="0" name="attr_harmony_rune" />
					<input type="checkbox" class="sheet-harmony-check"  value="1" name="attr_harmony-runeExp" />		
					
					<input type="text" class="sheet-rune_input sheet-truth-value" value="0" name="attr_truth_rune" />
					<input type="checkbox" class="sheet-truth-check"  value="1" name="attr_truth-runeExp" />		
				
					<input type="text" class="sheet-rune_input sheet-stasis-value" value="0" name="attr_stasis_rune" />
					<input type="checkbox" class="sheet-stasis-check"  value="1" name="attr_stasis-runeExp" />		
					
					<input type="text" class="sheet-rune_input sheet-death-value" value="0" name="attr_death_rune" />
					<input type="checkbox" class="sheet-death-check"  value="1" name="attr_death-runeExp" />		
					
					<input type="text" class="sheet-rune_input sheet-disorder-value" value="0" name="attr_disorder_rune" />
					<input type="checkbox" class="sheet-disorder-check"  value="1" name="attr_disorder-runeExp" />		
					
					<input type="text" class="sheet-rune_input sheet-illusion-value" value="0" name="attr_illusion_rune" />
					<input type="checkbox" class="sheet-illusion-check"  value="1" name="attr_illusion-runeExp" />		

					<input type="text" class="sheet-rune_input sheet-movement-value" value="0" name="attr_movement_rune" />
					<input type="checkbox" class="sheet-movement-check"  value="1" name="attr_movement-runeExp" />	

					<input type="text" class="sheet-rune_input sheet-movement-value" value="0" name="attr_death_rune" />
					<input type="checkbox" class="sheet-movement-check"  value="1" name="attr_movement-runeExp" />	

					<input type="text" class="sheet-rune_input sheet-movement-value" value="0" name="attr_movement_rune" />
					<input type="checkbox" class="sheet-movement-check"  value="1" name="attr_movement-runeExp" />	
					
					
					<input type="text" class="sheet-rune_input sheet-beast-value" value="0" name="attr_beast_rune" />
					<input type="checkbox" class="sheet-beast-check"  value="1" name="attr_beast-runeExp" />	
					
				
				</div><!--Power Runes-->	


			</div>
				<br/>
				<br/>
				<hr class="sheet-hr" />


				<div class='sheet-2colrow'>
					<div class='sheet-col' style="margin-right:30px;width:50%">
						<div class="sheet-header">Characteristics</div>
						<div class='sheet-2colrow'>
							<div>
								<label style="margin-left:56px;display:inline;font-size:0.6em">Orig.</label>
								<label style="margin-left:5px;display:inline;font-size:0.6em">Mod.</label>
								<label style="margin-left:5px;display:inline;font-size:0.6em">Cur.</label>							
							</div>						
						<div class='sheet-col' style="width:64%;margin-right:1px">
							<div>
								<div class="sheet-char-label">STR</div>
								<input type="text" class="sheet-char_values" name="attr_basestr" value="0"/>
								<input type="text" class="sheet-char_values" name="attr_modstr" value="0"/>
								<input type="text" class="sheet-char_values" readonly name="attr_curstr" value="0"/>
								<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[((@{curstr}+@{strBuff})*5)]]}} {{fumble=[[{(101-(round((100-((@{curstr}+@{strBuff})*5))/20))),100}kl1]]}} {{crit=[[round(([[((@{curstr}+@{strBuff})*5)]])/20)+1]]}} {{special=[[round(([[((@{curstr}+@{strBuff})*5)]])/5)+1]]}}         {{success=[[((@{curstr}+@{strBuff})*5)]]}} {{roll=[[1d100]]}} {{skillname=STR}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[((@{curstr}+@{strBuff})*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-((@{curstr}+@{strBuff})*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[((@{curstr}+@{strBuff})*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[((@{curstr}+@{strBuff})*?{multiplier|5})]])/5)+1]]}}         {{success=[[((@{curstr}+@{strBuff})*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=STR}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								<input name="attr_strBuff" value="0" style="display:none" />
								<!--<input type="checkbox"  title="Strength Cast"  name="attr_strengthCast"  />-->
								
							</div>	
							
							<div>
								<div class="sheet-char-label">CON</div>

								<input type="text" class="sheet-char_values" name="attr_basecon" value="0"/>
								<input type="text" class="sheet-char_values" name="attr_modcon" value="0"/>
								<input type="text" class="sheet-char_values" readonly name="attr_curcon" value="0"/>
								<button type="roll" class="sheet-d100_roll"   value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[((@{curcon}+@{conBuff})*5)]]}} {{fumble=[[{(101-(round((100-((@{curcon}+@{conBuff})*5))/20))),100}kl1]]}} {{crit=[[round(([[((@{curcon}+@{conBuff})*5)]])/20)+1]]}} {{special=[[round(([[((@{curcon}+@{conBuff})*5)]])/5)+1]]}}         {{success=[[((@{curcon}+@{conBuff})*5)]]}} {{roll=[[1d100]]}} {{skillname=CON}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" />
								</button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[((@{curcon}+@{conBuff})*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-((@{curcon}+@{conBuff})*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[((@{curcon}+@{conBuff})*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[((@{curcon}+@{conBuff})*?{multiplier|5})]])/5)+1]]}}         {{success=[[((@{curcon}+@{conBuff})*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=CON}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
                                                  
								<input name="attr_conBuff" value="0" style="display:none" />
								<!--<input type="checkbox"  title="Vigor Cast"  name="attr_vigorCast"  />-->
								
							</div>	

							<div>
								<div class="sheet-char-label">SIZ</div>
								<input type="text" class="sheet-char_values" name="attr_basesiz" value="0" />
								<input type="text" class="sheet-char_values" name="attr_modsiz" value="0"/>									
								<input type="text" class="sheet-char_values" readonly name="attr_cursiz" value="0"/>
								<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{cursiz}*5)]]}} {{fumble=[[{(101-(round((100-(@{cursiz}*5))/20))),100}kl1]]}} {{crit=[[round(([[(@{cursiz}*5)]])/20)+1]]}} {{special=[[round(([[(@{cursiz}*5)]])/5)+1]]}}         {{success=[[(@{cursiz}*5)]]}} {{roll=[[1d100]]}} {{skillname=SIZ}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{cursiz}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{cursiz}*?{multiplier|5}))/20))),100}kl1]]}}  {{crit=[[round(([[(@{cursiz}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{cursiz}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{cursiz}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=SIZ}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>	
							</div>	
							
							<div>
								<div class="sheet-char-label">INT</div>

								<input type="text" class="sheet-char_values" name="attr_baseint" value="0"/>	
								<input type="text" class="sheet-char_values" name="attr_modint" value="0"/>									
								<input type="text" class="sheet-char_values" readonly name="attr_curint" value="0"/>
								<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curint}*5)]]}} {{fumble=[[{(101-(round((100-(@{curint}*5))/20))),100}kl1]]}} {{crit=[[round(([[(@{curint}*5)]])/20)+1]]}} {{special=[[round(([[(@{curint}*5)]])/5)+1]]}}         {{success=[[(@{curint}*5)]]}} {{roll=[[1d100]]}} {{skillname=INT}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curint}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{curint}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{curint}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{curint}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{curint}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=INT}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>	
							</div>
							
							<div>
								<div class="sheet-char-label">POW</div>						

								<input type="text" class="sheet-char_values" name="attr_basepow" value="0"/>
								<input type="text" class="sheet-char_values" name="attr_modpow" value="0"/>									
								<input type="text" class="sheet-char_values" readonly name="attr_curpow" value="0"/>
								<button type="roll"  class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[{(101-(round((100-(@{curpow}*5))/20))),100}kl1]]}} {{crit=[[round(([[(@{curpow}*5)]])/20)+1]]}} {{special=[[round(([[(@{curpow}*5)]])/5)+1]]}}         {{success=[[(@{curpow}*5)]]}} {{roll=[[1d100]]}} {{skillname=POW}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{curpow}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{curpow}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{curpow}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{curpow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								<input type="checkbox"  name="attr_pow_check" title="POW check"/>								
							</div>

							<div>
								<div class="sheet-char-label">DEX</div>						

								<input type="text" class="sheet-char_values" name="attr_basedex" value="0"/>	
								<input type="text" class="sheet-char_values" name="attr_moddex" value="0"/>									
								<input type="text" class="sheet-char_values" readonly name="attr_curdex" value="0"/>
								<button type="roll" class="sheet-d100_roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[((@{curdex}+@{dexBuff})*5)]]}} {{fumble=[[{(101-(round((100-((@{curdex}+@{dexBuff})*5))/20))),100}kl1]]}} {{crit=[[round(([[((@{curdex}+@{dexBuff})*5)]])/20)+1]]}} {{special=[[round(([[((@{curdex}+@{dexBuff})*5)]])/5)+1]]}}         {{success=[[((@{curdex}+@{dexBuff})*5)]]}} {{roll=[[1d100]]}} {{skillname=DEX}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[((@{curdex}+@{dexBuff})*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-((@{curdex}+@{dexBuff})*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[((@{curdex}+@{dexBuff})*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[((@{curdex}+@{dexBuff})*?{multiplier|5})]])/5)+1]]}}         {{success=[[((@{curdex}+@{dexBuff})*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=DEX}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								
								<input name="attr_dexBuff" value="0" style="display:none" />
								<input name="attr_srBuff" value="0" style="display:none" />

							</div>

							<div>	
								<div class="sheet-char-label">CHR</div>
								<input type="text" class="sheet-char_values" name="attr_basechr" value="0"/>	
								<input type="text" class="sheet-char_values" name="attr_modchr" value="0"/>									
								<input type="text" class="sheet-char_values" readonly name="attr_curchr" value="0"/>
								<button type="roll" class="sheet-d100_roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[((@{curchr}+@{chrBuff})*5)]]}} {{fumble=[[{(101-(round((100-((@{curchr}+@{chrBuff})*5))/20))),100}kl1]]}} {{crit=[[round(([[((@{curchr}+@{chrBuff})*5)]])/20)+1]]}} {{special=[[round(([[((@{curchr}+@{chrBuff})*5)]])/5)+1]]}}         {{success=[[((@{curchr}+@{chrBuff})*5)]]}} {{roll=[[1d100]]}} {{skillname=CHR}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[((@{curchr}+@{chrBuff})*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-((@{curchr}+@{chrBuff})*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[((@{curchr}+@{chrBuff})*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[((@{curchr}+@{chrBuff})*?{multiplier|5})]])/5)+1]]}}         {{success=[[((@{curchr}+@{chrBuff})*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=CHR}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								<!--<input type="checkbox"  title="Glamour Cast"  name="attr_glamourCast"  />-->
								<input name="attr_chrBuff" value="0" style="display:none" />
							</div>
						</div>	

						
						<div class='sheet-col' style="margin-right:1px;width:30%">
							<div>
								<div class="sheet-attribute_label">Dam. Bonus</div>
								<input style="width:50px;" type="text" readonly name="attr_damagebonus" />
								<input style="display:none" type="text" readonly name="attr_mdamagebonus" />
								<input style="display:none" type="text" readonly name="attr_maxDb" />
								<input style="display:none" type="text" readonly name="attr_mmaxDb" />

							</div>
							<div>
								<div class="sheet-attribute_label">Move Rate</div>
								<input style="width:50px;" type="text"  value="8" name="attr_move_rate" />	
							</div>	
							<div>
								<div class="sheet-attribute_label">Dex SRM</div>
								<input style="width:50px;" value="0" type="text" readonly name="attr_dex_srm" />	
							</div>	
							<div>
								<div class="sheet-attribute_label">Size SRM</div>
								<input style="width:50px;" value="0" type="text" readonly name="attr_siz_srm" />	
							</div>		
							<div>
								<div class="sheet-attribute_label">Melee SRM</div>
								<input style="width:50px;" value="0" type="text" readonly name="attr_melee_srm" />	
							</div>				
							<div>
								<div class="sheet-attribute_label">Heal Rate</div>
								<input style="width:50px;" value="0" type="text" readonly name="attr_heal_rate" />	
							</div>		
						
							</div>
						</div>	
						<span class="buffMsg" name="attr_buffMsg" ></span><input style="display:none" type="text" readonly name="attr_buffMsg" />
						<br />
						<div class="sheet-header">Passions</div>
						<div>
							<div class="sheet-input_label">Honor</div><input type="text" value="0" style="margin-right:5px;" class="sheet-text_input sheet-percentiles" name="attr_honor" /><input type="checkbox"  style="margin-right:5px;" name="attr_honor_check"/><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{type=P}} {{skillvalue=[[(@{honor})]]}} {{fumble=[[ceil(95+([[(@{honor})]])/20))]]}} {{crit=[[round(([[(@{honor})]])/20)+1]]}}  {{special=[[round(([[(@{honor})]])/5)+1]]}}    {{success=[[(@{honor})]]}} {{roll=[[1d100]]}} {{skillname=Honor}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{type=P}} {{name=@{character_name}}} {{skillvalue=[[@{honor}]]}} {{fumble=[[ceil(95+(@{honor}+?{Mods|0})/20)]]}} {{crit=[[round((@{honor}+?{Mods|0})/20)+1]]}}  {{special=[[round((@{honor}+?{Mods|0})/5)+1]]}}    {{success=[[@{honor}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Honor}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>						
						</div>
						<br />
						<div>
							<fieldset class="repeating_passions">
								<input type="text" class="sheet-text_input" style="width:293px"  name="attr_passion" placeholder="Passion(.............)" />
								<input type="text" class="sheet-text_input sheet-percentiles" name="attr_value" value="0" />
								<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{type=P}} {{name=@{character_name}}} {{skillvalue=[[(@{value})]]}} {{fumble=[[ceil(95+([[(@{value})]])/20))]]}} {{crit=[[round(([[(@{value})]])/20)+1]]}}  {{special=[[round(([[(@{value})]])/5)+1]]}}    {{success=[[(@{value})]]}} {{roll=[[1d100]]}} {{skillname=@{Passion}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{type=P}} {{name=@{character_name}}} {{skillvalue=[[@{value}]]}} {{fumble=[[ceil(95+(@{value}+?{Mods|0})/20)]]}} {{crit=[[round((@{value}+?{Mods|0})/20)+1]]}}  {{special=[[round((@{value}+?{Mods|0})/5)+1]]}}    {{success=[[@{value}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{Passion}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								<input type="checkbox" name="attr_passionExp" />
							</fieldset>
						</div>
						<br />

							
							<div style="border:1px solid black;border-radius:5px;padding:5px">
							
								<div style="text-align:center" class="sheet-input_label">Hit Points</div>							
								<div>
									 <div style="display:inline-block">
										<!-- value="[round((@{cursiz}+@{curcon})/2)]" -->
										<label style="font-size:0.5em;text-align:center">Max</label>
										<input style="text-align:center;width:3.5em" type="text" readonly value="0" name="attr_hp_max" />-
									 </div>
									 <div style="display:inline-block">
										<label style="font-size:0.5em;text-align:center">LHP<br />Loss</label>					
										<input style="text-align:center;width:3em;" readonly value="0" type="text" name="attr_lhp_loss"  />-
									 </div>
									 <div style="display:inline-block">
										<label style="font-size:0.5em;text-align:centee">THP<br />Loss</label>
										<input style="text-align:center;width:3.5em;" readonly value="0" type="text" name="attr_thp_loss"  />=
									 </div>
									 <div style="display:inline-block">
										<label style="font-size:0.5em;text-align:center">Cur.<br />HP</label>					
										<input style="text-align:left;width:3em;" value="0" type="text" readonly name="attr_hp_cur"  />
									 </div>
									 <div style="display:inline-block">
										<label style="font-size:0.5em;text-align:center">THP Wounds</label>					
										<input style="text-align:center;width:11em;" value="0+0" type="text" name="attr_thp_wnds"  />
									 </div>	
								</div>	 
							</div><!-- -->
							<br />
							<!-- Start of hit locations and fumbles -->
							<div style="border:1px solid black;padding:5px;border-radius:5px">
								<div style=" margin-left:50px;">
								  <div style="margin-left: 5px;display:inline">
									<div class="sheet-input_label">Dodge</div>
									 <input  class="sheet-section-header sheet-percentiles" readonly type="text" name="attr_dodge"/>
									 <button  class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{dodge})]]}} {{fumble=[[ceil(95+([[(@{dodge})]])/20))]]}} {{crit=[[round(([[(@{dodge})]])/20)+1]]}}  {{special=[[round(([[(@{dodge})]])/5)+1]]}}    {{success=[[(@{dodge})]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button  class="sheet-d100_roll"  type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{dodge}]]}} {{fumble=[[ceil(95+(@{dodge}+?{Mods|0})/20)]]}} {{crit=[[round((@{dodge}+?{Mods|0})/20)+1]]}}  {{special=[[round((@{dodge}+?{Mods|0})/5)+1]]}}    {{success=[[@{dodge}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								  </div>
								  <div style="margin-left: 5px;display:inline">
									 <div class="sheet-input_label">Fumble</div>
									 <button  class="sheet-d100_roll"  type="roll" value="&{template:RQG-Fumble} {{roll=[[1d100]]}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								  </div>
								</div>
								<div>
									<div style="display:inline;margin-left:0px;">
										<div class="sheet-input_label">Hit Location</div>
										<select class="hitlocDrop" name="attr_creature_hit_location" style="font-size:x-small;margin-top: 7px; height: 24px ; width: 130px">
										   <option value="AnkylosaursL-">Ankylosaurs</option>
										   <option value="BeetleL-">Beetle</option>
										   <option value="BirdsFlyingL-">Birds, Flying</option>
										   <option value="BirdsRunningL-">Birds, Running</option>
										   <option value="CentaurL-">Centaur</option>
										   <option value="DragonL-">Dragons/Manticore</option>
											<option value="Dragonsnail1HL-">Dragonsnail 1 Head</option>
											<option value="Dragonsnail2HL-">Dragonsnail 2 Heads</option>											
											<option value="FLL-">Four-Legged</option>
											<option value="4leggedwingsL-">Four-legged,Winged</option>
											<option value="harpiesL-" >Harpy</option>										   
										   <option value="HL-" selected>Human</option>
										   <option value="mammothL-" >Mammoths/Mastodons</option>										   
										   <option value="NewtL-">Newtling</option>
										   <option value="RockL-">Rock Lizard</option>
										   <option value="serpentL-">Serpent</option>
										   <option value="serpentWingsL-">Serpent, Winged</option>
										   <option value="ScorpL-">Scorpion Man</option>
										   <option value="spiderL-">Spider, Giant</option>
										   <option value="SprulPaL-">Sprul-Pa</option>										   
										   <option value="WalkL-">Walktapus</option>
											<option value="wyvernL-">Wyvern</option>
										</select>
										<input  name="attr_selected_wpn_type" value="Melee" style="display:none;" />
									</div>
									<div style="margin-left:10px;display:inline">
										<div class="sheet-input_label">Die</div>
										<select name="attr_selected_die_roll" style="margin-top: 7px; height: 24px ; width: 84px">
										   <option value="1d20">1d20</option>
										   <option value="1d10+10">1d10+10</option>
										   <option value="1d8+12">1d8+12</option>
										   <option value="1d10">1d10</option>
										   <option value="1d8">1d8</option>			   			   
										</select>
										<button style="margin-top:-7px" class="sheet-d100_roll" type="roll" value="&{template:@{creature_hit_location}@{selected_wpn_type}} {{roll=[[@{selected_die_roll}]]}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</div>
							</div>
							<!-- Start of hit locations and fumbles -->						
							
							<br />
							<div class="sheet-header">Combat Notes</div>
							<textarea style="width:95%;min-height:200px" name="attr_combat-notes"></textarea>
							
					</div><!-- endofcolumn-->

					<div class='sheet-col' style="width:45%;margin-right:1px">

						<div class="sheet-header" style="display:inline-block">Cults</div>
						 <div class="sheet-cdiv2" style="display:inline-block">

							<input class="sheet-HideConfig2" type="checkbox" checked="checked" name="attr_is_config2"><span class="sheet-is-config2"><span style="font-family: &quot;pictos&quot;">y</span></span>
							<div class="sheet-config2" style="border-style: dotted ; border-color: gray ; padding: 5px ; background-color: white ; background-image: none">
							
								<input type="checkbox" name="attr_showsorcery" checked="checked"><span>Show Sorcery</span><br>
								<input type="checkbox" name="attr_showbroken1" checked="checked"><span>Show old MP storage section</span>

							</div>
						</div>	
								
						<fieldset class="repeating_cults3">
							<div class="sheet-info">
								<div class="sheet-input_label">Cult</div><input type="text" style="width:102px;" class="sheet-text_input" name="attr_cult" />
								<div class="sheet-input_label">Rank</div><input type="text" style="width:69px;" class="sheet-text_input" name="attr_rank" />
								<div class="sheet-input_label">Rune Pts</div><input type="text" value="0" style="width:24px" class="sheet-text_input" name="attr_rune_pts" >/<input  style="width:24px" type="text" value="0" class="sheet-text_input sheet-percentiles" name="attr_cur_rune_pts"  />
							</div>
							<div>
								<div class="sheet-input_label">Sub- or Assoc. Cults</div><input type="text"  class="sheet-text_input" name="attr_assoc_cults" >
							
							</div>

						</fieldset>
						<br />
						<div class="sheet-header">Spirit Combat</div>
						<div>
							<div class="sheet-input_label">Spirit Combat</div>
							<input type="text" value="0" style="width:24px;margin-right:5px;" class="sheet-text_input" readonly name="attr_spirit_combat" /><button type="roll" class="sheet-d100_roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{spirit_combat})]]}} {{fumble=[[ceil(95+([[(@{spirit_combat})]])/20))]]}} {{crit=[[round(([[(@{spirit_combat})]])/20)+1]]}}  {{special=[[round(([[(@{spirit_combat})]])/5)+1]]}}    {{success=[[(@{spirit_combat})]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" />
							</button><button class="sheet-d100_roll" type="roll" style="margin-right:5px;" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{spirit_combat}]]}} {{fumble=[[ceil(95+(@{spirit_combat}+?{Mods|0})/20)]]}} {{crit=[[round((@{spirit_combat}+?{Mods|0})/20)+1]]}}  {{special=[[round((@{spirit_combat}+?{Mods|0})/5)+1]]}}    {{success=[[@{spirit_combat}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><div class="sheet-input_label">Damage</div><input type="text" value="" style="width:70px" class="sheet-text_input" readonly name="attr_sprt_cmbt_damage" /><button type="roll" class="sheet-d100_roll" value="[[@{sprt_cmbt_damage}]]"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
						</div>
						<br />
						<div class="sheet-header" >Spirit Magic</div>
						<div style="margin-left:210px;display:inline-block">
							<div class="sheet-input_label">CHA Limit</div>
							<input  style="width:24px" type="text" value="0" class="sheet-text_input sheet-percentiles" readonly name="attr_curchr"/>
							 <button type="roll"  class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)]])/20))]]}} {{crit=[[round(([[(@{curpow}*5)]])/20)+1]]}} {{special=[[round(([[(@{curpow}*5)]])/5)+1]]}}         {{success=[[(@{curpow}*5)]]}} {{roll=[[1d100]]}} {{skillname=Spirit Magic}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)+?{Mods|0}]])/20))]]}} {{crit=[[round(([[(@{curpow}*5)+?{Mods|0}]])/20)+1]]}} {{special=[[round(([[(@{curpow}*5)+?{Mods|0}]])/5)+1]]}}         {{success=[[(@{curpow}*5)+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Magic}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button> 
						</div>	
						<textarea  name="attr_spirit_magic" class="sheet-magic_notes"></textarea> 
						<div>
							<div class="sheet-header" >Spells Cast:</div>
							<div>
								<span>Coordination <input type="checkbox"  name="attr_coordCast"  /></span><span>&nbsp;Glamour <input type="checkbox"  name="attr_glamourCast"  /></span><span>&nbsp;Mobility <input type="checkbox"  name="attr_mobilCast"  /></span>	
							</div>
							<div>
								<span>Strength <input type="checkbox"  name="attr_strengthCast"  /></span>
								<span>Vigor <input type="checkbox"  name="attr_vigorCast"  /></span>
							</div>
						</div>			
						<br />
						<div class="sheet-header" style="display:inline-block">Rune Magic</div>
						<textarea  name="attr_rune_magic" class="sheet-magic_notes"></textarea> 
						<br />
						<input type="checkbox" class="sheet-showsorcery" name="attr_showsorcery" checked="checked" style="display: none">
						<div class="sheet-sorcery">
							<div class="sheet-header" >Sorcerous Runes and Techniques</div>
							<div style="margin-left:266px;display:inline-block">
								<div class="sheet-input_label">Free INT</div>
								<input  style="width:24px" type="text" value="0" class="sheet-text_input sheet-percentiles" name="attr_freeint"/>
								<!--
								 <button type="roll"  class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)]])/20))]]}} {{crit=[[round(([[(@{curpow}*5)]])/20)+1]]}} {{special=[[round(([[(@{curpow}*5)]])/5)+1]]}}         {{success=[[(@{curpow}*5)]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*?{multiplier|5})]]}} {{fumble=[[ceil(95+([[(@{curpow}*?{multiplier|5})]])/20))]]}} {{crit=[[round(([[(@{curpow}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{curpow}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{curpow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--> 
							</div>	
							<textarea  name="attr_sorcery_magic" class="sheet-magic_notes"></textarea> 
							<br />
						</div>
						<div class="sheet-header" >Magic Points & Storage</div>	
						<div class="sheet-melee_wpns_labels">
							   <div style="margin-left:3px;">Location</div>
							   <div style="margin-left:250px;">Max.</div>
							   <div style="margin-left:0px;">Cur.</div>
						</div>						
						<div>
							<span>Personal</span>
							<input  style="width:24px;margin-left:246px" type="text" value="0" class="sheet-text_input sheet-percentiles" readonly name="attr_curpow"/>
							<input  style="width:24px" type="text" value="0" class="sheet-text_input sheet-percentiles"  name="attr_curmp"/>
						</div>
						<input type="checkbox" style="display:none "class="sheet-showbroken1" name="attr_showbroken1" checked="checked" >
						<div class="broken1">
							<fieldset class="repeating_mp_storage">
								<input  style="width:302px" type="text"  class="sheet-text_input" name="attr_mp_location"/>
								<input  style="width:24px" type="text" value="0" class="sheet-text_input sheet-percentiles"  name="attr_maxmp"/>
								<input  style="width:24px" type="text" value="0" class="sheet-text_input sheet-percentiles"  name="attr_curmp"/>
							</fieldset>				
							<span class="deprecWarn">The above section only allows one item. Recreate your item in the section below.  To remove the section above remove the check mark in the configuration section (the cog) at the top of this column </span>
							<br >
							<br>
						</div>
						<fieldset class="repeating_mpStorage">
							<!--<input  style="width:302px" type="text"  class="sheet-text_input" name="attr_mp_location"/>-->
							<input  style="width:302px" type="text"  class="sheet-text_input" name="attr_mpLOC"/>
							<input  style="width:24px" type="text" value="0" class="sheet-text_input sheet-percentiles"  name="attr_maxmp"/>
							<input  style="width:24px" type="text" value="0" class="sheet-text_input sheet-percentiles"  name="attr_curmp"/>
						</fieldset>
						</fieldset>
						<br />
						<div class="sheet-header" >Magic Notes</div>	
						<textarea  name="attr_magic_notes" style="min-height:200px;"></textarea> 

					</div>				
				</div>			
			<hr class="sheet-hr" />
						<div class="sheet-header">Weapons</div>
						<br />
						<div style="margin-left:2px;margin-bottom:20px;">
							<div>
								<div CLASS="sheet-input_label">Modifiers</div>
								
								<!--<select name="attr_skillReduct" style="width:100px;display:inline-block" >
									<option value="1">Full Skill</option>
									<option value="0.5">Half Skill</option>
								</select>-->
								<input type="text"  style="display:inline-block"  class="sheet-text_input sheet-percentiles" value="0" name="attr_skillMods" />
							</div>
						</div>				  
						
						<input type="text" style="display:none" name="attr_srMod"  value="0">						
						
						<div class="sheet-melee_wpns_labels">
							   <div style="margin-left:3px;">Melee Weapon</div>
							   <div style="margin-left:30px;">Skill Used</div>
							   <div style="margin-left:54px;">Default</div>
							   <div style="margin-left:3px;">WSR</div>
							   <div style="margin-left:15px;">SR</div>
							   <!--<div style="margin-left:14px;">STR/DEX</div>-->	   
							   <div style="margin-left:43px;">%</div>
							   <div style="margin-left:16px;">Mod.</div>
							   <div style="margin-left:38px;">Damage</div>
							   <div style="margin-left:8px;">*</div>							   							   
							   <div style="margin-left:7px;">Type</div>
							   <div style="margin-left:8px;">Special</div>						   
							   <div style="margin-left:25px;" >HP</div>		
						</div>
						
						<fieldset class="repeating_melee2">
						   <div class="sheet-melee_wpns">

					   
							  <input type="text" class="sheet-text_input sheet-skillName" name="attr_weapon_type"  />
							  <input type="text"  class="sheet-text_input sheet-skillName"  name="attr_skillName" />						  	
							  <input type="checkbox" style="margin-left:10px;margin-right:7px" name="attr_skillDefault" />	
							 <input type="text"  style="display:none"  value="1" name="attr_skillReduct" />						  								  
	
							<input type="text"  style="margin-left:1px" class="sheet-text_input sheet-percentiles" value="0"  name="attr_wpn_sr" />
							  <!--<input type="text" class="sheet-text_input sheet-percentiles"  disabled name="attr_total_wpn_sr" value="[[{@{wpn_sr}+@{melee_srm}]]" />-->
							  <input type="text" class="sheet-text_input sheet-percentiles"  disabled name="attr_total_wpn_sr" value="[[((((@{wpn_sr}+@{melee_srm}-@{srMod}) + 1) + abs((@{wpn_sr}+@{melee_srm}-@{srMod}) - 1)) / 2)]]">
							  <button type="roll" style="padding-top: 0px;" class="sheet-turn_order" title="Add to turn order" value="@{add_sr}" ></button>
							  <textarea name="attr_add_sr" style="display:none">
								/em --
								
								Add @{character_name} to turn order
								@{weapon_type} SR [[@{total_wpn_sr} &{tracker}]]
							  </textarea>
							  
							  <!--<input type="text" class="sheet-text_input sheet-percentiles"   style="width:22px;margin-left:1px" value="9" name="attr_wpnstr" />
							  <input type="text" class="sheet-text_input sheet-percentiles"   style="width:22px" value="9" name="attr_wpndex" />--> 
							  <input type="text"  class="sheet-text_input sheet-percentiles"  readonly style="display:none; width:30px;" value="0" name="attr_minmod" /> 							  
							  <input type="text"  class="sheet-text_input sheet-percentiles" readonly name="attr_skillTotal" />					  
							  <input type="text"  class="sheet-text_input sheet-percentiles" value="0" name="attr_skillWpnMod" />					  
							 
							  <!--
							  <input type="text"  class="sheet-text_input sheet-percentiles"  name="attr_wpn_attk_value" />
							  <input type="text"  class="sheet-text_input sheet-percentiles" disabled name="attr_wpn_attk_total" value="@{wpn_attk_value}+@{manipulation_mod}+@{enc_mod}+@{minmod}+@{gen_mod}" />-->
							  
											<button  type="roll" style="margin-right:0px;margin-left:0px;" class="sheet-d100_roll" value="@{melee_value}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
											
											
											<textarea name="attr_melee_value" style="display:none">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{damagebonus}]]}}{{skillvalue=(@{skillTotal})}} {{fumble=[[{(101-(round((100-((@{skillTotal}*@{skillReduct})+@{skillWpnMod}+@{skillMods}))/20))),100}kl1]]}}  {{crit=[[round([[ceil((@{skillTotal}*@{skillReduct}))+@{skillWpnMod}+@{skillMods}]]/20)+1]]}} {{special=[[round(([[ceil((@{skillTotal}*@{skillReduct}))+@{skillWpnMod}+@{skillMods}]])/5)+1]]}}   {{spclDam=[[@{spcldamage}+@{damagebonus}]]}}   {{crshDam=[[@{wpn_damage}+@{maxDb}+@{damagebonus}]]}}  {{critCrsh=[[@{critdamage}+@{maxDb}+@{damagebonus}]]}} {{critSI=[[@{critdamage}+@{damagebonus}]]}} {{type="[[@{wpn_spl}"]]}}  {{success=[[ceil(ceil((@{skillTotal}*@{skillReduct})))+@{skillWpnMod}+@{skillMods}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type}}} {{mntTogVal=[[@{mntTogVal}]]}} {{mntTot=[[@{wpn_damage}+@{mountDB}]]}} {{mntSpcl=[[@{spcldamage}+@{mountDB}]]}} {{mntCrit=[[@{critdamage}+@{mountDB}]]}}
										                                
											
											

											&{template:@{creature_hit_location}Melee}} {{roll=[[@{selected_die_roll}]]}}</textarea>
											
																		
							  <input type="text"  class="sheet-text_input" style="width:61px" name="attr_wpn_damage" />
							  <input type="text"  style="display:none" name="attr_spcldamage" />
							  <input type="text"  style="display:none" name="attr_critdamage" />
							  <input type="text"  style="display:none" name="attr_maxdamage" />

							  <input type="checkbox"  name="attr_mntDbToggle" />
								
							  <input type="text" style="display:none"  value="0"  name="attr_mntTogVal" />								

							  <input  type="text" name="attr_wpn_type" title="C,CT,H,I,S"   style="width:35px">

							  <select name="attr_wpn_spl" style="margin-bottom:0px;width:43px">
								<option value="0">I</option>
								<option value="1">S</option>
								<option value="2">C</option>							
							  </select>							   
							  <input type="text"  class="sheet-text_input sheet-percentiles" value="0" style="width:29px" name="attr_wpn_hp" />/
							  <input type="text"  class="sheet-text_input sheet-percentiles" value="0" style="width:29px" name="attr_wpn_hpmax" />
							  
							  <input type="checkbox" name="attr_skillcheck" />	
							  
							  
						   </div>


						   
						</fieldset>		
						<div>
							<span class="sheet-input_label">* Use mount's damage bonus</span>
							<input class="sheet-text_input" value="0"	type="text" style="width:50px" title="Mount Damage Bonus" name="attr_mountDB"/>
						</div>
						<!--- end of melee wpns -->
		
						<br >
						<!-- missile wpns -->
						DSR <input style="width:30px;text-align:center" value="0" type="text" readonly name="attr_dex_srm" /> <button type="roll" style="padding-top: 0px;" class="sheet-turn_order" title="Add to turn order" value="@{add_dsr}" ></button>&nbsp;&nbsp;
						Readied Weapon<input style="width:130px;text-align:center" value="" type="text" readonly name="attr_ready_wpn" />&nbsp;&nbsp; Unready Weapon<input style="width:130px;text-align:center" value="" type="text" readonly name="attr_unready_wpn">
						
						
						
						 <textarea name="attr_add_dsr" style="display:none">
								/em --
								
								Add @{character_name} to turn order
								Missle Wpn 1st shot SR [[@{dex_srm} &{tracker}]]
						 </textarea>

						 <textarea name="attr_add_nextshot" style="display:none">
								/em --
								
								Add @{character_name} to turn order
								Missle Wpn next shot shot SR [[@{ready_wpn} &{tracker}]]
						 </textarea>
						 
						
						<br />
							<div class="sheet-melee_wpns_labels">
							   <div style="margin-left:3px;">Missile Weapon</div>
							   <div style="margin-left:24px;">Skill Used</div>	
							   <div style="margin-left:54px;">Default</div>							   
							   <!--<div style="margin-left:47px;">STR/DEX</div> -->
							   <div style="margin-left:7px;">%</div>
							   <div style="margin-left:13px;">Mods.</div>							   
							   <div style="margin-left:38px;">Dmg.</div>
							   <div style="margin-left:11px;">DB</div>
							   <div style="margin-left:3px;">Special</div>						   
							   <div style="margin-left:8px;">Rng</div>		
							   <div style="margin-left:4px;">Rate</div>		
							   <div style="margin-left:18px;" >HP</div>	
							   <div style="margin-left:10px;" >Ammo</div>	
							</div>						
						
						<fieldset class="repeating_missle2">
						   <div class="sheet-melee_wpns">
							  <input type="text" class="sheet-text_input sheet-skillName" name="attr_weapon_type" style="font-size:xx-small" />
							  <!--	
							  <input type="text" class="sheet-text_input sheet-percentiles"   style="width:22px;margin-left:1px" value="9" name="attr_wpnstr" />
							  <input type="text" class="sheet-text_input sheet-percentiles"   style="width:22px" value="9" name="attr_wpndex" />-->
							  <input type="text"  class="sheet-text_input sheet-percentiles"  readonly style="display:none; width:30px;" value="0" name="attr_minmod" /> 	
							  <input type="text"  class="sheet-text_input sheet-skillName" style="font-size:xx-small"  name="attr_skillName" />
							  <input type="checkbox" style="margin-left:10px;margin-right:7px" name="attr_skillDefault" />	
							 <input type="text"  style="display:none"  value="1" name="attr_skillReduct" />							  
							  <input type="text"  class="sheet-text_input sheet-percentiles" readonly name="attr_skillTotal" />
							  <input type="text"  class="sheet-text_input sheet-percentiles" value="0" name="attr_skillWpnMod" />				  
							  
							  <!--
							  <input type="text"  class="sheet-text_input sheet-percentiles"  name="attr_wpn_attk_value" />
							  <input type="text"  class="sheet-text_input sheet-percentiles" disabled name="attr_wpn_attk_total" value="@{wpn_attk_value}+@{manipulation_mod}+@{enc_mod}+@{minmod}+@{gen_mod}" />-->
							  

							  
											<button  type="roll" style="margin-right:0px;margin-left:0px;" class="sheet-d100_roll" value="@{melee_value}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><textarea name="attr_melee_value" style="display:none">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{wpnmdb}]]}}{{skillvalue=(@{skillTotal})}} {{fumble=[[{(101-(round((100-((@{skillTotal}*@{skillReduct})+@{skillWpnMod}+@{skillMods}))/20))),100}kl1]]}} {{crit=[[round([[ceil((@{skillTotal}*@{skillReduct}))+@{skillWpnMod}+@{skillMods}]]/20)+1]]}} {{special=[[round(([[ceil((@{skillTotal}*@{skillReduct}))+@{skillWpnMod}+@{skillMods}]])/5)+1]]}}   {{spclDam=[[@{spcldamage}+@{wpnmdb}]]}}   {{crshDam=[[@{wpn_damage}+@{maxwpnmdb}+@{wpnmdb}]]}}  {{critCrsh=[[@{critdamage}+@{maxwpnmdb}+@{wpnmdb}]]}} {{critSI=[[@{critdamage}+@{wpnmdb}]]}} {{type="[[@{wpn_spl}"]]}}  {{success=[[ceil((@{skillTotal}*@{skillReduct}))+@{skillWpnMod}+@{skillMods}]]}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}  {{skillname=@{weapon_type}}} 

											&{template:@{creature_hit_location}Melee}} {{roll=[[@{selected_die_roll}]]}}</textarea>
											
																		
							  <input type="text"  class="sheet-text_input" style="width:55px" name="attr_wpn_damage" />
							  <input type="checkbox"  name="attr_mdbtoggle" />
							  <input type="text"  style="display:none" name="attr_spcldamage" />
							  <input type="text"  style="display:none" name="attr_critdamage" />
							  <input type="text"  style="display:none" name="attr_maxdamage" />

							  <select name="attr_wpn_spl" style="margin-bottom:0px;width:50px">
								<option value="0">I</option>
								<option value="1">S</option>
								<option value="2">C</option>							
							  </select>								  
							  <input type="text"  class="sheet-text_input" style="width:27px;font-size:xx-small" name="attr_wpn_range" />    
							  <input type="text"  class="sheet-text_input" style="width:36px;font-size:xx-small" name="attr_wpn_rate" />    						  
							  <input type="text"  class="sheet-text_input sheet-percentiles"   name="attr_wpn_hp" />
							  <input type="text"  class="sheet-text_input sheet-percentiles"   name="attr_wpn_ammo" />
							  
							  <input type="checkbox" name="attr_skillcheck" />
							  <input type="text" value="0" style="display:none" name="attr_wpnmdb" />	  
							  <input type="text" value="0" style="display:none" name="attr_maxwpnmdb" />	  
										
							  
						   </div>
						</fieldset>		
						<br />		
						<br />		
						<br />								
		</div>
		<div class="sheet-tab-contenta sheet-tab2a"><!--- Tab 2 start -->
		<div >
			
			<div>
				<span style="margin-left:139px">Enc Mod</span>
				<input class="sheet-text_input sheet-char_inputs sheet-percentiles"  value="0" type="text" readonly name="attr_enc_mod2"/>	
				
				<span style="margin-left:8px">Dodge Mod</span>
				<input class="sheet-text_input sheet-char_inputs sheet-percentiles"  value="0"  type="text"  readonly  name="attr_dodge_mod2"/>

				<span style="margin-left:8px">Swim Mod</span>
				<input class="sheet-text_input sheet-char_inputs sheet-percentiles"  value="0"  type="text"  readonly  name="attr_swim_mod2"/>
				
				<span style="margin-left:8px">MQ Mod.</span>
				<input class="sheet-text_input sheet-char_inputs" style="width:45px"  readonly value="0" type="text" name="attr_mq_total"/>
				
				<span style="margin-left:8px">Skill Mod</span>
				<input class="sheet-text_input sheet-char_inputs sheet-percentiles"  value="0"  type="text"   name="attr_skill_mod"/>			
			</div>
			<br />
			<div class='sheet-2colrow'>
				<div style="margin-left:3px;margin-right:3px;width:31%" class='sheet-col'>

					<div> 
						<div class="sheet-skill_category">Agility</div>
						<div style="display:inline-block;margin-left:69px;">
							<span><b>Modifier</b></span>
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_agility_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Agility Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{agility_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
						</div>
						
						<fieldset class="repeating_agilitySkills">
							<input type="text" class="sheet-text_input sheet-skillName" name="attr_skill" />
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[round(([[(@{skillTotal}+@{skill_mod})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
							<input  type="checkbox" style="display:none" checked class="sheet-check-toggle1" name="attr_sp_toggle1"  />							
							<div class="sheet-exp-toggle1">
								<input type="checkbox" name="attr_expCheck" />
							</div>	

							
						</fieldset>
						<br />
						<div class="sheet-skill_category">Communication</div>
						<div style="display:inline-block;margin-left:9px;">
							<span><b>Modifier</b></span>
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_communication_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Communication Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{communication_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
						</div>
						
						<fieldset class="repeating_communicationSkills">
							<input type="text" class="sheet-text_input sheet-skillName" name="attr_skill" />
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[round(([[(@{skillTotal}+@{skill_mod})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
							<input  type="checkbox" style="display:none" checked class="sheet-check-toggle1" name="attr_sp_toggle1"  />
							<div class="sheet-exp-toggle1">
								<input type="checkbox" name="attr_expCheck" />
							</div>	
						</fieldset>
						<br />					
						<div class="sheet-skill_category">Knowledge</div>
						<div style="display:inline-block;margin-left:40px;">
							<span><b>Modifier</b></span>
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_knowledge_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Knowledge Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{knowledge_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
						</div>
						
						<fieldset class="repeating_knowledgeSkills">
							<input type="text" class="sheet-text_input sheet-skillName" name="attr_skill" />
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
							<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[round(([[(@{skillTotal}+@{skill_mod})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
							<input  type="checkbox" checked style="display:none" class="sheet-check-toggle1" name="attr_sp_toggle1"  />
							<div class="sheet-exp-toggle1">
								<input type="checkbox" name="attr_expCheck" />
							</div>
						</fieldset>
						<br />							
					</div>
					

				</div>
				<!--- ------------------------------------------------------------------ -->
				<div style="margin-left:0px;width:66%" class='sheet-col'>
				
					<div class='sheet-2colrow'>
					
						<div style="margin-right:10px" class='sheet-col'>
								<div class="sheet-skill_category">Magic</div>
								<div style="display:inline-block;margin-left:75px;">
									<span><b>Modifier</b></span>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_magic_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Magic Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{magic_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								</div>
								
								<fieldset class="repeating_magicSkills">
									<input type="text" class="sheet-text_input sheet-skillName" name="attr_skill" />
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[round(([[(@{skillTotal}+@{skill_mod})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									<input  type="checkbox" style="display:none" checked class="sheet-check-toggle1" name="attr_sp_toggle1"  />
									<div class="sheet-exp-toggle1">									
										<input type="checkbox" name="attr_expCheck" />							
									</div>	
								</fieldset>
								<br />
								<div class="sheet-skill_category">Manipulation</div>
								<div style="display:inline-block;margin-left:29px;">
									<span><b>Modifier</b></span>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_manipulation_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Manipulation Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{manipulation_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								</div>
								
								<fieldset class="repeating_manipulationSkills">
									<input type="text"  class="sheet-text_input sheet-skillName" name="attr_skill" />
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[round(([[(@{skillTotal}+@{skill_mod})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									<input  type="checkbox" style="display:none" checked class="sheet-check-toggle1" name="attr_sp_toggle1"  />
									<div class="sheet-exp-toggle1">
										<input type="checkbox" name="attr_expCheck" />							
									</div>	
									
								</fieldset>
								<br />	
								<div class="sheet-skill_category">Perception</div>
								<div style="display:inline-block;margin-left:43px;">
									<span><b>Modifier</b></span>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_perception_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Perception Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{perception_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								</div>
								
								<fieldset class="repeating_perceptionSkills">
									<input type="text" class="sheet-text_input sheet-skillName" name="attr_skill" />
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}}  {{crit=[[round(([[(@{skillTotal}+@{skill_mod})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									<input  type="checkbox" style="display:none" checked class="sheet-check-toggle1" name="attr_sp_toggle1"  />
									<div class="sheet-exp-toggle1">									
										<input type="checkbox" name="attr_expCheck" />
									</div>	
								</fieldset>
								<br />
								<div class="sheet-skill_category">Stealth</div>
								<div style="display:inline-block;margin-left:66px;">
									<span><b>Modifier</b></span>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_stealth_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Stealth Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{stealth_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								</div>
								
								<fieldset class="repeating_stealthSkills">
									<input type="text" class="sheet-text_input sheet-skillName" name="attr_skill" />
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
									<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[round(([[(@{skillTotal}+@{skill_mod})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									<input  type="checkbox" style="display:none" checked class="sheet-check-toggle1" name="attr_sp_toggle1"  />									
									<div class="sheet-exp-toggle1">																		
										<input type="checkbox" name="attr_expCheck" />
									</div>
								</fieldset>
								<br />							
								
						</div><!--- end 2nd col -->	
							<div style="margin-right:10px" class='sheet-col'>
									<div class="sheet-skill_category">Melee Weapons</div>
									<div style="display:inline-block;margin-left:9px;">
										<span><b>Modifier</b></span>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_manipulation_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Melee Weapon Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{manipulation_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
									
									<fieldset class="repeating_meleeSkills">
										<input type="text" class="sheet-text_input sheet-skillName" name="attr_skill" />
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[round(([[(@{skillTotal}+@{skill_mod})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
										<input type="checkbox" name="attr_expCheck" />							
									</fieldset>
									<br />
									<div class="sheet-skill_category">Missile Weapons</div>
									<div style="display:inline-block;margin-left:4px;">
										<span><b>Modifier</b></span>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_manipulation_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Missle Weapon Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{manipulation_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
									
									<fieldset class="repeating_missileSkills">
										<input type="text" class="sheet-text_input sheet-skillName" name="attr_skill" />
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[round(([[(@{skillTotal}+@{skill_mod})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
										<input type="checkbox" name="attr_expCheck" />
									</fieldset>
									<br />
									<div class="sheet-skill_category">Shields</div>
									<div style="display:inline-block;margin-left:63px;">
										<span><b>Modifier</b></span>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_manipulation_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Shield Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{manipulation_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
									
									<fieldset class="repeating_shieldSkills">
										<input type="text" class="sheet-text_input sheet-skillName" name="attr_skill" />
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[round(([[(@{skillTotal})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
										<input type="checkbox" name="attr_expCheck" />

									</fieldset>
									<br />
									<div class="sheet-skill_category">Natural Weapons</div>
									<div style="display:inline-block;margin-left:-1px;">
										<span><b>Modifier</b></span>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" readonly name="attr_manipulation_mod"/><button type="roll" class="sheet-d100_roll" value="&{template:expRoll} {{skill=Natural Weapon Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{manipulation_mod}]]}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
										<input type="checkbox" name="attr_expCheck" />

									</div>
									
									<fieldset class="repeating_naturalWpnSkills">
										<input type="text"  class="sheet-text_input sheet-skillName" name="attr_skill" />
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_base"/>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2"  value="0" style="display:none" name="attr_base2"/>
										<input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" name="attr_skillValue"/><input type="text" value="0" class="sheet-text_input sheet-skill_values2" value="0" readonly name="attr_skillTotal" /><button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[round(([[(@{skillTotal}+@{skill_mod})]])/20)+1]]}}  {{special=[[round(([[(@{skillTotal})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
										<input type="checkbox" name="attr_expCheck" />
									</fieldset>
									<br />
							</div>										
					</div>
				
					<br />
					<hr class="sheet-hr">
					<div class="sheet-skill_category">Addtional Magic</div>
					<textarea style="width:95%;min-height:100px;" name="attr_add_magic"></textarea>
					<br />

					<div class="sheet-skill_category">Equipment</div>				
					<div style="margin-left:13px;">
		
						<p style="font-weight:bold; display:inline-block">Carried</p>
						<p style="font-weight:bold; width:68%; display:inline-block;margin-left:13px">Item</p>
						<p style="font-weight:bold;text-align:center;width: 2% ;display:inline-block">Wt.</p>
						<p title="Move Quietly Modifier" style="font-weight:bold;text-align:center;width: 13% ;display:inline-block">-MQ</p>
						
						<fieldset class="repeating_equipment2" style="margin-top:-20px;">
							<input  type="checkbox" value="1" style="margin-left:17px" name="attr_carried"/>
							<input class="sheet-text_input sheet-eqpText" style="margin-left:27px;width:60% ;" type="text" name="attr_equipment_type"/>
							<input class="sheet-text_input sheet-char_inputs sheet-percentiles" type="text" value="0" name="attr_equipment_weight"/>
							<input class="sheet-text_input sheet-char_inputs sheet-percentiles" title="Move Quietly Mod."  type="text" value="0" name="attr_mq_mod"/>
						</fieldset>	
						<br />
						<span class="coins"><b>Wheels (W)</b></span><input class="text_input char_inputs coins" value="0" type="text" name="attr_wheels"/>
						<span class="coins"><b>Lunars (L)</b></span><input class="text_input char_inputs coins" value="0" type="text" name="attr_lunars"/>						
						<span class="coins"><b>Clacks (C)</b></span><input class="text_input char_inputs coins" value="0" type="text" name="attr_clacks"/>												
						<span class="coins"><b>Bolgs (B)</b></span><input class="text_input char_inputs coins" value="0" type="text" name="attr_bolgs"/>							
						<span class="coins"><b>Goods (L)</b></span><input class="text_input char_inputs goods" value="0" type="text" name="attr_goods"/>							
						<br />
						<br />						
						<span>Max Enc</span>
						<input class="sheet-text_input sheet-char_inputs sheet-percentiles" value="0" type="text" name="attr_carry_max2"/>
						<span style="margin-left:8px">Total Enc</span>								
						<input class="sheet-text_input sheet-char_inputs" style="width:45px"   value="0" type="text" name="attr_carry_total2"/>
							
							
						</div>
						

					</div>					
					
				</div>
			</div><!-- end of first 2 col	-->
		</div><!---- End of Tab -->
		<div class="sheet-tab-contenta sheet-tab3a"><!--- Tab 3 start -->
			<div style="text-align:center">
				<div class="sheet-header2">MOUNT|ELEMENTAL|ALLY</div>				
			</div>
			<div class="sheet-header">Mounts/Allies</div>	
			<fieldset class="repeating_mounts">
					<div class='sheet-2colrow'>
						<div style="margin-left:4px" class="sheet-col">
							<div style="margin-bottom:5px;">
								<input class="sheet-value_display" type="text" value="name and type " style="width:244px;" name="attr_animal1_name" />
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display2" value="0" name="attr_animal1a_str" type="text"/> 
								<p class="sheet-spirit_stat">CON</p><input class="sheet-value_display2" value="0" name="attr_animal1a_con" type="text" />
								<p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display2" value="0" name="attr_animal1a_siz" type="text"/>
							</div>
							<div>
								<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display2" value="0" name="attr_animal1a_int" type="text"/> 
								<p class="sheet-spirit_stat">POW</p><input class="sheet-value_display2" value="0" name="attr_animal1a_pow" type="text" />
								<p class="sheet-spirit_stat">DEX</p><input class="sheet-value_display2" value="0" name="attr_animal1a_dex" type="text"/>
								<p class="sheet-spirit_stat">CHA</p><input class="sheet-value_display2" value="0" name="attr_animal1a_cha" type="text"/>			
							</div>
							<br />
							<table>
									<tr>
										<td>HP</td>
										<td>
											<input type="text" class="sheet-value_display2" name="attr_animal1a_hp_max" value="0" />
											/
											<input type="text"  class="sheet-value_display2" value="0" name="attr_animal1a_hp_cur" />
										</td>	

										<td>Move</td>
										<td>
												<input type="text"  class="sheet-value_display2"  name="attr_animal1a_move" value="0" />
										</td>
										
									</tr>
									<tr>
									</tr>
									<tr>
										<td>MP</td>
										<td>
											<input type="text" class="sheet-value_display2"  name="attr_animal1a_mp_max" value="0" />
											/
											<input type="text"  class="sheet-value_display2" value="" name="attr_animal1a_mp_cur" />
										</td>										<td>DSR</td>
										<td>
										<input type="text"  class="sheet-value_display2"  name="attr_animal1a_dsr" value="0" />
										</td>
									</tr>
									<tr>
										<td>DB</td>
										<td><input type="text"  class="sheet-value_display2"  name="attr_animal1a_db" style="width:105px;" value="0" /></td>
										<td>MSR</td>
										<td><input type="text"  class="sheet-value_display2"  name="attr_animal1a_msr" value="0" />
										</td>

									</tr>
							</table>
							</br />
							
							<div style="margin-top:5px;" class="sheet-melee_wpns_labels">
								<br />
							   <label style="width:98px">Weapon</label>
							   <label style="width:34px">SR</label>   
							    <label style="width:74px">Attk</label>   
							   <label style="width:71px">Damage</label>   
							</div>	
							
							<div>
								<input   class="sheet-value_display2"  type="text" name="attr_wpn_name1a1" style="text-align:left;width:100px;" value="weapon" />
								<input   class="sheet-value_display2" type="text" name="attr_wpn_sr1a1" value="0" />
								<input  class="sheet-value_display2" type="text" name="attr_wpn_attk1a1" value="0" />
								<input  class="sheet-value_display2"  type="text" style="width:80px" name="attr_wpn_damage1a1" value="0" />
								<button type="roll"  class="sheet-d100_roll" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a1}]]}}  {{skillvalue=[[@{wpn_attk1a1}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a1}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a1}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a1}]])/5)+1]]}}         {{success=[[@{wpn_attk1a1}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" style="margin:0px;" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a1}]]}}  {{skillvalue=[[@{wpn_attk1a1}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a1}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a1}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a1}+?{mods|0}]])/5)+1]]}}         {{success=[[@{wpn_attk1a1}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
			
							</div>

							<div>
								<input   class="sheet-value_display2"  type="text" name="attr_wpn_name1a2" style="text-align:left;width:100px;" value="weapon" />
								<input   class="sheet-value_display2" type="text" name="attr_wpn_sr1a2" value="0" />
								<input  class="sheet-value_display2" type="text" name="attr_wpn_attk1a2" value="0" />
								<input  class="sheet-value_display2"  type="text" style="width:80px" name="attr_wpn_damage1a2" value="0" />
								<button type="roll"  class="sheet-d100_roll" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a2}]]}}  {{skillvalue=[[@{wpn_attk1a2}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a2}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a2}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a2}]])/5)+1]]}}         {{success=[[@{wpn_attk1a2}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" style="margin:0px;" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a2}]]}}  {{skillvalue=[[@{wpn_attk1a2}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a2}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a2}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a2}+?{mods|0}]])/5)+1]]}}         {{success=[[@{wpn_attk1a2}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
			
							</div>	
							
							<div>
								<input   class="sheet-value_display2"  type="text" name="attr_wpn_name1a3" style="text-align:left;width:100px;" value="weapon" />
								<input   class="sheet-value_display2" type="text" name="attr_wpn_sr1a3" value="0" />
								<input  class="sheet-value_display2" type="text" name="attr_wpn_attk1a3" value="0" />
								<input  class="sheet-value_display2"  type="text" style="width:80px" name="attr_wpn_damage1a3" value="0" />
								<button type="roll"  class="sheet-d100_roll" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a3}]]}}  {{skillvalue=[[@{wpn_attk1a3}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a2}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a3}]])/20)+1]]}} {{crit=[[ceil(([[@{wpn_attk1a3}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a3}]])/5)+1]]}}         {{success=[[@{wpn_attk1a3}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a3}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" style="margin:0px;" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a3}]]}}  {{skillvalue=[[@{wpn_attk1a3}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a3}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a3}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a3}+?{mods|0}]])/5)+1]]}}         {{success=[[@{wpn_attk1a3}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a3}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
			
							</div>								
							<br />
							
							
							<div >	
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"   type="text" name="attr_skill_name1a1" style="text-align:left;width:232px;font-size:x-small" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value1a1" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a1}]]}} {{success=[[@{skill_value1a1}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a1}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{skill_value1a1}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1a1}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name1a2" style="text-align:left;width:232px;font-size:x-small" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value1a2" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a2}]]}} {{success=[[@{skill_value1a2}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a2}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{skill_value1a2}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1a2}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name1a3" style="text-align:left;width:232px;" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value1a3" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a3}]]}} {{success=[[@{skill_value1a3}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a3}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{skill_value1a3}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1a3}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a3}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>									
							</div>
							<div>	
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name1a4" style="text-align:left;width:232px;" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value1a4" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a4}]]}} {{success=[[@{skill_value1a4}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a4}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{skill_value1a4}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1a4}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a4}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name1a5" style="text-align:left;width:232px;" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value1a5" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a5}]]}} {{success=[[@{skill_value1a5}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a5}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{skill_value1a5}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1a5}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a5}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name1a6" style="text-align:left;width:232px;" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value1a6" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a6}]]}} {{success=[[@{skill_value1a6}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a6}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{skill_value1a6}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1a6}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a6}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>									
							</div>							
							
							
							
							<br />
							<p>Hit Locations</p>
							<textarea style="font-family:courier;margin:0px;" name="attr_animal1_hitloc" >
D20	Result         AP/HP
1-2	Right hind-leg	0/0
3-4 	Left hind-leg	0/0
5-7 	Hindquarters	0/0
8-10 	Forequarters 	0/0
11-13 	Right fore-leg	0/0
14-16 	Left fore-leg	0/0
17-20 	Head        	0/0
THP 0/0
							</textarea>
							
							<br />							
							<p>Notes</p>
							<textarea style="font-family:courier;margin:0px;" name="attr_animal1a_notes" ></textarea>
						</div> <!--  Animal 1 -->
						<!--- Animal 2 -->	
						<div class="sheet-col"> 
							<div style="margin-bottom:5px;">
								<input class="sheet-value_display" type="text" value="name and type " style="width:244px;" name="attr_animal2_name" />
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display2" value="0" name="attr_animal2a_str" type="text"/> 
								<p class="sheet-spirit_stat">CON</p><input class="sheet-value_display2" value="0" name="attr_animal2a_con" type="text" />
								<p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display2" value="0" name="attr_animal2a_siz" type="text"/>
							</div>
							<div>
								<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display2" value="0" name="attr_animal2a_int" type="text"/> 
								<p class="sheet-spirit_stat">POW</p><input class="sheet-value_display2" value="0" name="attr_animal2a_pow" type="text" />
								<p class="sheet-spirit_stat">DEX</p><input class="sheet-value_display2" value="0" name="attr_animal2a_dex" type="text"/>
								<p class="sheet-spirit_stat">CHA</p><input class="sheet-value_display2" value="0" name="attr_animal2a_cha" type="text"/>			
							</div>
							<br />
							<table>
								
									
									<tr>
										<td>HP</td>
										<td>
											<input type="text" class="sheet-value_display2" name="attr_animal2a_hp_max" value="0" />
											/
											<input type="text"  class="sheet-value_display2" value="0" name="attr_animal2a_hp_cur" />
										</td>	
											<td>Move</td>
											<td>
												<input type="text"  class="sheet-value_display2"  name="attr_animal2a_move" value="0" />
											</td>
										
									</tr>
									<tr>
									</tr>
									<tr>
										<td>MP</td>
										<td>
											<input type="text" class="sheet-value_display2"  name="attr_animal2a_mp_max" value="0" />
											/
											<input type="text"  class="sheet-value_display2" value="" name="attr_animal2a_mp_cur" />
										</td>
										<td>DSR</td>
										<td>
										<input type="text"  class="sheet-value_display2"  name="attr_animal2a_dsr" value="0" />
										</td>
									</tr>
									<tr>
										<td>DB</td>
										<td><input type="text"  class="sheet-value_display"  name="attr_animal2a_db" style="width:105px;" value="0" /></td>
										<td>MSR</td>
										<td><input type="text"  class="sheet-value_display2"  name="attr_animal2a_msr" value="0" />
										</td>

									</tr>
							</table>
							</br />
							
							<div style="margin-top:5px;" class="sheet-melee_wpns_labels">
								<br />
							   <label style="width:98px">Weapon</label>
							   <label style="width:34px">SR</label>   
							   <label style="width:74px">Attk</label>   
							   <label style="width:71px">Damage</label>   
							</div>	
							
							<div>
								<input   class="sheet-value_display2"  type="text" name="attr_wpn_name2a1" style="text-align:left;width:100px;" value="weapon" />
								<input   class="sheet-value_display2" type="text" name="attr_wpn_sr2a1" value="0" />
								<input  class="sheet-value_display2" type="text" name="attr_wpn_attk2a1" value="0" />
								<input  class="sheet-value_display2"  type="text" style="width:80px" name="attr_wpn_damage2a1" value="0" />
								<button type="roll"  class="sheet-d100_roll" value="&{template:melee-roll} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a1}]]}}  {{skillvalue=[[@{wpn_attk2a1}]]}} {{fumble=[[ceil(95+([[@{wpn_attk2a1}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk2a1}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk2a1}]])/5)+1]]}}         {{success=[[@{wpn_attk2a1}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name2a1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" style="margin:0px;" value="&{template:melee-roll} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a1}]]}}  {{skillvalue=[[@{wpn_attk2a1}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk2a1}+?{mods|0}))/20))),100}kl1]]}} 	{{crit=[[ceil(([[@{wpn_attk2a1}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk2a1}+?{mods|0}]])/5)+1]]}}         {{success=[[@{wpn_attk2a1}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name2a1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
			
							</div>	
							<div>
								<input   class="sheet-value_display2"  type="text" name="attr_wpn_name2a2" style="text-align:left;width:100px;" value="weapon" />
								<input   class="sheet-value_display2" type="text" name="attr_wpn_sr2a2" value="0" />
								<input  class="sheet-value_display2" type="text" name="attr_wpn_attk2a2" value="0" />
								<input  class="sheet-value_display2"  type="text" style="width:80px" name="attr_wpn_damage2a2" value="0" />
								<button type="roll"  class="sheet-d100_roll" value="&{template:melee-roll} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a2}]]}}  {{skillvalue=[[@{wpn_attk2a2}]]}} {{fumble=[[ceil(95+([[@{wpn_attk2a2}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk2a2}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk2a2}]])/5)+1]]}}         {{success=[[@{wpn_attk2a2}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name2a2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" style="margin:0px;" value="&{template:melee-roll} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a2}]]}}  {{skillvalue=[[@{wpn_attk2a2}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk2a2}+?{mods|0}))/20))),100}kl1]]}} 	{{crit=[[ceil(([[@{wpn_attk2a2}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk2a2}+?{mods|0}]])/5)+1]]}}         {{success=[[@{wpn_attk2a2}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name2a2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
			
							</div>	
							
							<div>
								<input   class="sheet-value_display2"  type="text" name="attr_wpn_name2a3" style="text-align:left;width:100px;" value="weapon" />
								<input   class="sheet-value_display2" type="text" name="attr_wpn_sr2a3" value="0" />
								<input  class="sheet-value_display2" type="text" name="attr_wpn_attk2a3" value="0" />
								<input  class="sheet-value_display2"  type="text" style="width:80px" name="attr_wpn_damage2a3" value="0" />
								<button type="roll"  class="sheet-d100_roll" value="&{template:melee-roll} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a3}]]}}  {{skillvalue=[[@{wpn_attk2a3}]]}} {{fumble=[[ceil(95+([[@{wpn_attk2a3}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk2a3}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk2a3}]])/5)+1]]}}         {{success=[[@{wpn_attk2a3}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name2a3}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" style="margin:0px;" value="&{template:melee-roll} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a3}]]}}  {{skillvalue=[[@{wpn_attk2a3}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk2a3}+?{mods|0}))/20))),100}kl1]]}} 	{{crit=[[ceil(([[@{wpn_attk2a3}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk2a3}+?{mods|0}]])/5)+1]]}}         {{success=[[@{wpn_attk2a3}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name2a3}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
			
							</div>							
							
							
							
							
							<br />
							
							<div>	
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name2a1" style="text-align:left;width:232px;" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value2a1" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a1}]]}} {{success=[[@{skill_value2a1}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a1}+?{mods|0}))/20))),100}kl1]]}}  {{crit=[[ceil(([[@{skill_value2a1}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2a1}+?{mods|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2a1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name2a2" style="text-align:left;width:232px;" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value2a2" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a2}]]}} {{success=[[@{skill_value2a2}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a2}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{skill_value2a2}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2a2}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name2a2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name2a3" style="text-align:left;width:232px;" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value2a3" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a3}]]}} {{success=[[@{skill_value2a3}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a3}+?{mods|0}))/20))),100}kl1]]}}  {{crit=[[ceil(([[@{skill_value2a3}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2a3}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name2a3}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>									
							</div>
							<div>	
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name2a4" style="text-align:left;width:232px;" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value2a4" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a4}]]}} {{success=[[@{skill_value2a4}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a4}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{skill_value2a4}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2a4}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name2a4}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name2a5" style="text-align:left;width:232px;" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value2a5" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a5}]]}} {{success=[[@{skill_value2a5}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a5}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{skill_value2a5}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2a5}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name2a5}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Skill</div>
									   <div style="margin-left:38px;">&#37;</div>   
									</div>	
									
									<div>
										<input   class="sheet-value_display sheet-ally_skill"  type="text" name="attr_skill_name2a6" style="text-align:left;width:232px;" value="skill" />
										<input  class="sheet-value_display2" type="text" name="attr_skill_value2a6" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a6}]]}} {{success=[[@{skill_value2a6}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a6}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{skill_value2a6}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2a6}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name2a6}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>									
							</div>	
							
							<p>Hit Locations</p>
							<textarea style="font-family:courier;margin:0px;" name="attr_animal1_hit2oc" >
D20	Result         AP/HP
1-2	Right hind-leg	0/0
3-4 	Left hind-leg	0/0
5-7 	Hindquarters	0/0
8-10 	Forequarters 	0/0
11-13 	Right fore-leg	0/0
14-16 	Left fore-leg	0/0
17-20 	Head        	0/0
THP 0/0
					
							</textarea>
							<br />
							<p>Notes</p>
							<textarea style="font-family:courier;margin:0px;" name="attr_animal2_notes" ></textarea>	
						</div><!-- Animal 2 -->
					</div>			
			</fieldset>
			
			<br />
			<div class="sheet-header">Otherworld Creatures</div>


			<fieldset class="repeating_otherworld">
					<div class='sheet-2colrow'>
						<div style="margin-left:4px" class="sheet-col">
							<div style="margin-bottom:5px;">
								<input class="sheet-value_display" type="text" value="name and type " style="width:244px;" name="attr_otherworld1_name" />
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display2" value="0" name="attr_otherworld1a_str" type="text"/> 
								<p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display2" value="0" name="attr_otherworld1a_siz" type="text"/>
								<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display2" value="0" name="attr_otherworld1a_int" type="text"/> 								
							</div>
							<div>
								<p class="sheet-spirit_stat">CHR</p> <input class="sheet-value_display2" value="0" name="attr_otherworld1a_chr" type="text"/> 
								<p class="sheet-spirit_stat">POW</p><input class="sheet-value_display2" value="0" name="attr_otherworld1a_pow" type="text" />
								<button type="roll"  class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{otherworld1a_pow}*5)]]}} {{fumble=[[ceil(95+([[(@{otherworld1a_pow}*5)]])/20))]]}} {{crit=[[round(([[(@{otherworld1a_pow}*5)]])/20)+1]]}} {{special=[[round(([[(@{otherworld1a_pow}*5)]])/5)+1]]}}         {{success=[[(@{otherworld1a_pow}*5)]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{otherworld1a_pow}*?{multiplier|5})]]}} {{fumble=[[ceil(95+([[(@{otherworld1a_pow}*?{multiplier|5})]])/20))]]}} {{crit=[[round(([[(@{otherworld1a_pow}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{otherworld1a_pow}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{otherworld1a_pow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								<input type="checkbox"  name="attr_o1pow_check"/>									
								
							</div>
							<br />
							<table>
									<tr>
										<td>HP</td>
										<td>
											<input type="text" class="sheet-value_display2" name="attr_otherworld1a_hp_max" value="0" />
											/
											<input type="text"  class="sheet-value_display2" value="0" name="attr_otherworld1a_hp_cur" />
										</td>	

										<td>Move</td>
										<td>
												<input type="text"  class="sheet-value_display2"  name="attr_otherworld1a_move" value="0" />
										</td>
										
									</tr>
									<tr>
									</tr>
									<tr>
										<td>MP</td>
										<td>
											<input type="text" class="sheet-value_display2"  name="attr_otherworld1a_mp_max" value="0" />
											/
											<input type="text"  class="sheet-value_display2" value="" name="attr_otherworld1a_mp_cur" />
										</td>										<td>DSR</td>
										<td>
										<input type="text"  class="sheet-value_display2"  name="attr_otherworld1a_dsr" value="0" />
										</td>
									</tr>

							</table>
							</br />
							<div>
								<div style="margin-top:10px">
									<div class="sheet-input_label">Spirit Combat</div>
									<input type="text" value="0" style="width:24px;margin-right:5px;" class="sheet-text_input" name="attr_spirit_combat1" /><button type="roll" class="sheet-d100_roll"  value="&{template:skillRoll} {{name=@{otherworld1_name}}} {{skillvalue=[[(@{spirit_combat1})]]}} {{fumble=[[ceil(95+([[(@{spirit_combat1})]])/20))]]}} {{crit=[[round(([[(@{spirit_combat1})]])/20)+1]]}}  {{special=[[round(([[(@{spirit_combat1})]])/5)+1]]}}    {{success=[[(@{spirit_combat1})]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" />
									</button><button class="sheet-d100_roll" type="roll" style="margin-right:5px;" value="&{template:skillRoll} {{name=@{otherworld1_name}}} {{skillvalue=[[@{spirit_combat1}]]}} {{fumble=[[ceil(95+(@{spirit_combat1}+?{Mods|0})/20)]]}} {{crit=[[round((@{spirit_combat1}+?{Mods|0})/20)+1]]}}  {{special=[[round((@{spirit_combat1}+?{Mods|0})/5)+1]]}}    {{success=[[@{spirit_combat1}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><div class="sheet-input_label">Damage</div><input type="text" value="" style="width:50px" class="sheet-text_input"  name="attr_sprt_cmbt_damage" /><button type="roll" class="sheet-d100_roll" value="[[@{sprt_cmbt_damage1}]]"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								</div>							
							</div>
							<br />
							<div>
								
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Damage</div>								
									</div>	
									
									<div>
										<input   class="sheet-value_display "  type="text" name="attr_damage_name1" style="text-align:left;width:150px!important;" placeholder="Attack" value="" />
										<input  class="sheet-value_display2" type="text" name="attr_damage1" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{otherworld1_name}}} {{roll=[[@{damage1}]]}} {{skillname=@{damage_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>								
								
								
								
								
							</div>
							
						

							
							
							<br />
							<p>Hit Locations</p>
							<textarea style="font-family:courier;margin:0px;" name="attr_otherworld1_hitloc" >
D20	Result         AP/HP
1-20	Body	0/0
THP 0/0
							</textarea>
							
							<br />							
							<p>Notes/Runes/Passions/Spells</p>
							<textarea style="font-family:courier;margin:0px;" name="attr_otherworld1a_notes" ></textarea>
						</div> <!--  otherworld 1 -->
						<!--- otherworld 2 -->	
						<div class="sheet-col"> 
							<div style="margin-bottom:5px;">
								<input class="sheet-value_display" type="text" value="name and type " style="width:244px;" name="attr_otherworld2_name" />
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display2" value="0" name="attr_otherworld2a_str" type="text"/> 
								<p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display2" value="0" name="attr_otherworld2a_siz" type="text"/>
								<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display2" value="0" name="attr_otherworld2a_int" type="text"/> 								
							</div>
							<div>
								<p class="sheet-spirit_stat">CHR</p> <input class="sheet-value_display2" value="0" name="attr_otherworld2a_chr" type="text"/> 
								<p class="sheet-spirit_stat">POW</p><input class="sheet-value_display2" value="0" name="attr_otherworld2a_pow" type="text" />
								<button type="roll"  class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{otherworld2_name}}} {{skillvalue=[[(@{otherworld2a_pow}*5)]]}} {{fumble=[[ceil(95+([[(@{otherworld2a_pow}*5)]])/20))]]}} {{crit=[[round(([[(@{otherworld2a_pow}*5)]])/20)+1]]}} {{special=[[round(([[(@{otherworld2a_pow}*5)]])/5)+1]]}}         {{success=[[(@{otherworld2a_pow}*5)]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{otherworld2_name}}} {{skillvalue=[[(@{otherworld2a_pow}*?{multiplier|5})]]}} {{fumble=[[ceil(95+([[(@{otherworld2a_pow}*?{multiplier|5})]])/20))]]}} {{crit=[[round(([[(@{otherworld2a_pow}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{otherworld2a_pow}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{otherworld2a_pow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								<input type="checkbox"  name="attr_o1pow_check"/>									
								
							</div>
							<br />
							<table>
									<tr>
										<td>HP</td>
										<td>
											<input type="text" class="sheet-value_display2" name="attr_otherworld2a_hp_max" value="0" />
											/
											<input type="text"  class="sheet-value_display2" value="0" name="attr_otherworld2a_hp_cur" />
										</td>	

										<td>Move</td>
										<td>
												<input type="text"  class="sheet-value_display2"  name="attr_otherworld2a_move" value="0" />
										</td>
										
									</tr>
									<tr>
									</tr>
									<tr>
										<td>MP</td>
										<td>
											<input type="text" class="sheet-value_display2"  name="attr_otherworld2a_mp_max" value="0" />
											/
											<input type="text"  class="sheet-value_display2" value="" name="attr_otherworld2a_mp_cur" />
										</td>										<td>DSR</td>
										<td>
										<input type="text"  class="sheet-value_display2"  name="attr_otherworld2a_dsr" value="0" />
										</td>
									</tr>

							</table>
							</br />
							<div>
								<div style="margin-top:10px">
									<div class="sheet-input_label">Spirit Combat</div>
									<input type="text" value="0" style="width:24px;margin-right:5px;" class="sheet-text_input" name="attr_spirit_combat2" /><button type="roll" class="sheet-d100_roll"  value="&{template:skillRoll} {{name=@{otherworld2_name}}} {{skillvalue=[[(@{spirit_combat2})]]}} {{fumble=[[ceil(95+([[(@{spirit_combat2})]])/20))]]}} {{crit=[[round(([[(@{spirit_combat2})]])/20)+1]]}}  {{special=[[round(([[(@{spirit_combat2})]])/5)+1]]}}    {{success=[[(@{spirit_combat2})]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" />
									</button><button class="sheet-d100_roll" type="roll" style="margin-right:5px;" value="&{template:skillRoll} {{name=@{otherworld2_name}}} {{skillvalue=[[@{spirit_combat2}]]}} {{fumble=[[ceil(95+(@{spirit_combat2}+?{Mods|0})/20)]]}} {{crit=[[round((@{spirit_combat2}+?{Mods|0})/20)+1]]}}  {{special=[[round((@{spirit_combat2}+?{Mods|0})/5)+1]]}}    {{success=[[@{spirit_combat2}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><div class="sheet-input_label">Damage</div><input type="text" value="" style="width:50px" class="sheet-text_input"  name="attr_sprt_cmbt_damage2" /><button type="roll" class="sheet-d100_roll" value="[[@{sprt_cmbt_damage2}]]"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
								</div>							
							</div>
							<br />
							<div>
								
								<span style="display:inline-block">
									<div style="margin-top:5px;display:inline-block" class="sheet-melee_wpns_labels">
									   <div style="">Damage</div>								
									</div>	
									
									<div>
										<input   class="sheet-value_display "  type="text" name="attr_damage_name2" style="text-align:left;width:150px!important;" placeholder="Attack" value="" />
										<input  class="sheet-value_display2" type="text" name="attr_damage2" value="0" />
										<!--<button type="roll" class="sheet-d100_roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  class="sheet-d100_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{otherworld2_name}}} {{roll=[[@{damage2}]]}} {{skillname=@{damage_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>
									</div>
								</span>								
								
								
								
								
							</div>
							<br />
							<p>Hit Locations</p>
							<textarea style="font-family:courier;margin:0px;" name="attr_otherworld2_hitloc" >
D20	Result         AP/HP
1-20	Body	0/0
THP 0/0
							</textarea>
							
							<br />							
							<p>Notes/Runes/Passions/Spells</p>
							<textarea style="font-family:courier;margin:0px;" name="attr_otherworld2a_notes" ></textarea>	
						</div><!-- otherworld 2 -->
					</div>			
			</fieldset>
	

	



				
					
		</div><!---- End of Tab  3-->
		<div class="sheet-tab-contenta sheet-tab4a"><!--- Tab 4 start -->
		<div style="text-align:center" class="sheet-header2">FAMILY</div>				
		<div class='sheet-2colrow'>
			<div class='sheet-col'>
				<div class="sheet-skill_category">GRANDPARENTS</div>	
				<div><span style="width:92px;display:inline-block;">Grandfather</span><input type="text" style="width:231px;" class="sheet-text_input" name="attr_grandfather" /> Dead? <input type="checkbox" name="attr_dead_gf" /></div>
				<div><span style="width:92px;display:inline-block;">Grandmother</span><input type="text" style="width:231px;" class="sheet-text_input" name="attr_grandmother" /> Dead? <input type="checkbox" name="attr_dead_gm" /></div>
				<br>
				<div class="sheet-skill_category">AUNTS & UNCLES</div>
				<fieldset class="repeating_auntsUncles">
					<div>
						<input type="text" style="width:259px;" class="sheet-text_input" name="attr_auntuncle" />
						M <input type="checkbox" name="attr_male" />|F <input type="checkbox" name="attr_female" />		
						Dead? <input type="checkbox" name="attr_dead_gf" />
					</div>
				</fieldset>
				<br>
				<div class="sheet-skill_category">FAMOUS ANCESTORS</div>
				<textarea style="height:50px!important;" name="attr_ancestors"></textarea>
				
			</div>
			<div class='sheet-col'>
				<div class="sheet-skill_category">PARENTS</div>	
				<div><span style="width:92px;display:inline-block;">Father</span><input type="text" style="width:231px;" class="sheet-text_input" name="attr_father" /> Dead? <input type="checkbox" name="attr_dead_f" /></div>
				<div><span style="width:92px;display:inline-block;">Mother</span><input type="text" style="width:231px;" class="sheet-text_input" name="attr_mother" /> Dead? <input type="checkbox" name="attr_dead_m" /></div>
				<br>
				<div class="sheet-skill_category">SIBLINGS</div>
				<fieldset class="repeating_siblings">
					<div>
						<input type="text" style="width:259px;" class="sheet-text_input" name="attr_sibling" />
						M <input type="checkbox" name="attr_male" />|F <input type="checkbox" name="attr_female" />		
						Dead? <input type="checkbox" name="attr_dead_gf" />
					</div>
				</fieldset>
				<br>
				<div class="sheet-skill_category">CLAN & TRIBAL LEADERS</div>
				<textarea style="height:50px!important;" name="attr_leaders"></textarea>			
			
			
			</div>						

		</div>
			<hr class="sheet-hr" />
			<div style="text-align:center" class="sheet-header2">FAMILY EVENTS</div>				
			<div class='sheet-2colrow'>			
				<div class='sheet-col'>							
					<div class="sheet-skill_category">MARRIAGE</div>
					<fieldset class="repeating_spouse">
						<div>
							<input type="text" style="width:259px;" class="sheet-text_input" name="attr_spouse" placeholder="Spouse (Marriage Type)" />
							M <input type="checkbox" name="attr_male" />|F <input type="checkbox" name="attr_female" />		
							Dead? <input type="checkbox" name="attr_deadSpouse" />
						</div>
					</fieldset>					
					<br>
					<div class="sheet-skill_category">Events</div>
					<textarea style="height:50px!important;" name="attr_marriageEvents"></textarea>			

				</div>
				<div class='sheet-col'>
					<div class="sheet-skill_category">CHILDREN</div>
					<fieldset class="repeating_children">
						<div>
							<input type="text" style="width:259px;" class="sheet-text_input" name="attr_spouse" placeholder="Child" />
							M <input type="checkbox" name="attr_male" />|F <input type="checkbox" name="attr_female" />		
							Dead? <input type="checkbox" name="attr_deadChild" />
						</div>
					</fieldset>					
					<br>			
				</div>			
			</div>
			<hr class="sheet-hr" />
			<div style="text-align:center" class="sheet-header2">HOLDINGS</div>	
			<div class='sheet-2colrow'>			
				<div class='sheet-col'>
					<span class="sheet-skill_category">HARVEST</span><span style="margin-left:284px;" class="sheet-skill_category">Mod.</span>
					<div>
						<span style="width:115px;display:inline-block;">Last Year's Omen</span>
						<input type="text" style="width:206px;" class="sheet-text_input" name="attr_LastOmen" /> 
						<input class="sheet-text_input sheet-percentiles" name="attr_LastOmenMod" />						
					</div>
					<div>
						<span style="width:92px;display:inline-block;">Raiding</span>
						<input type="text" style="width:231px;" class="sheet-text_input" name="attr_raiding" /> 
						<input class="sheet-text_input sheet-percentiles" name="attr_raidingMod" />						
					</div>					
					<div>
						<span style="width:92px;display:inline-block;">Heroquest</span>
						<input type="text" style="width:231px;" class="sheet-text_input" name="attr_heroquest" /> 
						<input class="sheet-text_input sheet-percentiles" name="attr_heroquestMod" />						
					</div>	
					<div>
						<span style="width:156px;display:inline-block;">Previous Year's Harvest</span>
						<input type="text" style="width:168px;" class="sheet-text_input" name="attr_prevHarvest" /> 
						<input class="sheet-text_input sheet-percentiles" name="attr_prevHarvestMod" />						
					</div>						
					<div>
						<span style="width:119px;display:inline-block;">Next Year's Omen</span>
						<input type="text" style="width:206px;" class="sheet-text_input" name="attr_nextOmen" /> 
						<input class="sheet-text_input sheet-percentiles" name="attr_nextOmenMod" />						
					</div>					
					<br>
					<div class="sheet-skill_category">CHARACTER INCOME</div>
					<div>
						<span style="width:86px;display:inline-block;">Base Income</span>
						<input type="text" style="width:50px;" class="sheet-text_input" name="attr_income" /><span> Lunars</span> 						
					</div>
					<div>
						<span>Special Notes</span>
						<textarea style="height:50px!important;" name="attr_spclNotes"></textarea>			
					</div>
				</div>
				<div class='sheet-col'>	
					<span class="sheet-skill_category">HOUSEHOLD</span ><span style="float:right"><span>Hides</span><input type="text" style="width:50px;" class="sheet-text_input" name="attr_hides" /></span>
					<div>Description</div>
					<textarea style="height:50px!important;" name="attr_household"></textarea>								
					<div>
					<span>Tenant(s)</span>
					<textarea style="height:50px!important;" name="attr_tenants"></textarea>													
					</div>

				</div>				
			</div>
		</div><!-- End of tab 4 -->
</div>	
<!---- end full sheet -->
<!-- start QS sheet -->
<input type="checkbox" class="sheet-toggleQSSheet" name="attr_toggleQSSheet"  checked="checked" style="display: none">
<div class="sheet-QSSheet">
	<input type="radio" name="attr_tab1" class="sheet-tab sheet-tab1" value="1" title="Background" checked="checked" /><span title="Basic"></span>
	<input type="radio" name="attr_tab1" class="sheet-tab sheet-tab2" value="2" title="Skills" /><span title="Skills"></span>
	<input type="radio" name="attr_tab1" class="sheet-tab sheet-tab3" value="3" title="Combat" /><span title="Combat"></span>
	<input type="radio" name="attr_tab1" class="sheet-tab sheet-tab4" value="4" title="Equipment" /><span title="Equipment"></span>
	<input type="radio" name="attr_tab1" class="sheet-tab sheet-tab5" value="5" title="Magic" /><span title="Magic"></span>
	<div style="background-color:#ac6e73" class="sheet-tab-content sheet-tab1">
		<div class="sheet-cdiv">
					<input class="sheet-HideConfig" type="checkbox" checked="checked" name="attr_is_config"><span class="sheet-is-config"><span style="font-family: &quot;pictos&quot;">y</span></span>
					<div class="sheet-config" style="border-style: dotted ; border-color: gray ; padding: 5px ; background-color: white ; background-image: none">

							<br />
						<input type="checkbox" class="sheet-toggleQSSheet" name="attr_toggleQSSheet"  checked="checked">Display Quick Start Sheet
						<input type="checkbox" class="sheet-toggleFullSheet" name="attr_toggleFullSheet">Display Full Sheet
						<input type="checkbox" class="sheet-toggleNPC1Sheet" name="attr_toggleNPC1Sheet">Display NPC Sheet


					</div>
		</div>
	<br />
		<div class='sheet-2colrow'>
			<div class='sheet-col'>
			  <div class='sheet-2colrow'>
				<div style="width:47%;margin-right:5px;background-color:white;border-radius:6px;padding:1px;padding-bottom:8px;" class="sheet-col">
					<label>Characteristics</label>


					<div>

						<div>
								<label style="margin-left:56px;display:inline;font-size:0.6em">Orig.</label>
								<label style="margin-left:5px;display:inline;font-size:0.6em">Cur.</label>
						</div>
						<div>
							<div class="sheet-char_button">STR</div>
							<input type="text" class="sheet-skill_values" name="attr_origstr" value="0"/>
							<input type="text" class="sheet-skill_values" name="attr_curstr" value="0"/>
							
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curstr}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curstr}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curstr}*5)@{enc_mod}]])/20)+1]]}}     {{success=[[(@{curstr}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=STR Roll}}"  ></button><button class="new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curstr}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curstr}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curstr}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curstr}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curstr}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=STR Roll}}"  ></button>	
						</div>	
						
						<div>
							<div class="sheet-char_button">CON</div>

							<input type="text" class="sheet-skill_values" name="attr_origcon" value="0"/>
							<input type="text" class="sheet-skill_values" name="attr_curcon" value="0"/>
							<button type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curcon}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curcon}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curcon}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curcon}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curcon}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=CON Roll}}"  ></button><button class="new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curcon}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curcon}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curcon}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curcon}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curcon}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=CON Roll}}"  ></button>	
						</div>	

						<div>
							<div class="sheet-char_button">SIZ</div>
							<input type="text" class="sheet-skill_values" name="attr_origsiz" value="0" />
							<input type="text" class="sheet-skill_values" name="attr_cursiz" value="0"/>
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{cursiz}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{cursiz}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{cursiz}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{cursiz}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{cursiz}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=SIZ Roll}}"  ></button><button class="new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{cursiz}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{cursiz}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{cursiz}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{cursiz}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{cursiz}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=SIZ Roll}}"  ></button>	
						</div>	
						
						<div>
							<div class="sheet-char_button">INT</div>

							<input type="text" class="sheet-skill_values" name="attr_origint" value="0"/>	
							<input type="text" class="sheet-skill_values" name="attr_curint" value="0"/>
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curint}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curint}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curint}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curint}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curint}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=INT Roll}}"  ></button><button class="new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curint}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curint}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curint}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curint}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curint}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=INT Roll}}"  ></button>	
						</div>
						
						<div>
							<div class="sheet-char_button">POW</div>						

							<input type="text" class="sheet-skill_values" name="attr_origpow" value="0"/>
							<input type="text" class="sheet-skill_values" name="attr_curpow" value="0"/>
							<button type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curpow}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curpow}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curpow}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}" ></button><button class="new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curpow}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curpow}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curpow}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curpow}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"  ></button>
							<input type="checkbox"  name="attr_pow_check"/>								
						</div>

						<div>
							<div class="sheet-char_button">DEX</div>						

							<input type="text" class="sheet-skill_values" name="attr_origdex" value="0"/>	
							<input type="text" class="sheet-skill_values" name="attr_curdex" value="0"/>
							<button type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curdex}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curdex}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curdex}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curdex}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curdex}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=DEX Roll}}" ></button><button class="new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curdex}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curdex}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curdex}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curdex}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curdex}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=DEX Roll}}"  ></button>	
						</div>

						<div>	
						    <div class="sheet-char_button">CHR</div>
							<input type="text" class="sheet-skill_values" name="attr_origchr" value="0"/>	
							<input type="text" class="sheet-skill_values" name="attr_curchr" value="0"/>

							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curchr}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curchr}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curchr}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curchr}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curchr}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=CHR Roll}}"  ></button><button class="new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curchr}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curchr}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curchr}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curchr}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curchr}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=CHR Roll}}"  ></button>	
						</div>	
						
					</div>
				</div>
				<div style="background-color:white;border-radius:6px;padding:1px;padding-bottom:8px" class="sheet-col">
					<label>Attributes</label>

						<!--
						<div>
								<label style="margin-left:56px;display:inline;font-size:0.6em">&nbsp;&nbsp;</label>
								<label style="margin-left:5px;display:inline;font-size:0.6em">&nbsp;&nbsp;</label>
						</div>
						-->
					<div>
						<label class="sheet-attribute_label">Damage Modifier</label>
						<input style="width:50px;" type="text" readonly name="attr_damagebonus" />
						<input style="display:none" type="text" readonly name="attr_mdamagebonus" />							
					</div>
					<div>
						<label class="sheet-attribute_label">Move Rate</label>
						<input style="margin-left:-36px;width:25px;" type="text"  value="8" name="attr_move_rate" />
						<input style="width:25px;" type="text" disabled value="round(@{enc_mod}/5)]" name="attr_move_mod" />					<input style="width:25px;" type="text" disabled value="[@{move_rate}+(round(@{enc_mod}/5))]" name="attr_move_mod" />														
					</div>	
					<div>
						<label class="sheet-attribute_label">Dex SRM</label>
						<input style="width:50px;" value="0" type="text" readonly name="attr_dex_srm" />	
					</div>	
					<div>
						<label class="sheet-attribute_label">Size SRM</label>
						<input style="width:50px;" value="0" type="text" readonly name="attr_siz_srm" />	
					</div>		
					<div>
						<label class="sheet-attribute_label">Melee SRM</label>
						<input style="width:50px;" value="0" type="text" readonly name="attr_melee_srm" />	
					</div>		
					
					<div>
						<label class="sheet-attribute_label">Parry</label>
						<input style="width:50px;" value="0" type="text" readonly name="attr_parry_mod" />	
					</div>					
					
					<div>
					   
						<label style="width:74px" class="sheet-attribute_label">Defense</label>(<span style="display:inline-block;width:21px" name="attr_enc_mod" ></span>)
						<input style="width:50px;" value="0" type="text" readonly name="attr_defense" />	
					</div>		

					
					
					
					
					<!--
					<div>
						<label style="font-size:1.0em;display:inline">Hps</label>
						<input type="number" readonly name="atr_hp_max" />
						<label style="font-size:1.0em;display:inline">mps</label>
						<input type="number" readonly name="atr_curpow" />
						<label style="font-size:1.0em;display:inline">fps</label>
						<input type="number" readonly name="atr_fp_max" />		
					</div>-->
					
					
					<input style="display:none" type="number" name="attr_attackbonus" />

					<input style="display:none" type="number" name="attr_parrybonus" />
					
				</div>
				
				
				</div>
			</div>	
				<div style="background-color:white;border-radius:6px;padding:2px;padding-bottom:8px"  class="sheet-col">
					<label>Personal Information</label>
					<div>
						<label class="sheet-personal_label">Name</label>
						<input class="sheet-personal_text" style="width:326px;" type="text"  name="attr_character_name" />	
					</div>
					<div>
						<label class="sheet-personal_label">Species</label>
						<input class="sheet-personal_text" style="width:312px;" type="text" name="attr_species" />	
					</div>		
					<div>
						<label class="sheet-personal_label">Age</label>
						<input class="sheet-personal_text" style="width:5em;" type="number" name="attr_age" />	
						<label class="sheet-personal_label">Gender</label>
						<input class="sheet-personal_text" style="width:208px;" type="text" name="attr_gender" />	
						
					</div>
					<div>
						<label class="sheet-personal_label">Occupation</label>
						<input class="sheet-personal_text" style="width:288px;" type="text" name="attr_occupation" />	
					</div>
					<div>
						<label class="sheet-personal_label">Culture</label>
						<input class="sheet-personal_text" style="width:313px;" type="text" name="attr_culture" />	
					</div>			
					<div>
						<label class="sheet-personal_label">Religion</label>
						<input class="sheet-personal_text" style="width:308px;" type="text" name="attr_religion" />	
					</div>
					<div>
						<label class="sheet-personal_label">Reputation</label>
						<input class="sheet-personal_text"  value="0" style="width:50px;" type="text" name="attr_reputation" />	
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{reputation}}} {{fumble=[[ceil(95+(@{reputation})/20))]]}} {{crit=[[ceil((@{reputation})/20)+1]]}} {{special=[[ceil((@{reputation})/5)+1]]}}         {{success=[[@{reputation}]]}} {{roll=[[1d100]]}} {{skillname=Reputation}}" ></button>										
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{reputation}}} {{fumble=[[ceil(95+(@{reputation}+?{Mods|0})/20))]]}} {{crit=[[ceil((@{reputation}+?{Mods|0})/20)+1]]}} {{special=[[ceil((@{reputation}+?{Mods|0})/5)+1]]}}         {{success=[[@{reputation}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Reputation}}"  ></button>								
					</div>					
				</div>	
		</div>

		<br />
		<div style="background:white;paddig:5px;border-radius:6px" >
			<label>Cult Membership</label>
			<div class="sheet-melee_wpns_labels">
				<label style="width:216px">Cult</label>   
				<label style="width:64px">Rank</label>
				<label style="width:30px">Gifts\Geases\Notes</label>
			</div>
			<fieldset class="repeating_cults2">
				<input style="width:200px;" type ="text" name="attr_cult" />
				<input style="width:100px;" type="text" name="attr_cultrank" />
				<input style="width:500px;" type="text" name="attr_cultnotes" />
			</fieldset>
		</div>
		
		<br />
		<div style="background:white;paddig:5px;border-radius:6px" >
			<label>Notes etc</label>
			<textarea style="margin-left:4px;width:97%" name="attr_notes">
			</textarea>
		</div>
		

		
	</div> <!-- End of tab 1 -->

	<!--<div style="width:853px;background-color:#ac6e73" class="sheet-tab-content sheet-tab2">-->
<div style="width:853px;" class="sheet-tab-content sheet-tab2">
	

		<br />

		
		<input style="display:none" value="0" type="text"  name="attr_fatigue_mod" />
		<br />
		<div class='sheet-3colrow'>
			<div style="margin-right:10px" class='sheet-col'>
			 <div style="background-color:white;padding-bottom:13px;border-radius:6px">	
				<div>
					<label class="sheet-category_label">Agility</label>
					<input class="sheet-skill_values" type="text" value="0" disabled readonly name="attr_agility_mod" />
				</div>
				
<!--				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_boat_check" />
					<div class="sheet-skill_button">Boat</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_aname}}} {{skillvalue=[@{boat_total}]}} {{fumble=[[ceil(95+([@{boat_total}])/20))]]}} {{crit=[[ceil(([@{boat_total}])/20)+1]]}} {{special=[[ceil(([@{boat_total}])/5)+1]]}}         {{success=[[[@{boat_total}]]]}} {{roll=[[1d100]]}} {{skillname=Boat}}" ></button>			
					<button  class="sheet-new_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{boat_total}]}} {{fumble=[[ceil(95+([@{boat_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{boat_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{boat_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{boat_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Boat}}"   type="roll"></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_boat_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{agility_mod}+@{boat_value}+@{fatigue_mod}]" name="attr_boat_total" />
				</div>
-->				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_climb_check" />
					<div class="sheet-skill_button">Climb</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{climb_total}]}} {{fumble=[[ceil(95+([@{climb_total}])/20))]]}} {{crit=[[ceil(([@{climb_total}])/20)+1]]}} {{special=[[ceil(([@{climb_total}])/5)+1]]}}         {{success=[[[@{climb_total}]]]}} {{roll=[[1d100]]}} {{skillname=Climb}}"   ></button>					
					<button   class="sheet-new_roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{climb_total}]}} {{fumble=[[ceil(95+([@{climb_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{climb_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{climb_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{climb_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Climb}}"  type="roll"></button>		
					<input class="sheet-skill_values" type="text" value="40" name="attr_climb_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{agility_mod}+@{climb_value}+@{fatigue_mod}]" name="attr_climb_total" />
				</div>		


				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_dodge_check" />
					<div class="sheet-skill_button">Dodge(Dx2)</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dodge_total}]}} {{fumble=[[ceil(95+([@{dodge_total}])/20))]]}} {{crit=[[ceil(([@{dodge_total}])/20)+1]]}} {{special=[[ceil(([@{dodge_total}])/5)+1]]}}         {{success=[[[@{dodge_total}]]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}" ></button>								
					<button  class="sheet-new_roll"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dodge_total}]}} {{fumble=[[ceil(95+([@{dodge_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{dodge_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{dodge_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{dodge_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"   ></button>		
					<input class="sheet-skill_values" type="text" value="0" name="attr_dodge_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{agility_mod}+@{dodge_value}+@{fatigue_mod}]" name="attr_dodge_total" />
				</div>	

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_jump_check" />
					<div class="sheet-skill_button">Jump (Dx3)</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{jump_total}]}} {{fumble=[[ceil(95+([@{jump_total}])/20))]]}} {{crit=[[ceil(([@{jump_total}])/20)+1]]}} {{special=[[ceil(([@{jump_total}])/5)+1]]}}         {{success=[[[@{jump_total}]]]}} {{roll=[[1d100]]}} {{skillname=Jump}}" ></button>								
					<button   class="sheet-new_roll"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{jump_total}]}} {{fumble=[[ceil(95+([@{jump_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{jump_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{jump_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{jump_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Jump}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="0" name="attr_jump_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{agility_mod}+@{jump_value}+@{fatigue_mod}]" name="attr_jump_total" />
				</div>	
				
				<div style="margin-bottom:2px" >	
					<input  style="display:inline-block" type="checkbox" name="attr_ride_check" />
					<div class="sheet-skill_button">Ride</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ride_total}]}} {{fumble=[[ceil(95+([@{ride_total}])/20))]]}} {{crit=[[ceil(([@{ride_total}])/20)+1]]}} {{special=[[ceil(([@{ride_total}])/5)+1]]}}         {{success=[[[@{ride_total}]]]}} {{roll=[[1d100]]}} {{skillname=Ride}}"  ></button>								
					<button   class="sheet-new_roll" type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ride_total}]}} {{fumble=[[ceil(95+([@{ride_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{ride_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{ride_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{ride_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Ride}}"   ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_ride_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{agility_mod}+@{ride_value}+@{fatigue_mod}]" name="attr_ride_total" />
				</div>			
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_swim_check" />
					<div class="sheet-skill_button">Swim</div> 
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{swim_total}]}} {{fumble=[[ceil(95+([@{swim_total}])/20))]]}} {{crit=[[ceil(([@{swim_total}])/20)+1]]}} {{special=[[ceil(([@{swim_total}])/5)+1]]}}         {{success=[[[@{swim_total}]]]}} {{roll=[[1d100]]}} {{skillname=Swim}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{swim_total}]}} {{fumble=[[ceil(95+([@{swim_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{swim_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{swim_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{swim_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Swim}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="15" name="attr_swim_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{agility_mod}+@{swim_value}+@{fatigue_mod}]" name="attr_swim_total" />
				</div>			
				<!--	
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_throw_check" />
					<div class="sheet-skill_button">Throw</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{throw_total}]}} {{fumble=[[ceil(95+([@{throw_total}])/20))]]}} {{crit=[[ceil(([@{throw_total}])/20)+1]]}} {{special=[[ceil(([@{throw_total}])/5)+1]]}}         {{success=[[[@{throw_total}]]]}} {{roll=[[1d100]]}} {{skillname=Throw}}"  ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{throw_total}]}} {{fumble=[[ceil(95+([@{throw_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{throw_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{throw_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{throw_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Throw}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="25" name="attr_throw_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{agility_mod}+@{throw_value}+@{fatigue_mod}]" name="attr_throw_total" />
				</div>
				-->
				<fieldset class="repeating_askills">
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_askill_check" />
						<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_askill_name" />
						
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{askill_total}}} {{fumble=[[95+ceil((@{askill_total}/20))]]}} {{crit=[[round(@{askill_total}/20)+1]]}} {{special=[[round((@{askill_total})/5)+1]]}}         {{success=[[@{askill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{askill_name}}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{askill_total}}} {{fumble=[[95+ceil(((@{askill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{askill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{askill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{askill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{askill_name}}}"  ></button>
						<input type="text"  class="sheet-skill_values" value="0" name="attr_askill_value" />
						<input type="text"  class="sheet-skill_values" disabled name="attr_askill_total" value="@{askill_value}+@{agility_mod}+@{fatigue_mod}" />
						
					</div>				
				</fieldset>
				
				
				
			  </div>		
			  
			  
			  
			  
				<br>
				<div style="background-color:white;padding-bottom:13px;border-radius:6px">
				<div>
					<label class="sheet-category_label">Communications</label>
					<input class="sheet-skill_values" type="text" value="0" disabled readonly  name="attr_Communications_mod" />
				</div>		

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_act_check" />
					<div class="sheet-skill_button">Act</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{act_total}]}} {{fumble=[[ceil(95+([@{act_total}])/20))]]}} {{crit=[[ceil(([@{act_total}])/20)+1]]}} {{special=[[ceil(([@{act_total}])/5)+1]]}}         {{success=[[[@{act_total}]]]}} {{roll=[[1d100]]}} {{skillname=Act}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{act_total}]}} {{fumble=[[ceil(95+([@{act_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{act_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{act_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{act_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Act}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_act_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{act_value}+@{fatigue_mod}]" name="attr_act_total" />
				</div>	

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_art_check" />
					<div class="sheet-skill_button">Art</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{art_total}]}} {{fumble=[[ceil(95+([@{art_total}])/20))]]}} {{crit=[[ceil(([@{art_total}])/20)+1]]}} {{special=[[ceil(([@{art_total}])/5)+1]]}}         {{success=[[[@{art_total}]]]}} {{roll=[[1d100]]}} {{skillname=Art}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{art_total}]}} {{fumble=[[ceil(95+([@{art_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{art_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{art_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{art_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Art}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_art_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{art_value}+@{fatigue_mod}]" name="attr_art_total" />
				</div>

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_bargain_check" />
					<div class="sheet-skill_button">Bargain</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{bargain_total}]}} {{fumble=[[ceil(95+([@{bargain_total}])/20))]]}} {{crit=[[ceil(([@{bargain_total}])/20)+1]]}} {{special=[[ceil(([@{bargain_total}])/5)+1]]}}         {{success=[[[@{bargain_total}]]]}} {{roll=[[1d100]]}} {{skillname=Bargain}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{bargain_total}]}} {{fumble=[[ceil(95+([@{bargain_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{bargain_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{bargain_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{bargain_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Bargain}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_bargain_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{bargain_value}+@{fatigue_mod}]" name="attr_bargain_total" />
				</div>	

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_charm_check" />
					<div class="sheet-skill_button">Charm</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{charm_total}]}} {{fumble=[[ceil(95+([@{charm_total}])/20))]]}} {{crit=[[ceil(([@{charm_total}])/20)+1]]}} {{special=[[ceil(([@{charm_total}])/5)+1]]}}         {{success=[[[@{charm_total}]]]}} {{roll=[[1d100]]}} {{skillname=Charm}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{charm_total}]}} {{fumble=[[ceil(95+([@{charm_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{charm_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{charm_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{charm_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Charm}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="15" name="attr_charm_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{charm_value}+@{fatigue_mod}]" name="attr_charm_total" />
				</div>		

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_dance_check" />
					<div class="sheet-skill_button">Dance</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dance_total}]}} {{fumble=[[ceil(95+([@{dance_total}])/20))]]}} {{crit=[[ceil(([@{dance_total}])/20)+1]]}} {{special=[[ceil(([@{dance_total}])/5)+1]]}}         {{success=[[[@{dance_total}]]]}} {{roll=[[1d100]]}} {{skillname=Dance}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dance_total}]}} {{fumble=[[ceil(95+([@{dance_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{dance_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{dance_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{dance_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dance}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="10" name="attr_dance_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{dance_value}+@{fatigue_mod}]" name="attr_dance_total" />
				</div>		

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_disguise_check" />
					<div class="sheet-skill_button">Disguise</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{disguise_total}]}} {{fumble=[[ceil(95+([@{disguise_total}])/20))]]}} {{crit=[[ceil(([@{disguise_total}])/20)+1]]}} {{special=[[ceil(([@{disguise_total}])/5)+1]]}}         {{success=[[[@{disguise_total}]]]}} {{roll=[[1d100]]}} {{skillname=Disguise}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{disguise_total}]}} {{fumble=[[ceil(95+([@{disguise_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{disguise_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{disguise_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{disguise_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Disguise}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_disguise_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{disguise_value}+@{fatigue_mod}]" name="attr_disguise_total" />
				</div>				
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_fast_talk__check" />
					<div class="sheet-skill_button">Fast Talk</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{fast_talk_total}]}} {{fumble=[[ceil(95+([@{fast_talk_total}])/20))]]}} {{crit=[[ceil(([@{fast_talk_total}])/20)+1]]}} {{special=[[ceil(([@{fast_talk_total}])/5)+1]]}}         {{success=[[[@{fast_talk_total}]]]}} {{roll=[[1d100]]}} {{skillname=Fast Talk}}"  ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{fast_talk_total}]}} {{fumble=[[ceil(95+([@{fast_talk_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{fast_talk_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{fast_talk_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{fast_talk_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Fast_talk}}"></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_fast_talk_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{fast_talk_value}+@{fatigue_mod}]" name="attr_fast_talk_total" />
				</div>	

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_intimidate_check" />
					<div class="sheet-skill_button">Intimidate</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{intimidate_total}]}} {{fumble=[[ceil(95+([@{intimidate_total}])/20))]]}} {{crit=[[ceil(([@{intimidate_total}])/20)+1]]}} {{special=[[ceil(([@{intimidate_total}])/5)+1]]}}         {{success=[[[@{intimidate_total}]]]}} {{roll=[[1d100]]}} {{skillname=Intimidate}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{intimidate_total}]}} {{fumble=[[ceil(95+([@{intimidate_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{intimidate_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{intimidate_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{intimidate_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Intimidate}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="15" name="attr_intimidate_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{intimidate_value}+@{fatigue_mod}]" name="attr_intimidate_total" />
				</div>				
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_orate_check" />
					<div class="sheet-skill_button">Orate</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{orate_total}]}} {{fumble=[[ceil(95+([@{orate_total}])/20))]]}} {{crit=[[ceil(([@{orate_total}])/20)+1]]}} {{special=[[ceil(([@{orate_total}])/5)+1]]}}         {{success=[[[@{orate_total}]]]}} {{roll=[[1d100]]}} {{skillname=Orate}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{orate_total}]}} {{fumble=[[ceil(95+([@{orate_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{orate_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{orate_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{orate_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Orate}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_orate_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{orate_value}+@{fatigue_mod}]" name="attr_orate_total" />
				</div>			

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_sing_check" />
					<div class="sheet-skill_button">Sing</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sing_total}]}} {{fumble=[[ceil(95+([@{sing_total}])/20))]]}} {{crit=[[ceil(([@{sing_total}])/20)+1]]}} {{special=[[ceil(([@{sing_total}])/5)+1]]}}         {{success=[[[@{sing_total}]]]}} {{roll=[[1d100]]}} {{skillname=sing}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sing_total}]}} {{fumble=[[ceil(95+([@{sing_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{sing_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{sing_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{sing_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Sing}}"  ></button>
					<input class="sheet-skill_values" type="text" value="5" name="attr_sing_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{sing_value}+@{fatigue_mod}]" name="attr_sing_total" />
				</div>	
				<p style="font-weight:bold;margin-bottom:1px">Speak Languages</p>
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_own_lang_check" />
					<div class="sheet-skill_button">Own</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{own_lang_total}]}} {{fumble=[[ceil(95+([@{own_lang_total}])/20))]]}} {{crit=[[ceil(([@{own_lang_total}])/20)+1]]}} {{special=[[ceil(([@{own_lang_total}])/5)+1]]}} {{success=[[[@{own_lang_total}]]]}} {{roll=[[1d100]]}} {{skillname=Own Lang.}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{own_lang_total}]}} {{fumble=[[ceil(95+([@{own_lang_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{own_lang_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{own_lang_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{own_lang_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Own Lang.}}"  ></button>
		
					<input class="sheet-skill_values" type="text" value="30" name="attr_own_lang_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{own_lang_value}+@{fatigue_mod}]" name="attr_own_lang_total" />
				</div>			
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_own_lang1_check" />
					<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_lang1_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lang1_total}]}} {{fumble=[[ceil(95+([@{lang1_total}])/20))]]}} {{crit=[[ceil(([@{lang1_total}])/20)+1]]}} {{special=[[ceil(([@{lang1_total}])/5)+1]]}}         {{success=[[[@{lang1_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lang1_name}}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lang1_total}]}} {{fumble=[[ceil(95+([@{lang1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lang1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lang1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lang1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lang1_name}}}"  ></button>
								
					<input class="sheet-skill_values" type="text" value="0" name="attr_lang1_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{lang1_value}+@{fatigue_mod}]" name="attr_lang1_total" />
				</div>			
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_own_lang2_check" />
					<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_lang2_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lang2_total}]}} {{fumble=[[ceil(95+([@{lang2_total}])/20))]]}} {{crit=[[ceil(([@{lang2_total}])/20)+1]]}} {{special=[[ceil(([@{lang2_total}])/5)+1]]}}         {{success=[[[@{lang2_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lang2_name}}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lang2_total}]}} {{fumble=[[ceil(95+([@{lang2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lang2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lang2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lang2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lang2_name}}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="0" name="attr_lang2_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Communications_mod}+@{lang2_value}+@{fatigue_mod}]" name="attr_lang2_total" />
				</div>		
				<fieldset class="repeating_cskills">
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_cskill_check" />
						<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_cskill_name" />
						
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{cskill_total}}} {{fumble=[[95+ceil((@{cskill_total}/20))]]}} {{crit=[[round(@{cskill_total}/20)+1]]}} {{special=[[round((@{cskill_total})/5)+1]]}}         {{success=[[@{cskill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{cskill_name}}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{cskill_total}}} {{fumble=[[95+ceil(((@{cskill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{cskill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{cskill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{cskill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{cskill_name}}}"  ></button>
						<input type="text"  class="sheet-skill_values" value="0" name="attr_cskill_value" />
						<input type="text"  class="sheet-skill_values" disabled name="attr_cskill_total" value="@{cskill_value}+@{Communications_mod}+@{fatigue_mod}" />
						
					</div>				
				</fieldset>
				
				
			 </div>	
				
			</div>
			<div style="margin-right:15px" class='sheet-col'>
				<div style="background-color:white;padding-bottom:13px;border-radius:6px">
				<div>
					<label class="sheet-category_label">Knowledge</label>
					<input class="sheet-skill_values" type="text" value="0" disabled readonly  name="attr_knowledge_mod" />
				</div>	
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_battle_check" />
					<div class="sheet-skill_button">Battle</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{battle_total}]}} {{fumble=[[ceil(95+([@{battle_total}])/20))]]}} {{crit=[[ceil(([@{battle_total}])/20)+1]]}} {{special=[[ceil(([@{battle_total}])/5)+1]]}}         {{success=[[[@{battle_total}]]]}} {{roll=[[1d100]]}} {{skillname=Battle}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{battle_total}]}} {{fumble=[[ceil(95+([@{battle_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{battle_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{battle_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{battle_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Battle}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="10" name="attr_battle_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{battle_value}+@{fatigue_mod}]" name="attr_battle_total" />
				</div>				
				
				
				<!--
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_sing_check" />
					<div class="sheet-skill_button">Animal Lore</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{animal_lore_total}]}} {{fumble=[[ceil(95+([@{animal_lore_total}])/20))]]}} {{crit=[[ceil(([@{animal_lore_total}])/20)+1]]}} {{special=[[ceil(([@{animal_lore_total}])/5)+1]]}}         {{success=[[[@{animal_lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=Animal Lore}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{animal_lore_total}]}} {{fumble=[[ceil(95+([@{animal_lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{animal_lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{animal_lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{animal_lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Animal Lore}}"  ></button>	
					<input class="sheet-skill_values" type="text" value="5" name="attr_animal_lore_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{animal_lore_value}+@{fatigue_mod}]" name="attr_animal_lore_total" />
				</div>			
				-->
				
	
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_evaluate_check" />
					<div class="sheet-skill_button">Evaluate</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{evaluate_total}]}} {{fumble=[[ceil(95+([@{evaluate_total}])/20))]]}} {{crit=[[ceil(([@{evaluate_total}])/20)+1]]}} {{special=[[ceil(([@{evaluate_total}])/5)+1]]}}         {{success=[[[@{evaluate_total}]]]}} {{roll=[[1d100]]}} {{skillname=Evaluate}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{evaluate_total}]}} {{fumble=[[ceil(95+([@{evaluate_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{evaluate_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{evaluate_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{evaluate_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Evaluate}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_evaluate_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{evaluate_value}+@{fatigue_mod}]" name="attr_evaluate_total" />
				</div>	
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_farm_check" />
					<div class="sheet-skill_button">Farm</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{farm_total}]}} {{fumble=[[ceil(95+([@{farm_total}])/20))]]}} {{crit=[[ceil(([@{farm_total}])/20)+1]]}} {{special=[[ceil(([@{farm_total}])/5)+1]]}}         {{success=[[[@{farm_total}]]]}} {{roll=[[1d100]]}} {{skillname=Farm}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{farm_total}]}} {{fumble=[[ceil(95+([@{farm_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{farm_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{farm_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{farm_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Farm}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_farm_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{farm_value}+@{fatigue_mod}]" name="attr_farm_total" />
				</div>				

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_firstaid_check" />
					<div class="sheet-skill_button">First Aid</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{firstaid_total}]}} {{fumble=[[ceil(95+([@{firstaid_total}])/20))]]}} {{crit=[[ceil(([@{firstaid_total}])/20)+1]]}} {{special=[[ceil(([@{firstaid_total}])/5)+1]]}}         {{success=[[[@{firstaid_total}]]]}} {{roll=[[1d100]]}} {{skillname=First Aid}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{firstaid_total}]}} {{fumble=[[ceil(95+([@{firstaid_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{firstaid_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{firstaid_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{firstaid_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=First Aid}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="10" name="attr_firstaid_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{firstaid_value}+@{fatigue_mod}]" name="attr_firstaid_total" />
				</div>				

				<p style="font-weight:bold;margin-bottom:1px">Herd</p>
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_own_herd1_check" />
					<input class="sheet-blank_skill" style="display:inline-block;" type="text" name="attr_herd1_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{herd1_total}]}} {{fumble=[[ceil(95+([@{herd1_total}])/20))]]}} {{crit=[[ceil(([@{herd1_total}])/20)+1]]}} {{special=[[ceil(([@{herd1_total}])/5)+1]]}}         {{success=[[[@{herd1_total}]]]}} {{roll=[[1d100]]}} {{skillname=Herd (@{herd1_name})}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{herd1_total}]}} {{fumble=[[ceil(95+([@{herd1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{herd1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{herd1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{herd1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Herd (@{herd1_name})}}"  ></button>	
					<input class="sheet-skill_values" type="text" value="5" name="attr_herd1_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{herd1_value}+@{fatigue_mod}]" name="attr_herd1_total" />
				</div>			
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_herd2_check" />
					<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_herd2_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{herd2_total}]}} {{fumble=[[ceil(95+([@{herd2_total}])/20))]]}} {{crit=[[ceil(([@{herd2_total}])/20)+1]]}} {{special=[[ceil(([@{herd2_total}])/5)+1]]}}         {{success=[[[@{herd2_total}]]]}} {{roll=[[1d100]]}} {{skillname=Herd (@{herd2_name})}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{herd2_total}]}} {{fumble=[[ceil(95+([@{herd2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{herd2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{herd2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{herd2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Herd (@{herd2_name})}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_herd2_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{herd2_value}+@{fatigue_mod}]" name="attr_herd2_total" />
				</div>					
				
				<!--
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_human_lore_check" />
					<div class="sheet-skill_button">Human Lore</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{human_lore_total}]}} {{fumble=[[ceil(95+([@{human_lore_total}])/20))]]}} {{crit=[[ceil(([@{human_lore_total}])/20)+1]]}} {{special=[[ceil(([@{human_lore_total}])/5)+1]]}}         {{success=[[[@{human_lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=Human Lore}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{human_lore_total}]}} {{fumble=[[ceil(95+([@{human_lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{human_lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{human_lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{human_lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Human Lore}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_human_lore_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{human_lore_value}+@{fatigue_mod}]" name="attr_human_lore_total" />
				</div>	
				-->
				<!--
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_martial_arts" />
					<div class="sheet-skill_button">Martial Arts</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{martial_arts_total}]}} {{fumble=[[ceil(95+([@{martial_arts_total}])/20))]]}} {{crit=[[ceil(([@{martial_arts_total}])/20)+1]]}} {{special=[[ceil(([@{martial_arts_total}])/5)+1]]}}         {{success=[[[@{martial_arts_total}]]]}} {{roll=[[1d100]]}} {{skillname=Martial Arts}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{martial_arts_total}]}} {{fumble=[[ceil(95+([@{martial_arts_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{martial_arts_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{martial_arts_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{martial_arts_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Martial Arts}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="0" name="attr_martial_arts_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{martial_arts_value}+@{fatigue_mod}]" name="attr_martial_arts_total" />
				</div>	
				-->
				
				<p style="font-weight:bold;margin-bottom:1px">Lore</p>
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_lore_check" />
					<div class="sheet-skill_button">Homeland</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore_total}]}} {{fumble=[[ceil(95+([@{lore_total}])/20))]]}} {{crit=[[ceil(([@{lore_total}])/20)+1]]}} {{special=[[ceil(([@{lore_total}])/5)+1]]}} {{success=[[[@{lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=Homeland Lore}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore_total}]}} {{fumble=[[ceil(95+([@{lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Home Land Lore}}"  ></button>
		
					<input class="sheet-skill_values" type="text" value="30" name="attr_lore_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Knowledge_mod}+@{lore_value}+@{fatigue_mod}]" name="attr_lore_total" />
				</div>			
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_lore1_check" />
					<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_lore1_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore1_total}]}} {{fumble=[[ceil(95+([@{lore1_total}])/20))]]}} {{crit=[[ceil(([@{lore1_total}])/20)+1]]}} {{special=[[ceil(([@{lore1_total}])/5)+1]]}}         {{success=[[[@{lore1_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lore1_name} Lore}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore1_total}]}} {{fumble=[[ceil(95+([@{lore1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lore1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lore1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lore1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lore1_name} Lore}}"  ></button>
								
					<input class="sheet-skill_values" type="text" value="0" name="attr_lore1_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Knowledge_mod}+@{lore1_value}+@{fatigue_mod}]" name="attr_lore1_total" />
				</div>			
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_lore2_check" />
					<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_lore2_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore2_total}]}} {{fumble=[[ceil(95+([@{lore2_total}])/20))]]}} {{crit=[[ceil(([@{lore2_total}])/20)+1]]}} {{special=[[ceil(([@{lore2_total}])/5)+1]]}}         {{success=[[[@{lore2_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lore2_name} Lore}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore2_total}]}} {{fumble=[[ceil(95+([@{lore2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lore2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lore2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lore2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lore2_name} Lore}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="0" name="attr_lore2_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Knowledge_mod}+@{lore2_value}+@{fatigue_mod}]" name="attr_lore2_total" />
				</div>
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_lore3_check" />
					<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_lore3_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore3_total}]}} {{fumble=[[ceil(95+([@{lore3_total}])/20))]]}} {{crit=[[ceil(([@{lore3_total}])/20)+1]]}} {{special=[[ceil(([@{lore3_total}])/5)+1]]}}         {{success=[[[@{lore3_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lore3_name} Lore}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore3_total}]}} {{fumble=[[ceil(95+([@{lore3_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lore3_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lore3_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lore3_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lore3_name} Lore}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="0" name="attr_lore3_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Knowledge_mod}+@{lore3_value}+@{fatigue_mod}]" name="attr_lore3_total" />
				</div>
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_lore4_check" />
					<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_lore4_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore4_total}]}} {{fumble=[[ceil(95+([@{lore4_total}])/20))]]}} {{crit=[[ceil(([@{lore4_total}])/20)+1]]}} {{special=[[ceil(([@{lore4_total}])/5)+1]]}}         {{success=[[[@{lore4_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lore4_name} Lore}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore4_total}]}} {{fumble=[[ceil(95+([@{lore4_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lore4_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lore4_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lore4_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lore4_name} Lore}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="0" name="attr_lore4_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{Knowledge_mod}+@{lore4_value}+@{fatigue_mod}]" name="attr_lore4_total" />
				</div>					
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_manage_check" />
					<div class="sheet-skill_button">Manage</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{manage_total}]}} {{fumble=[[ceil(95+([@{manage_total}])/20))]]}} {{crit=[[ceil(([@{manage_total}])/20)+1]]}} {{special=[[ceil(([@{manage_total}])/5)+1]]}}         {{success=[[[@{manage_total}]]]}} {{roll=[[1d100]]}} {{skillname=Manage}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{manage_total}]}} {{fumble=[[ceil(95+([@{manage_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{manage_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{manage_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{manage_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Manage}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="10" name="attr_manage_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{manage_value}+@{fatigue_mod}]" name="attr_manage_total" />
				</div>				
				
				<!--
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_mineral_lore_check" />
					<div class="sheet-skill_button">Mineral Lore</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{mineral_lore_total}]}} {{fumble=[[ceil(95+([@{mineral_lore_total}])/20))]]}} {{crit=[[ceil(([@{mineral_lore_total}])/20)+1]]}} {{special=[[ceil(([@{mineral_lore_total}])/5)+1]]}}         {{success=[[[@{mineral_lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=Mineral Lore}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{mineral_lore_total}]}} {{fumble=[[ceil(95+([@{mineral_lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{mineral_lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{mineral_lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{mineral_lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Mineral Lore}}"  ></button>	
					<input class="sheet-skill_values" type="text" value="5" name="attr_mineral_lore_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{mineral_lore_value}+@{fatigue_mod}]" name="attr_mineral_lore_total" />
				</div>	
				-->
				<!--
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_plant_lore_check" />
					<div class="sheet-skill_button">Plant Lore</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{plant_lore_total}]}} {{fumble=[[ceil(95+([@{plant_lore_total}])/20))]]}} {{crit=[[ceil(([@{plant_lore_total}])/20)+1]]}} {{special=[[ceil(([@{plant_lore_total}])/5)+1]]}}         {{success=[[[@{plant_lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=Plant Lore}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{plant_lore_total}]}} {{fumble=[[ceil(95+([@{plant_lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{plant_lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{plant_lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{plant_lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Plant Lore}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_plant_lore_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{plant_lore_value}+@{fatigue_mod}]" name="attr_plant_lore_total" />
				</div>	
				-->

				<p style="font-weight:bold;margin-bottom:1px">R/W Languages</p>
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_own_rw_lang1_check" />
					<input  class="sheet-blank_skill" style="display:inline-block;" type="text" name="attr_rw_lang1_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{rw_lang1_total}]}} {{fumble=[[ceil(95+([@{rw_lang1_total}])/20))]]}} {{crit=[[ceil(([@{rw_lang1_total}])/20)+1]]}} {{special=[[ceil(([@{rw_lang1_total}])/5)+1]]}}         {{success=[[[@{rw_lang1_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{rw_lang1_name}}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{rw_lang1_total}]}} {{fumble=[[ceil(95+([@{rw_lang1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{rw_lang1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{rw_lang1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{rw_lang1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{rw_lang1_name}}}"  ></button>	
					<input class="sheet-skill_values" type="text" value="0" name="attr_rw_lang1_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{rw_lang1_value}+@{fatigue_mod}]" name="attr_rw_lang1_total" />
				</div>			
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_own_rw_lang2_check" />
					<input  class="sheet-blank_skill" style="display:inline-block;" type="text" name="attr_rw_lang2_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{rw_lang2_total}]}} {{fumble=[[ceil(95+([@{rw_lang2_total}])/20))]]}} {{crit=[[ceil(([@{rw_lang2_total}])/20)+1]]}} {{special=[[ceil(([@{rw_lang2_total}])/5)+1]]}}         {{success=[[[@{rw_lang2_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{rw_lang2_name}}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{rw_lang2_total}]}} {{fumble=[[ceil(95+([@{rw_lang2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{rw_lang2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{rw_lang2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{rw_lang2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{rw_lang2_name}}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="0" name="attr_rw_lang2_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{rw_lang2_value}+@{fatigue_mod}]" name="attr_rw_lang2_total" />
				</div>		

				
				<!--
				<div style="margin-bottom:2px">			
					<input  style="display:inline-block" type="checkbox" name="attr_ship_handling_check" />
					<div class="sheet-skill_button">Ship Handling</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ship_handling_total}]}} {{fumble=[[ceil(95+([@{ship_handling_total}])/20))]]}} {{crit=[[ceil(([@{ship_handling_total}])/20)+1]]}} {{special=[[ceil(([@{ship_handling_total}])/5)+1]]}}         {{success=[[[@{ship_handling_total}]]]}} {{roll=[[1d100]]}} {{skillname=Ship Handling}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ship_handling_total}]}} {{fumble=[[ceil(95+([@{ship_handling_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{ship_handling_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{ship_handling_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{ship_handling_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Ship Handling}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_ship_handling_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{ship_handling_value}+@{fatigue_mod}]" name="attr_ship_handling_total" />
				</div>	
				-->
				<!--
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_world_lore_check" />
					<div class="sheet-skill_button">World Lore</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{world_lore_total}]}} {{fumble=[[ceil(95+([@{world_lore_total}])/20))]]}} {{crit=[[ceil(([@{world_lore_total}])/20)+1]]}} {{special=[[ceil(([@{world_lore_total}])/5)+1]]}}         {{success=[[[@{world_lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=World Lore}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{world_lore_total}]}} {{fumble=[[ceil(95+([@{world_lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{world_lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{world_lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{world_lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=World Lore}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_world_lore_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{world_lore_value}+@{fatigue_mod}]" name="attr_world_lore_total" />
				</div>	
				-->
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_survival_check" />
					<div class="sheet-skill_button">Survival</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{survival_total}]}} {{fumble=[[ceil(95+([@{survival_total}])/20))]]}} {{crit=[[ceil(([@{survival_total}])/20)+1]]}} {{special=[[ceil(([@{survival_total}])/5)+1]]}}         {{success=[[[@{survival_total}]]]}} {{roll=[[1d100]]}} {{skillname=Survival}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{survival_total}]}} {{fumble=[[ceil(95+([@{survival_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{survival_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{survival_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{survival_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Survival}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_survival_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{survival_value}+@{fatigue_mod}]" name="attr_survival_total" />
				</div>				
				
				
				<fieldset class="repeating_kskills">
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_kskill_check" />
						<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_kskill_name" />
						
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{kskill_total}}} {{fumble=[[95+ceil((@{kskill_total}/20))]]}} {{crit=[[round(@{kskill_total}/20)+1]]}} {{special=[[round((@{kskill_total})/5)+1]]}}         {{success=[[@{kskill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{kskill_name}}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{kskill_total}}} {{fumble=[[95+ceil(((@{kskill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{kskill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{kskill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{kskill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{kskill_name}}}"  ></button>
						<input type="text"  class="sheet-skill_values" value="0" name="attr_kskill_value" />
						<input type="text"  class="sheet-skill_values" disabled name="attr_kskill_total" value="@{kskill_value}+@{knowledge_mod}+@{fatigue_mod}" />
						
					</div>				
				</fieldset>




				
				</div>
				
				<br />

				<div style="background-color:white;padding-bottom:13px;border-radius:6px">
					<div>
						<label class="sheet-category_label">Magic</label>
						<input class="sheet-skill_values" type="text" value="0" disabled readonly  name="attr_magic_mod" />
					</div>	
					
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_meditate_check" />
						<div class="sheet-skill_button">Meditate</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{meditate_total}]}} {{fumble=[[ceil(95+([@{meditate_total}])/20))]]}} {{crit=[[ceil(([@{meditate_total}])/20)+1]]}} {{special=[[ceil(([@{meditate_total}])/5)+1]]}}         {{success=[[[@{meditate_total}]]]}} {{roll=[[1d100]]}} {{skillname=Meditate}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{meditate_total}]}} {{fumble=[[ceil(95+([@{meditate_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{meditate_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{meditate_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{meditate_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Meditate}}"  ></button>			
						<input class="sheet-skill_values" type="text" value="5" name="attr_meditate_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{magic_mod}+@{meditate_value}+@{fatigue_mod}]" name="attr_meditate_total" />
					</div>	

					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_prepare_corpse_check" />
						<div class="sheet-skill_button">Prep. Corpse</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{prepare_corpse_total}]}} {{fumble=[[ceil(95+([@{prepare_corpse_total}])/20))]]}} {{crit=[[ceil(([@{prepare_corpse_total}])/20)+1]]}} {{special=[[ceil(([@{prepare_corpse_total}])/5)+1]]}}         {{success=[[[@{prepare_corpse_total}]]]}} {{roll=[[1d100]]}} {{skillname=Prepare Corpse}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{prepare_corpse_total}]}} {{fumble=[[ceil(95+([@{prepare_corpse_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{prepare_corpse_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{prepare_corpse_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{prepare_corpse_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Prepare Corpse}}"  ></button>			
						<input class="sheet-skill_values" type="text" value="5" name="attr_prepare_corpse_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{magic_mod}+@{prepare_corpse_value}+@{fatigue_mod}]" name="attr_prepare_corpse_total" />
					</div>
					
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_spirit_combat_check" />
						<div class="sheet-skill_button">Spirt Cmbt.</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{spirit_combat_total}]}} {{fumble=[[ceil(95+([@{spirit_combat_total}])/20))]]}} {{crit=[[ceil(([@{spirit_combat_total}])/20)+1]]}} {{special=[[ceil(([@{spirit_combat_total}])/5)+1]]}}         {{success=[[[@{spirit_combat_total}]]]}} {{roll=[[1d100]]}} {{skillname=Spirit Cmbt.}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{spirit_combat_total}]}} {{fumble=[[ceil(95+([@{spirit_combat_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{spirit_combat_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{spirit_combat_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{spirit_combat_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Cmbt.}}"  ></button>			
						<input class="sheet-skill_values" type="text" value="20" name="attr_spirit_combat_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{magic_mod}+@{spirit_combat_value}+@{fatigue_mod}]" name="attr_spirit_combat_total" />
					</div>	

					<p style="font-weight:bold;margin-bottom:1px">Worship</p>
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_own_worship1_check" />
						<input class="sheet-blank_skill" style="display:inline-block;" type="text" name="attr_worship1_name" />
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{worship1_total}]}} {{fumble=[[ceil(95+([@{worship1_total}])/20))]]}} {{crit=[[ceil(([@{worship1_total}])/20)+1]]}} {{special=[[ceil(([@{worship1_total}])/5)+1]]}}         {{success=[[[@{worship1_total}]]]}} {{roll=[[1d100]]}} {{skillname= Worship (@{worship1_name})}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{worship1_total}]}} {{fumble=[[ceil(95+([@{worship1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{worship1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{worship1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{worship1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Worship (@{worship1_name})}}"  ></button>	
						<input class="sheet-skill_values" type="text" value="5" name="attr_worship1_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{worship1_value}+@{fatigue_mod}]" name="attr_worship1_total" />
					</div>			
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_worship2_check" />
						<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_worship2_name" />
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{worship2_total}]}} {{fumble=[[ceil(95+([@{worship2_total}])/20))]]}} {{crit=[[ceil(([@{worship2_total}])/20)+1]]}} {{special=[[ceil(([@{worship2_total}])/5)+1]]}}         {{success=[[[@{worship2_total}]]]}} {{roll=[[1d100]]}} {{skillname=Worship (@{worship2_name})}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{worship2_total}]}} {{fumble=[[ceil(95+([@{worship2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{worship2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{worship2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{worship2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Worship (@{worship2_name})}}"  ></button>		
						<input class="sheet-skill_values" type="text" value="5" name="attr_worship2_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{worship2_value}+@{fatigue_mod}]" name="attr_worship2_total" />
					</div>					
					
					
				</div>	
				
				
			</div>
			

			
			
			
			<div style="margin-right:10px" class='sheet-col'>
				<div style="background-color:white;padding-bottom:13px;border-radius:6px">
				<div>
					<label class="sheet-category_label">Manipulation</label>
					<input class="sheet-skill_values" type="text" value="0" disabled readonly  name="attr_manipulation_mod" />
				</div>	
				
				<p style="font-weight:bold;margin-bottom:1px">Craft</p>
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_own_craft1_check" />
					<input class="sheet-blank_skill" style="display:inline-block;" type="text" name="attr_craft1_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{craft1_total}]}} {{fumble=[[ceil(95+([@{craft1_total}])/20))]]}} {{crit=[[ceil(([@{craft1_total}])/20)+1]]}} {{special=[[ceil(([@{craft1_total}])/5)+1]]}}         {{success=[[[@{craft1_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{craft1_name}}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{craft1_total}]}} {{fumble=[[ceil(95+([@{craft1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{craft1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{craft1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{craft1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{craft1_name}}}"  ></button>	
					<input class="sheet-skill_values" type="text" value="10" name="attr_craft1_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{craft1_value}+@{fatigue_mod}]" name="attr_craft1_total" />
				</div>			
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_craft2_check" />
					<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_craft2_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{craft2_total}]}} {{fumble=[[ceil(95+([@{craft2_total}])/20))]]}} {{crit=[[ceil(([@{craft2_total}])/20)+1]]}} {{special=[[ceil(([@{craft2_total}])/5)+1]]}}         {{success=[[[@{craft2_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{craft2_name}}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{craft2_total}]}} {{fumble=[[ceil(95+([@{craft2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{craft2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{craft2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{craft2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{craft2_name}}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="10" name="attr_craft2_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{craft2_value}+@{fatigue_mod}]" name="attr_craft2_total" />
				</div>					
				
				
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_conceal_check" />
					<div class="sheet-skill_button">Conceal</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{conceal_total}]}} {{fumble=[[ceil(95+([@{conceal_total}])/20))]]}} {{crit=[[ceil(([@{conceal_total}])/20)+1]]}} {{special=[[ceil(([@{conceal_total}])/5)+1]]}}         {{success=[[[@{conceal_total}]]]}} {{roll=[[1d100]]}} {{skillname=Conceal}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{conceal_total}]}} {{fumble=[[ceil(95+([@{conceal_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{conceal_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{conceal_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{conceal_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Conceal}}"  ></button>			
					<input class="sheet-skill_values" type="text" value="5" name="attr_conceal_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{conceal_value}+@{fatigue_mod}]" name="attr_conceal_total" />
				</div>	
				
				<!--
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_devise_check" />
					<div class="sheet-skill_button">Devise</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{devise_total}]}} {{fumble=[[ceil(95+([@{devise_total}])/20))]]}} {{crit=[[ceil(([@{devise_total}])/20)+1]]}} {{special=[[ceil(([@{devise_total}])/5)+1]]}}         {{success=[[[@{devise_total}]]]}} {{roll=[[1d100]]}} {{skillname=Devise}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{devise_total}]}} {{fumble=[[ceil(95+([@{devise_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{devise_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{devise_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{devise_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Devise}}"  ></button>			
					<input class="sheet-skill_values" type="text" value="5" name="attr_devise_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{devise_value}+@{fatigue_mod}]" name="attr_devise_total" />
				</div>
				-->
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_sleighte_check" />
					<div class="sheet-skill_button">Sleight</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sleight_total}]}} {{fumble=[[ceil(95+([@{sleight_total}])/20))]]}} {{crit=[[ceil(([@{sleight_total}])/20)+1]]}} {{special=[[ceil(([@{sleight_total}])/5)+1]]}}         {{success=[[[@{sleight_total}]]]}} {{roll=[[1d100]]}} {{skillname=Sleight}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sleight_total}]}} {{fumble=[[ceil(95+([@{sleight_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{sleight_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{sleight_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{sleight_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Sleight}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="5" name="attr_sleight_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{sleight_value}+@{fatigue_mod}]" name="attr_sleight_total" />
				</div>		
			
				<!--
				<p style="font-weight:bold;margin-bottom:1px">Play Instrument</p>
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_own_play1_check" />
					<input class="sheet-blank_skill" style="display:inline-block;" type="text" name="attr_play1_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{play1_total}]}} {{fumble=[[ceil(95+([@{play1_total}])/20))]]}} {{crit=[[ceil(([@{play1_total}])/20)+1]]}} {{special=[[ceil(([@{play1_total}])/5)+1]]}}         {{success=[[[@{play1_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{play1_name}}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{play1_total}]}} {{fumble=[[ceil(95+([@{play1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{play1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{play1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{play1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{play1_name}}}"  ></button>			
					<input class="sheet-skill_values" type="text" value="0" name="attr_play1_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{play1_value}+@{fatigue_mod}]" name="attr_play1_total" />
				</div>			
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_own_play2_check" />
					<input class="sheet-blank_skill" style="display:inline-block;" type="text" name="attr_play2_name" />
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{play2_total}]}} {{fumble=[[ceil(95+([@{play2_total}])/20))]]}} {{crit=[[ceil(([@{play2_total}])/20)+1]]}} {{special=[[ceil(([@{play2_total}])/5)+1]]}}         {{success=[[[@{play2_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{play2_name}}}" ></button>								
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{play2_total}]}} {{fumble=[[ceil(95+([@{play2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{play2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{play2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{play2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{play2_name}}}"  ></button>			
					<input class="sheet-skill_values" type="text" value="0" name="attr_play2_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{play2_value}+@{fatigue_mod}]" name="attr_play2_total" />
				</div>
				<fieldset class="repeating_mskills">
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_mskill_check" />
						<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_mskill_name" />
						
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{mskill_total}}} {{fumble=[[95+ceil((@{mskill_total}/20))]]}} {{crit=[[round(@{mskill_total}/20)+1]]}} {{special=[[round((@{mskill_total})/5)+1]]}}         {{success=[[@{mskill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{mskill_name}}}" ></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{mskill_total}}} {{fumble=[[95+ceil(((@{mskill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{mskill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{mskill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{mskill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{mskill_name}}}"  ></button>
						<input type="text"  class="sheet-skill_values" value="0" name="attr_mskill_value" />
						<input type="text"  class="sheet-skill_values" disabled name="attr_mskill_total" value="@{mskill_value}+@{manipulation_mod}+@{fatigue_mod}" />
						
					</div>				
				</fieldset>
				-->
				
				
				
				
				</div>	
				
				
				<br />				
				
				<br />
				<label class="sheet-category_label">Passions</label>
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_passion1_check"  />
					<input  class="sheet-blank_skill" style="display:inline-block;width:131px" type="text" name="attr_passion1_name" value="Devotion ()" />
					
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion1_total}}} {{fumble=[[ceil(95+(@{passion1_total})/20))]]}} {{crit=[[ceil((@{passion1_total})/20)+1]]}} {{special=[[ceil((@{passion1_total})/5)+1]]}}         {{success=[[@{passion1_total}]]}} {{roll=[[1d100]]}} {{skillname=@{passion1_name}}}" ></button>										
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion1_total}}} {{fumble=[[ceil(95+(@{passion1_total}+?{Mods|0})/20))]]}} {{crit=[[ceil((@{passion1_total}+?{Mods|0})/20)+1]]}} {{special=[[ceil((@{passion1_total}+?{Mods|0})/5)+1]]}}         {{success=[[@{passion1_total}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{passion1_name}}}"  ></button>

					
					<input class="sheet-skill_values" type="text" value="0" name="attr_passion1_total" />
					<!--<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{passion1_value}]"name="attr_passion1_total" />-->
				</div>	
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_passion2_check"  />
					<input  class="sheet-blank_skill" style="display:inline-block;width:131px" type="text" name="attr_passion2_name" value="Love ()" />
					
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion2_total}}} {{fumble=[[ceil(95+(@{passion2_total})/20))]]}} {{crit=[[ceil((@{passion2_total})/20)+1]]}} {{special=[[ceil((@{passion2_total})/5)+1]]}}         {{success=[[@{passion2_total}]]}} {{roll=[[1d100]]}} {{skillname=@{passion2_name}}}" ></button>										
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion2_total}}} {{fumble=[[ceil(95+(@{passion2_total}+?{Mods|0})/20))]]}} {{crit=[[ceil((@{passion2_total}+?{Mods|0})/20)+1]]}} {{special=[[ceil((@{passion2_total}+?{Mods|0})/5)+1]]}}         {{success=[[@{passion2_total}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{passion2_name}}}"  ></button>

					
					<input class="sheet-skill_values" type="text" value="0" name="attr_passion2_total" />
					<!--<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{passion2_value}]"name="attr_passion2_total" />-->
				</div>	
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_passion3_check"  />
					<input  class="sheet-blank_skill" style="display:inline-block;width:131px" type="text" name="attr_passion3_name" value="Hate (Lunars)" />
					
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion3_total}}} {{fumble=[[ceil(95+(@{passion3_total})/20))]]}} {{crit=[[ceil((@{passion3_total})/20)+1]]}} {{special=[[ceil((@{passion3_total})/5)+1]]}}         {{success=[[@{passion3_total}]]}} {{roll=[[1d100]]}} {{skillname=@{passion3_name}}}" ></button>										
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion3_total}}} {{fumble=[[ceil(95+(@{passion3_total}+?{Mods|0})/20))]]}} {{crit=[[ceil((@{passion3_total}+?{Mods|0})/20)+1]]}} {{special=[[ceil((@{passion3_total}+?{Mods|0})/5)+1]]}}         {{success=[[@{passion3_total}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{passion3_name}}}"  ></button>

					
					<input class="sheet-skill_values" type="text" value="0" name="attr_passion3_total" />
					<!--<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{passion3_value}]"name="attr_passion3_total" />-->
				</div>		

				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_passion4_check"  />
					<input  class="sheet-blank_skill" style="display:inline-block;width:131px" type="text" name="attr_passion4_name" value="Loyalty ()" />
					
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion4_total}}} {{fumble=[[ceil(95+(@{passion4_total})/20))]]}} {{crit=[[ceil((@{passion4_total})/20)+1]]}} {{special=[[ceil((@{passion4_total})/5)+1]]}}         {{success=[[@{passion4_total}]]}} {{roll=[[1d100]]}} {{skillname=@{passion4_name}}}" ></button>										
					<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion4_total}}} {{fumble=[[ceil(95+(@{passion4_total}+?{Mods|0})/20))]]}} {{crit=[[ceil((@{passion4_total}+?{Mods|0})/20)+1]]}} {{special=[[ceil((@{passion4_total}+?{Mods|0})/5)+1]]}}         {{success=[[@{passion4_total}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{passion4_name}}}"  ></button>

					
					<input class="sheet-skill_values" type="text" value="0" name="attr_passion4_total" />
					<!--<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{passion4_value}]"name="attr_passion4_total" />-->
				</div>
				<fieldset class="repeating_passions">
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_passion_check" />
						<input  class="sheet-blank_skill"  style="display:inline-block;width:131px;" type="text" name="attr_passion_name" />
						
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion_total}}} {{fumble=[[95+ceil((@{passion_total}/20))]]}} {{crit=[[round(@{passion_total}/20)+1]]}} {{special=[[round((@{passion_total})/5)+1]]}}         {{success=[[@{passion_total}]]}} {{roll=[[1d100]]}} {{skillname=@{passion_name}}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion_total}}} {{fumble=[[95+ceil(((@{passion_total}+?{mods|0})/20))]]}} {{crit=[[round((@{passion_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{passion_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{passion_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{passion_name}}}"  ></button>
						<input class="sheet-skill_values" type="text" value="0" name="attr_passion_total" />
						
					</div>				
				</fieldset>
								
				
				
				<br />
				<div style="background-color:white;padding-bottom:13px;border-radius:6px">
				<div>
					<label style="display:inline-block;width:203px;">Perception</label>
					<input class="sheet-skill_values" type="text" value="0" disabled readonly  name="attr_perception_mod" />
				</div>	
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_insight_check" />
					<div class="sheet-skill_button">Insight</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{insight_total}]}} {{fumble=[[ceil(95+([@{insight_total}])/20))]]}} {{crit=[[ceil(([@{insight_total}])/20)+1]]}} {{special=[[ceil(([@{insight_total}])/5)+1]]}}         {{success=[[[@{insight_total}]]]}} {{roll=[[1d100]]}} {{skillname=Insight}}" ></button>								
					<button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{insight_total}]}} {{fumble=[[ceil(95+([@{insight_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{insight_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{insight_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{insight_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Insight}}"  ></button>		

					<input class="sheet-skill_values" type="text" value="20" name="attr_insight_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{perception_mod}+@{insight_value}+@{fatigue_mod}]" name="attr_insight_total" />
				</div>	
				
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_listen_check" />
					<div class="sheet-skill_button">Listen</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{listen_total}]}} {{fumble=[[ceil(95+([@{listen_total}])/20))]]}} {{crit=[[ceil(([@{listen_total}])/20)+1]]}} {{special=[[ceil(([@{listen_total}])/5)+1]]}}         {{success=[[[@{listen_total}]]]}} {{roll=[[1d100]]}} {{skillname=Listen}}" ></button>								
					<button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{listen_total}]}} {{fumble=[[ceil(95+([@{listen_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{listen_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{listen_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{listen_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Listen}}"  ></button>		

					<input class="sheet-skill_values" type="text" value="25" name="attr_listen_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{perception_mod}+@{listen_value}+@{fatigue_mod}]" name="attr_listen_total" />
				</div>			
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_scan_check" />
					<div class="sheet-skill_button">Scan</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{scan_total}]}} {{fumble=[[ceil(95+([@{scan_total}])/20))]]}} {{crit=[[ceil(([@{scan_total}])/20)+1]]}} {{special=[[ceil(([@{scan_total}])/5)+1]]}}         {{success=[[[@{scan_total}]]]}} {{roll=[[1d100]]}} {{skillname=Scan}}" ></button>								
					<button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{scan_total}]}} {{fumble=[[ceil(95+([@{scan_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{scan_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{scan_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{scan_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Scan}}"  ></button>		
		
					<input class="sheet-skill_values" type="text" value="25" name="attr_scan_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{perception_mod}+@{scan_value}+@{fatigue_mod}]" name="attr_scan_total" />
				</div>
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_search_check" />
					<div class="sheet-skill_button">Search</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{search_total}]}} {{fumble=[[ceil(95+([@{search_total}])/20))]]}} {{crit=[[ceil(([@{search_total}])/20)+1]]}} {{special=[[ceil(([@{search_total}])/5)+1]]}}         {{success=[[[@{search_total}]]]}} {{roll=[[1d100]]}} {{skillname=Search}}" ></button>								
					<button class="sheet-new_roll"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{search_total}]}} {{fumble=[[ceil(95+([@{search_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{search_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{search_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{search_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Search}}"  ></button>		
	

					<input class="sheet-skill_values" type="text" value="25" name="attr_search_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{perception_mod}+@{search_value}+@{fatigue_mod}]" name="attr_search_total" />
				</div>
				<div style="margin-bottom:2px">	
					<input  style="display:inline-block" type="checkbox" name="attr_track_check" />
					<div class="sheet-skill_button">Track</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{track_total}]}} {{fumble=[[ceil(95+([@{track_total}])/20))]]}} {{crit=[[ceil(([@{track_total}])/20)+1]]}} {{special=[[ceil(([@{track_total}])/5)+1]]}}         {{success=[[[@{track_total}]]]}} {{roll=[[1d100]]}} {{skillname=Track}}" ></button>								
					<button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{track_total}]}} {{fumble=[[ceil(95+([@{track_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{track_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{search_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{track_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Track}}"  ></button>		
	

					<input class="sheet-skill_values" type="text" value="5" name="attr_track_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{perception_mod}+@{track_value}+@{fatigue_mod}]" name="attr_track_total" />
				</div>
				<fieldset class="repeating_pskills">
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_pskill_check" />
						<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_pskill_name" />
						
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{pskill_total}}} {{fumble=[[95+ceil((@{pskill_total}/20))]]}} {{crit=[[round(@{pskill_total}/20)+1]]}} {{special=[[round((@{pskill_total})/5)+1]]}}         {{success=[[@{pskill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{pskill_name}}}" ></button>								
						<button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{pskill_total}}} {{fumble=[[95+ceil(((@{pskill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{pskill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{pskill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{pskill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{pskill_name}}}"  ></button>
						<input type="text"  class="sheet-skill_values" value="0" name="attr_pskill_value" />
						<input type="text"  class="sheet-skill_values" disabled name="attr_pskill_total" value="@{pskill_value}+@{manipulation_mod}+@{fatigue_mod}" />
						
					</div>				
				</fieldset>				
				
				
				</div>
				<br />
				
				<div style="background-color:white;padding-bottom:13px;border-radius:6px">
				
				<div>
					<label class="sheet-category_label">Stealth</label>
					<input class="sheet-skill_values" type="text" value="0" disabled readonly   name="attr_stealth_mod" />			
				</div>		
				<div>	
					<input  style="display:inline-block" type="checkbox" name="attr_hide_check" />
					<div class="sheet-skill_button">Hide</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{hide_total}]}} {{fumble=[[ceil(95+([@{hide_total}])/20))]]}} {{crit=[[ceil(([@{hide_total}])/20)+1]]}} {{special=[[ceil(([@{hide_total}])/5)+1]]}}         {{success=[[[@{hide_total}]]]}} {{roll=[[1d100]]}} {{skillname=Hide}}" ></button>								
					<button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{hide_total}]}} {{fumble=[[ceil(95+([@{hide_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{hide_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{hide_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{hide_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Hide}}"  ></button>		
					<input class="sheet-skill_values" type="text" value="10" name="attr_hide_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{stealth_mod}+@{hide_value}+@{fatigue_mod}]" name="attr_hide_total" />
				</div>		
				<div>	
					<input  style="display:inline-block" type="checkbox" name="attr_sneak_check" />
					<div class="sheet-skill_button">Sneak</div>
					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sneak_total}]}} {{fumble=[[ceil(95+([@{sneak_total}])/20))]]}} {{crit=[[ceil(([@{sneak_total}])/20)+1]]}} {{special=[[ceil(([@{sneak_total}])/5)+1]]}}         {{success=[[[@{sneak_total}]]]}} {{roll=[[1d100]]}} {{skillname=Sneak}}" ></button>								
					<button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sneak_total}]}} {{fumble=[[ceil(95+([@{sneak_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{sneak_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{sneak_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{sneak_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Sneak}}"  ></button>		
	
					<input class="sheet-skill_values" type="text" value="10" name="attr_sneak_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{stealth_mod}+@{sneak_value}+@{fatigue_mod}]" name="attr_sneak_total" />
				</div>
				<fieldset class="repeating_sskill">
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_sskill_check" />
						<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_sskill_name" />
						
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{sskill_total}}} {{fumble=[[95+ceil((@{sskill_total}/20))]]}} {{crit=[[round(@{sskill_total}/20)+1]]}} {{special=[[round((@{sskill_total})/5)+1]]}}         {{success=[[@{sskill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{sskill_name}}}" ></button>								
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{sskill_total}}} {{fumble=[[95+ceil(((@{sskill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{sskill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{sskill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{sskill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{sskill_name}}}"  ></button>
						<input type="text"  class="sheet-skill_values" value="0" name="attr_sskill_value" />
						<input type="text"  class="sheet-skill_values" disabled name="attr_sskill_total" value="@{sskill_value}+@{manipulation_mod}+@{fatigue_mod}" />
						
					</div>				
				</fieldset>					
				
				
				
				</div>	
			</div>

		</div>
</div> <!--- End of Tab 2 -->
<div style="background-color: #ac6e73" class="sheet-tab-content sheet-tab3">
   <br />
   <div style="background-color:white;padding-top:5px;padding-bottom:13px;border-radius:6px">

	<label style="display:inline-Block;width:136px">Weapon Skills</label>
	(Defense&#37; <span name="attr_defense"></span>)&nbsp; &nbsp; 
	(A&#37; <span name="attr_manipulation_mod"></span>)&nbsp; &nbsp; (P&#37; <span name="attr_parry_mod"></span>) 
	Enc. (<span name="attr_enc_mod"></span>%) Other Modifiers <input type="number" name="attr_gen_mod" value="0" />
	Strike Rank Mod. <input type="text" disabled style="border:none;width:25px;" value="[abs(@{enc_mod}/5)]" name="attr_sr_mod" /> 
	</div>
   <br />

    <span style="display:none" name="attr_enc_mod"></span>
   
   <div style="background-color:white;padding-bottom:13px;border-radius:6px">
	<label>Melee Weapons</label>				   
		<div class="sheet-melee_wpns_labels">
		   <label style="margin-left:35px;width:95px">Weapon</label>
		   <label style="width:88px">STR/DEX</label>   
		   <label style="width:42px">WSR</label>
		   <label style="width:30px">SR</label>
		   <label style="width:98px">Attack Skill</label>
		   <label style="width:11px"></label>
		   <label style="width:0px"></label>   
		   <label style="width:66px">Damage</label>		
		   <label style="width:105px">Parry Skill</label>		
		   <label style="width:0px"></label>
		   <label style="width:0px"></label>   
		   <label style="width:2.0em" >HP</label>		
		</div>
		<fieldset class="repeating_melee">
		   <div class="sheet-melee_wpns">

			  <input type="checkbox" name="attr_skillcheck" />	
			  <input type="checkbox" name="attr_parrycheck" />	
			  <input type="text" name="attr_weapon_type" style="width:100px" />
			  <input type="number" value="9" name="attr_wpnstr" />
			  <input type="number" value="9" name="attr_wpndex" />
			  <input type="text" readonly style="display:none; width:30px;" value="0" name="attr_minmod" />  
			  <input type="number" name="attr_wpn_sr" />
			  <input type="number" disabled name="attr_total_wpn_sr" value="[@{wpn_sr}+@{melee_srm}+@{sr_mod}]" />
			  <input type="number" name="attr_wpn_attk_value" />
			  <input type="number" disabled name="attr_wpn_attk_total" value="@{wpn_attk_value}+@{manipulation_mod}+@{enc_mod}+@{minmod}+@{gen_mod}" />
			  
							<button  type="roll" style="margin-right:0px;margin-left:0px;" value="@{melee_value}" ></button><textarea name="attr_melee_value" style="display:none">&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{damagebonus}]]}}{{skillvalue=@{wpn_attk_total}}} {{fumble=[[95+ceil((@{wpn_attk_total}/20))]]}} {{crit=[[round(@{wpn_attk_total}/20)+1]]}} {{special=[[round((@{wpn_attk_total})/5)+1]]}}         {{success=[[@{wpn_attk_total}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type} attack}} 

							&{template:@{creature_hit_location}Melee}} {{roll=[[@{selected_die_roll}]]}}</textarea><button class="sheet-new_roll" style="margin-right:0px;margin-left:0px;" type="roll" value="@{meleemod_value}"  ></button><textarea name="attr_meleemod_value" style="display:none">&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{damagebonus}]]}}{{skillvalue=@{wpn_attk_total}}} {{fumble=[[95+ceil(((@{wpn_attk_total}+?{mods|0})/20))]]}} {{crit=[[round((@{wpn_attk_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{wpn_attk_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{wpn_attk_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type} attack}} 
							
							&{template:@{creature_hit_location}Melee}} {{roll=[[@{selected_die_roll}]]}}</textarea>							
			  <input type="text" style="width:79px" name="attr_wpn_damage" />    
			  <input type="number" name="attr_wpn_parry_value" />
			  <input type="number" disabled name="attr_parry_total" value="@{wpn_parry_value}+@{parry_mod}+@{enc_mod}" /><button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{damagebonus}]]}}{{skillvalue=@{parry_total}}} {{fumble=[[95+ceil((@{parry_total}/20))]]}} {{crit=[[round(@{parry_total}/20)+1]]}} {{special=[[round((@{parry_total})/5)+1]]}}         {{success=[[@{parry_total}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type} parry}}" ></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{parry_total}}} {{fumble=[[95+ceil(((@{parry_total}+?{mods|0})/20))]]}} {{crit=[[round((@{parry_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{parry_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{parry_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type} parry}} "  ></button><input type="number" name="attr_wpn_hp" />
		   </div>
		</fieldset>
</div>
<br />
<div style="background-color:white;padding-bottom:13px;border-radius:6px">
<label>Ranged Weapons</label>		
<div class="sheet-melee_wpns_labels">
   <br />
   <label style="margin-left:18px;width:95px">Weapon</label>
   <label style="width:80px">STR/DEX</label>   
   <label style="width:30px">DSR</label>
   <label style="width:136px">Attack Skill</label>
   <label style="width:54px">Damage</label>
   <label style="width:13px">DB</label>
   <label style="width:75px">Range</label>		
   <label style="width:47px" >Rof</label>
   <label style="width:50px" >&#35;</label>		   
</div>
<fieldset class="repeating_missle">
   <div class="sheet-melee_wpns">
	  <input type="checkbox" name="attr_skillcheck" />	
      <input type="text" name="attr_weapon_type" style="width:92px" />
	  <input type="number" value="9" name="attr_wpnstr" />
	  <input type="number" value="9" name="attr_wpndex" />
	  <input type="text" readonly style="display:none;width:30px;" value="0" name="attr_minmod" />
      <input type="number" disabled name="attr_total_wpn_sr" value="[@{dex_srm}]" />
      <input type="number" value="0" name="attr_wpn_attk_value" />
      <input type="number" disabled name="attr_wpn_attk_total" value="[@{wpn_attk_value}+@{manipulation_mod}+@{enc_mod}+@{minmod}+@{gen_mod}}]" />
					<button  type="roll" value="@{missle_value}" ></button>	
					<textarea name="attr_missle_value" style="display:none">&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{wpnmdb}]]}}{{skillvalue=@{wpn_attk_total}}} {{fumble=[[95+ceil((@{wpn_attk_total}/20))]]}} {{crit=[[round(@{wpn_attk_total}/20)+1]]}} {{special=[[round((@{wpn_attk_total})/5)+1]]}}         {{success=[[@{wpn_attk_total}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type}}}
					
					&{template:@{creature_hit_location}Missle}} {{roll=[[@{selected_die_roll}]]}}</textarea>
					
					<button class="sheet-new_roll" type="roll" value="@{misslemod_value}"  ></button>		      <input type="text" style="width:69px" name="attr_wpn_damage" />
					<textarea name="attr_misslemod_value" style="display:none">&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{wpnmdb}]]}}{{skillvalue=@{wpn_attk_total}}} {{fumble=[[95+ceil(((@{wpn_attk_total}+?{mods|0})/20))]]}} {{crit=[[round((@{wpn_attk_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{wpn_attk_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{wpn_attk_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type}}}
					
					&{template:@{creature_hit_location}Missle}} {{roll=[[@{selected_die_roll}]]}}</textarea>					
	  <input type="checkbox"  name="attr_mdbtoggle" />
	  <input type="text" style="width:80px;" name="attr_wpn_range" />
      <input type="text" style="width:50px;" name="attr_wpn_rof" />
      <input type="text" style="width:50px;" name="attr_wpn_ammo" />
	  <input type="text" value="0" style="display:none" name="attr_wpnmdb" />	  
   </div>
</fieldset>
</div>
<br />
<div style="padding-top:5px;padding-left:5px;background-color:white;padding-bottom:13px;border-radius:6px">

<div style="margin-top:5px;" class='sheet-2colrow'>
   <div class='sheet-col' style="width:65%">
      <h3 style="text-align: center; color: #FFF; background-color: #000;">Hit Location & Armor</h3>
      <table>
         <thead class="sheet-header-text">
            <tr>
               <!-- <th>
                  <button name="roll_melee-location"  type="roll" value="/me rolls melee hit location [[1d20]]"   class="btn ui-draggable">
                  	  <div class="sheet-button_header">Melee</div>
                  </button>
                   </th>
                   <th>Missle</th>-->
               <th>Location</th>
               <th>Armor</th>
               <th>AP</th>
               <th>Max <br />HP</th>
			  <!-- <th>*</th> -->
               <th>Cur. <br /> HP</th>
               <th>Damage</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <!--<td class="sheet-loc-text">01-04</td>
                  <td class="sheet-loc-text">01-03</td>-->
               <td><div class="sheet-loc-text">Right Leg</div></td>
               <td><input type="text" name="attr_r_leg_armor_name" class="sheet-armor-name"/></td>
               <td><input type="number" name="attr_r_Leg_ap" /></td>
               <td><input type="number" readonly name="attr_r_leg_max_hp" /></td>
               <!--<td><input type="number" value="0" name="attr_r_leg_stre" /></td>-->			   
               <td><input type="number" readonly name="attr_r_leg_cur_hp" /></td>
               <td><input type="text" style="width:100px" value="0" name="attr_r_leg_damage" /></td>
            </tr>
            <tr>
               <!--<td class="sheet-loc-text">05-08</td>
                  <td class="sheet-loc-text">04-06</td>-->
               <td > <div class="sheet-loc-text">Left Leg</div></td>
               <td><input type="text" name="attr_l_leg_armor_name" class="sheet-armor-name"/></td>
               <td><input type="number" name="attr_l_Leg_ap" /></td>
               <td><input type="number" readonly name="attr_l_leg_max_hp" /></td>
               <!--<td><input type="number" value="0" name="attr_l_leg_stre" /></td>-->			   
               <td><input type="number" readonly name="attr_l_leg_cur_hp" /></td>
               <td><input type="text" style="width:100px" value="0"  name="attr_l_leg_damage" /></td>
            </tr>
            <tr>
               <!--<td class="sheet-loc-text">09-11</td>
                  <td class="sheet-loc-text">07-10</td>-->
               <td ><div class="sheet-loc-text">Abdomen</div></td>
               <td ><input type="text" name="attr_abd_armor_name" class="sheet-armor-name"/></td>
               <td ><input type="number" name="attr_abd_ap" /></td>
               <td ><input type="number" readonly name="attr_abd_max_hp" /></td>
               <!--<td><input type="number" value="0" name="attr_abd_stre" /></td>-->			   			   
               <td ><input type="number" readonly name="attr_abd_cur_hp" /></td>
               <td><input type="text" style="width:100px" value="0"  name="attr_abd_damage" /></td>
            </tr>
            <tr>
               <!--<td class="sheet-loc-text">12</td>
                  <td class="sheet-loc-text">11-15</td>-->
               <td><div class="sheet-loc-text">Chest</div></td>
               <td><input type="text" name="attr_chst_armor_name" class="sheet-armor-name"/></td>
               <td><input type="number" name="attr_chst_ap" /></td>
               <td><input type="number" readonly name="attr_chst_max_hp" /></td>
               <!--<td><input type="number" value="0" name="attr_chst_stre" /></td>-->			   			   
               <td><input type="number"  readonly name="attr_chst_cur_hp" /></td>
               <td><input type="text" style="width:100px" value="0"  name="attr_chst_damage" /></td>
            </tr>
            <tr>
               <!--<td class="sheet-loc-text">13-15</td>
                  <td class="sheet-loc-text">16-17</td>-->
               <td><div class="sheet-loc-text">Right Arm</div></td>
               <td ><input type="text" name="attr_r_arm_armor_name" class="sheet-armor-name"/></td>
               <td><input type="number" name="attr_r_arm_ap" /></td>
               <td><input type="number" readonly name="attr_r_arm_max_hp" /></td>
               <!--<td><input type="number" value="0" name="attr_r_arm_stre" /></td>-->			   			   
               <td><input type="number" readonly name="attr_r_arm_cur_hp" /></td>
               <td><input type="text" style="width:100px" value="0"  name="attr_r_arm_damage" /></td>
            </tr>
            <tr>
               <!--<td class="sheet-loc-text">16-18</td>
                  <td class="sheet-loc-text">18-19</td>-->
               <td ><div class="sheet-loc-text">Left Arm</div></td>
               <td><input type="text" name="attr_l_arm_armor_name" class="sheet-armor-name"/></td>
               <td><input type="number" name="attr_l_arm_ap" /></td>
               <td><input type="number" readonly name="attr_l_arm_max_hp" /></td>
               <!--<td><input type="number" value="0" name="attr_l_arm_stre" /></td>-->			   			   
               <td><input type="number" readonly name="attr_l_arm_cur_hp" /></td>
               <td><input type="text" style="width:100px" value="0"  name="attr_LAWnds" /></td>
            </tr>
            <tr>
               <!--<td class="sheet-loc-text">19-20</td>
                  <td class="sheet-loc-text">20</td>-->
               <td><div class="sheet-loc-text">Head</div></td>
               <td><input type="text" name="attr_hd_armor_name" class="sheet-armor-name"/></td>
               <td><input type="number" name="attr_hd_ap" /></td>
               <td><input type="number" readonly name="attr_hd_max_hp" /></td>
               <!--<td><input type="number" value="0" name="attr_hd_stre" /></td>-->			   			   
               <td><input type="number" readonly name="attr_hd_cur_hp" /></td>
               <td><input type="text" style="width:100px" value="0"  name="attr_LAWnds" /></td>
            </tr>
         </tbody>
      </table>
	  <!--<p>*Strengthening Enchantment</p>-->
      <!--
         <fieldset class="repeating_hlocations">
         	<table>
         		<tr>
         			<td><input type="text" name="attr_hloc" style="width: 59px" /></td>
         			<td><input class="sheet-armor-name" type="text" name="attr_atype"  /></td>
         			<td><input type="number" name="attr_app"  /></td>
         			<td><input type="number" name="attr_mhp"/></td>
         			<td><input type="number" name="attr_chp" /></td>
         
         		</tr>
         	</table>
         </fieldset>-->
   </div>
   <div class="sheet-col" style="width:26%">
      <h3 style="text-align: center; color: #FFF; background-color: #000;">Hit Points</h3>
      <br/>	
      <div>
         <div style="display:inline-block">
            <!-- value="[round((@{cursiz}+@{curcon})/2)]" -->
            <label style="font-size:0.5em;text-align:center">Max</label>
            <input style="text-align:center;width:3.5em" type="text" readonly value="0" name="attr_hp_max" />-
         </div>
         <div style="display:inline-block">
            <label style="font-size:0.5em;text-align:center">LHP<br />Loss</label>					
            <input style="text-align:center;width:3em;" value="0" type="text" name="attr_lhp_loss"  />-
         </div>
         <div style="display:inline-block">
            <label style="font-size:0.5em;text-align:centee">THP<br />Loss</label>
            <input style="text-align:center;width:3.5em;" value="0" type="number" name="attr_thp_loss"  />=
         </div>
         <div style="display:inline-block">
            <label style="font-size:0.5em;text-align:center">Cur.<br />HP</label>					
            <input style="text-align:center;width:3em;" value="0" type="text" readonly name="attr_hp_cur"  />
         </div>
      </div>
	  <!--
	  <div>
			<div style="margin-left:16px;">+</div>
            <input style="text-align:center;width:3.5em" type="text" value="0" name="attr_hpstre" />
			<p style="display:inline;font-size:0.75em">*Strenghing Enchanment</p>
	  </div>
	  -->
      <br />	
	  
      <h3 style="display:none;text-align: center; color: #FFF; background-color: #000;">Fatigue</h3>
      <div style="display:none">
         <div style="display:inline-block">
           
            <label style="font-size:0.5em;text-align:center">Max</label>
            <input style="text-align:center;width:3.5em" type="text" readonly value="0" name="attr_fp_max" />-
         </div>
         <div style="display:inline-block">
            <label style="font-size:0.5em;text-align:center">ENC</label>					
            <input style="text-align:center;width:3em;" value="0" readonly type="text" name="attr_enc_total"  />-
         </div>
         <div style="display:inline-block">
            <label style="font-size:0.5em;text-align:centee">Loss</label>
            <input style="text-align:center;width:3.5em;" type="number" value="0" name="attr_fp_loss"  />=
         </div>
         <div style="display:inline-block">
            <label style="font-size:0.5em;text-align:center">Cur.<br />FP</label>					
            <input style="text-align:center;width:3em;" type="text" readonly value="0"name="attr_fp_cur"  />
			<input name="attr_enc_mod" style="display:none" type="number" value="0" />
         </div>
      </div>
	  
   </div>
</div>
<div>
   <br />
   <div style="width: 100% display: inline; color: #FFF; background-color: #000;">
      <div style="margin-left: 5px ; display: inline">
	  
        Dodge
         <input style="width:47px" class="sheet-section-header" disabled="true" value="[@{dodge_total}]" type="number" name="attr_dodge_disp" />
		 
         <button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dodge_total}]}} {{fumble=[[ceil(96+([@{dodge_total}])/20))]]}} {{crit=[[ceil(([@{dodge_total}])/20)+1]]}} {{special=[[ceil(([@{dodge_total}])/5)+1]]}}         {{success=[[[@{dodge_total}]]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}" ></button>								
         <button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dodge_total}]}} {{fumble=[[ceil(96+([@{dodge_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{dodge_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{dodge_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{dodge_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"   >
            
         </button>
      </div>
      <div style="display: inline">
         Fumble 
         <select name="attr_selected_fumble_table" style="margin-top: 7px; height: 24px ; width: 128px">
            <option selected="selected" value="0">Melee Attack</option>
            <option value="1">Melee Parry</option>
            <option value="2">Missle Attack</option>
            <option value="3">Natural Weapon</option>
         </select>
         <button  type="roll" value="&{template:Melee-Attack-Fumble} {{table=[[@{selected_fumble_table}]]}} {{roll=[[1d100]]}}"></button>
         <div style="display:inline">
            Roll
            <select name="attr_creature_hit_location" style="margin-top: 7px; height: 24px ; width: 106px">
               <option value="HL-">Human</option>
               <option value="FLL-">Four-Legged</option>
			   <option value="NewtL-">Newtling</option>
			   <option value="ScorpL-">Scorpion Man</option>				   
			   <option value="WalkL-">Walktapus</option>			   
            </select>
			
			<!--
            <select name="attr_selected_wpn_type" style="margin-top: 7px; height: 24px ; width: 106px">
               <option value="Melee">Melee</option>
               <option value="Missle">Missle</option>			   
            </select>-->
			<input  name="attr_selected_wpn_type" value="Melee" style="display:none;" />
            Die
            <select name="attr_selected_die_roll" style="margin-top: 7px; height: 24px ; width: 84px">
               <option value="1d20">1d20</option>
               <option value="1d10+10">1d10+10</option>
               <option value="1d8+12">1d8+12</option>
               <option value="1d10">1d10</option>
               <option value="1d8">1d8</option>			   			   
            </select>
			<button type="roll" value="&{template:@{creature_hit_location}@{selected_wpn_type}} {{roll=[[@{selected_die_roll}]]}}" ></button>
			<!--	
            Hit Location
            <button style="background-color: white;font-size:0;height:32px" name="roll_melee-location"  type="roll" value="&{template:HL-Melee} {{roll=[[@{selected_die_roll}]]}}"   class="btn ui-draggable">						  
            <img src="https://i.imgur.com/Is6m9rX.png" />
            </button>				
            <button style="background-color: white;font-size:0;height:32px" name="roll_missle-location"  type="roll" value="&{template:HL-Missle} {{roll=[[@{selected_die_roll}]]}}"   class="btn ui-draggable ">
            <img src="https://i.imgur.com/IxuyBxY.png" />
            </button>-->
         </div>
      </div>
   </div>
</div>
<!-------------- -->
</div>

</div> <!--- End of Tab 3 -->
<div style="background-color: #ac6e73" class="sheet-tab-content sheet-tab4">
		<br />		
		<label class="sheet-section_header">EQUIPMENT</label>
		<br />
				<div class='sheet-2colrow'>
					<div style="background-color:white;border-radius:6px;padding:1px;" class='sheet-col'>
							<div >
								
								<p style="font-weight:bold; width:54%; display:inline-block">Carried Equipment:</p>
								<p style="font-weight:bold;text-align:center;width:25%;display:inline-block">Worn/Carried</p>
								<p style="font-weight:bold;text-align:center;width: 10% ;display:inline-block">Enc:</p>
								
								<fieldset class="repeating_equipment" style="margin-top:-20px;">
									<input style="display:inline-block; width: 55% ;" type="text" name="attr_equipment_type"/>
									<input style="display:inline-block; width: 25% ;" type="text" name="attr_equipment_location"/>
									<input style="display:inline-block; width: 4em ;" type="number" name="attr_equipment_weight"/>
								</fieldset>	
							</div>
							<br />
							<div>
								<label style="display:inline" class="sheet-attr_label">ENC:</label>
								<input style='width:3em;display:inline;' value="0" type="text" name="attr_enc_totalf"/>
								<input style='display:none'  type="number" value="0" name="attr_enc_total"/>
								<label style="display:inline" class="sheet-attr_label">ENC Max:</label>
								<input type="text" style="width:25px;" readonly value="0" name="attr_enc_max"/>
								<label style="display:inline" class="sheet-attr_label">ENC Limit:</label>
								<input type="text" style="width:25px;" readonly value="0" name="attr_enc_limit"/>
								
							</div>			

					
					</div>		
					<div  style="background-color:white;border-radius:6px;padding:1px;" class='sheet-col' >
							
							<p style="width:60%; display:inline-block">Other Equipment:</p>
							<p style="text-align:center;width: 10% ;display:inline-block">Enc</p>
							
							<fieldset class="repeating_other-equipment" style="margin-top:-20px;">
								<input style="display:inline-block; width: 60% ;" type="text" name="attr_other-equipment_type"/>
								<input style="display:inline-block; width: 10% ;" type="number" name="attr_other-equipment_weight"/>
							</fieldset>	
					</div>		
				</div>
				<br />	
				<div style="background-color: white; 5px;border-radius: 6px;" >
					<label style="margin-left:8px">Animals</label>
					<div class='sheet-2colrow'>
						<div style="margin-left:4px" class="sheet-col">
							<div style="margin-bottom:5px;">
								<input class="sheet-value_display" type="text" value="name and type " style="width:244px;" name="attr_animal1_name" />
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display" value="0" name="attr_animal1_str" type="number"/> 
								<p class="sheet-spirit_stat">CON</p><input class="sheet-value_display" value="0" name="attr_animal1_con" type="number" />
								<p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display" value="0" name="attr_animal1_siz" type="number"/>
							</div>
							<div>
								<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display" value="0" name="attr_animal1_int" type="number"/> 
								<p class="sheet-spirit_stat">POW</p><input class="sheet-value_display" value="0" name="attr_animal1_pow" type="number" />
								<p class="sheet-spirit_stat">DEX</p><input class="sheet-value_display" value="0" name="attr_animal1_dex" type="number"/>
			
							</div>
							<br />
							<table>
								
									
									<tr>
										<td>HP</td>
										<td>
											<input type="number" class="sheet-value_display" readonly name="attr_animal1_hp_max" value="0" />
											/
											<input type="number"  class="sheet-value_display" value="" name="attr_animal1_hp_cur" />
										</td>	
											<td>Move</td>
											<td>
												<input type="number"  class="sheet-value_display"  name="attr_animal1_move" value="0" />
											</td>
										
									</tr>
									<tr>
									</tr>
									<tr>
										<td></td>
										<td>
										<!-- <input type="number"   class="sheet-value_display" readonly name="attr_animal1_fp_max" value="0"/>
										/
										<input type="number"  class="sheet-value_display"  value="" name="attr_animal1_fp_cur" />-->	
										</td>
										<td>DSR</td>
										<td>
										<input type="number"  class="sheet-value_display"  readonly name="attr_animal1_dsr" value="0" />
										</td>
									</tr>
									<tr>
										<td>DB</td>
										<td><input type="text"  class="sheet-value_display"  name="attr_animal1_db" style="width:105px;" value="0" /></td>
										<td>MSR</td>
										<td><input type="number"  class="sheet-value_display"  readonly name="attr_animal1_msr" value="0" />
										</td>

									</tr>
							</table>
							</br />
							
							<div style="margin-top:5px;" class="sheet-melee_wpns_labels">
								<br />
							   <label style="width:98px">Weapon</label>
							   <label style="width:34px">SR</label>   
							   <!--<label style="width:30px">SR</label>-->
							   <label style="width:74px">Attk</label>   
							   <label style="width:71px">Damage</label>   
							</div>	
							
							<fieldset class="repeating_animal1wpns" >
								<input   class="sheet-value_display"  type="text" name="attr_wpn_name" style="text-align:left;width:100px;" value="weapon" />
								<input   class="sheet-value_display" type="number" name="attr_wpn_sr" value="0" />
								<input  class="sheet-value_display" type="number" name="attr_wpn_attk" value="0" />
								<input  class="sheet-value_display"  type="text" style="width:80px" name="attr_wpn_damage" value="0" />
								<button type="roll"  value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage}]]}}  {{skillvalue=[[@{wpn_attk}]]}} {{fumble=[[ceil(95+([[@{wpn_attk}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk}]])/5)+1]]}}         {{success=[[@{wpn_attk}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name}}}" ></button>							<button class="sheet-new_roll" type="roll" style="margin:0px;" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage}]]}}  {{skillvalue=[[@{wpn_attk}+?{mods|0}]]}} {{fumble=[[ceil(95+([[@{wpn_attk}+?{mods|0}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk}+?{mods|0}]])/5)+1]]}}         {{success=[[@{wpn_attk}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name}}}" ></button>								
								
							</fieldset>
							<br />
							
							<div style="margin-top:5px;" class="sheet-melee_wpns_labels">
								<br />
							   <label style="width:237px">Skill</label>
							   <label style="width:74px">&#37;</label>   
							</div>	
							
							<fieldset class="repeating_animal1skills" >
								<input   class="sheet-value_display"  type="text" name="attr_skill_name" style="text-align:left;width:232px;" value="skill" />
								<input  class="sheet-value_display" type="number" name="attr_skill_value" value="0" />
								<button type="roll"  value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value}]]}} {{fumble=[[ceil(95+([[@{skill_value}]])/20))]]}} {{crit=[[ceil(([[@{skill_value}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value}]])/5)+1]]}}         {{success=[[@{skill_value}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name}}}" ></button>									
								<button  class="sheet-new_roll"  type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value}]]}} {{success=[[@{skill_value}+?{mods|0}]]}}  {{fumble=[[ceil(95+([[@{skill_value}+?{mods|0}]])/20))]]}} {{crit=[[ceil(([[@{skill_value}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name}}}" ></button>									


								
							</fieldset>
							
							<p>Hit Locations</p>
							<textarea style="font-family:courier;margin:0px;" name="attr_animal1_hitloc" >
D20	    Result	       AP/HP
1-2	    Right hind-leg	0/0
3-4 	Left hind-leg	0/0
5-7 	Hindquarters	0/0
8-10 	Forequarters 	0/0
11-13 	Right fore-leg	0/0
14-16 	Left fore-leg	0/0
17-20 	Head        	0/0
					
							</textarea>
							
							<br />							
							
							
							
							
						
						</div> <!--  Animal 1 -->
						<div class="sheet-col"> <!--- Animal 2 -->
							<div style="margin-bottom:5px;">
								<input class="sheet-value_display" type="text" value="name and type " style="width:244px;" name="attr_animal2_name" />
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display" value="0" name="attr_animal2_str" type="number"/> 
								<p class="sheet-spirit_stat">CON</p><input class="sheet-value_display" value="0" name="attr_animal2_con" type="number" />
								<p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display" value="0" name="attr_animal2_siz" type="number"/>
							</div>
							<div>
								<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display" value="0" name="attr_animal2_int" type="number"/> 
								<p class="sheet-spirit_stat">POW</p><input class="sheet-value_display" value="0" name="attr_animal2_pow" type="number" />
								<p class="sheet-spirit_stat">DEX</p><input class="sheet-value_display" value="0" name="attr_animal2_dex" type="number"/>
			
							</div>
							<br />
							<table>
								
									
									<tr>
										<td>HP</td>
										<td>
											<input type="number" class="sheet-value_display" readonly name="attr_animal2_hp_max" value="0" />
											/
											<input type="number"  class="sheet-value_display" value="" name="attr_animal2_hp_cur" />
										</td>	
											<td>Move</td>
											<td>
												<input type="number"  class="sheet-value_display"  name="attr_animal2_move" value="0" />
											</td>
										
									</tr>
									<tr>
									</tr>
									<tr>
										<td></td>
										<td>
										<!--
										<input type="number"   class="sheet-value_display" readonly name="attr_animal2_fp_max" value="0"/>
										/
										<input type="number"  class="sheet-value_display"  value="" name="attr_animal2_fp_cur" />-->	
										</td>
										<td>DSR</td>
										<td>
										<input type="number"  class="sheet-value_display"  readonly name="attr_animal2_dsr" value="0" />
										</td>
									</tr>
									<tr>
										<td>DB</td>
										<td><input type="text"  class="sheet-value_display"  name="attr_animal2_db" style="width:105px;" value="0" /></td>
										<td>MSR</td>
										<td><input type="number"  class="sheet-value_display"  readonly name="attr_animal2_msr" value="0" />
										</td>

									</tr>
							</table>
							</br />
							
							<div style="margin-top:5px;" class="sheet-melee_wpns_labels">
								<br />
							   <label style="width:98px">Weapon</label>
							   <label style="width:34px">SR</label>   
							   <!--<label style="width:30px">SR</label>-->
							   <label style="width:74px">Attk</label>   
							   <label style="width:71px">Damage</label>   
							</div>	
							
							<fieldset class="repeating_animal2wpns" >
								<input   class="sheet-value_display"  type="text" name="attr_wpn_name" style="text-align:left;width:100px;" value="weapon" />
								<input   class="sheet-value_display" type="number" name="attr_wpn_sr" value="0" />
								<input  class="sheet-value_display" type="number" name="attr_wpn_attk" value="0" />
								<input  class="sheet-value_display"  type="text" style="width:80px" name="attr_wpn_damage" value="0" />
								<button type="roll"  value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage}]]}}  {{skillvalue=[[@{wpn_attk}]]}} {{fumble=[[ceil(95+([[@{wpn_attk}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk}]])/5)+1]]}}         {{success=[[@{wpn_attk}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name}}}" ></button>
								<button  class="sheet-new_roll" type="roll" style="margin:0px;" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage}]]}}  {{skillvalue=[[@{wpn_attk}]]}} {{success=[[@{wpn_attk}+?{mods|0}]]}} {{fumble=[[ceil(95+([[@{wpn_attk}+?{mods|0}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk}+?{mods|0}]])/5)+1]]}}          {{roll=[[1d100]]}} {{skillname=@{wpn_name}}}" ></button>									
								
								
							</fieldset>
							<br />
							
							<div style="margin-top:5px;" class="sheet-melee_wpns_labels">
								<br />
							   <label style="width:237px">Skill</label>
							   <label style="width:74px">&#37;</label>   
							</div>	
							
							<fieldset class="repeating_animal2skills" >
								<input   class="sheet-value_display"  type="text" name="attr_skill_name" style="text-align:left;width:232px;" value="skill" />
								<input  class="sheet-value_display" type="number" name="attr_skill_value" value="0" />
								<button type="roll"  value="&{template:skillRoll} {{name=@{animal2_name}}} {{skillvalue=[[@{skill_value}]]}} {{fumble=[[ceil(95+([[@{skill_value}]])/20))]]}} {{crit=[[ceil(([[@{skill_value}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value}]])/5)+1]]}}         {{success=[[@{skill_value}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name}}}" ></button>									
							<button  class="sheet-new_roll" type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{animal2_name}}} {{success=[[@{skill_value}+?{mods|0}]]}} {{skillvalue=[[@{skill_value}]]}} {{fumble=[[ceil(95+([[@{skill_value}+?{mods|0}]])/20))]]}} {{crit=[[ceil(([[@{skill_value}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value}+?{mods|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name}}}" ></button>									
								
							</fieldset>
							
							<p>Hit Locations</p>
							<textarea style="font-family:courier;margin:0px;" name="attr_animal1_hit2oc" >D20	    Result	       AP/HP
1-2	    Right hind-leg	0/0
3-4 	Left hind-leg	0/0
5-7 	Hindquarters	0/0
8-10 	Forequarters 	0/0
11-13 	Right fore-leg	0/0
14-16 	Left fore-leg	0/0
17-20 	Head        	0/0
					
							</textarea>
							
							<br />							
						</div><!-- Animal 2 -->
					</div>
				</div>
				
				
				<br />
				<div style="background-color: white; 5px;border-radius: 6px;" >
					<label>Money / Finances</label>
					<textarea name="attr_money" style="min-height:15em;width:80%"></textarea>
				</div>
							
				
	
</div> <!--- End of Tab 4 -->
	<!--style="background-color:#ac6e73"*/-->
	
	<div  style="background-color:#ac6e73" class="sheet-tab-content sheet-tab5">
	<br />
	<div style="margin-top:15px;">
		<label style="display:inline">Magic </label> <div style="display:none"><input type="number" readonly name="attr_magic_mod" value="0" />   Fatigue (	<span name="attr_enc_mod"></span>%)&nbsp;&nbsp; Enc ( -<span name="attr_enc_total"></span>%)&nbsp;&nbsp;</div>
	Magic Points <span name="attr_curpow"></span>/<input type="number"  name="attr_mp_cur" value=""/>&nbsp;&nbsp;
		<div style="display:none">
		Free INT<span style="margin-left:5px " name="attr_curint"></span>+<input type="number"  name="attr_freeint_mod" value="0"/>=<input type="number" disabled name="attr_freeint_total" value="[@{curint}+@{freeint_mod}]"/>/
		<input type="number" style="display:none" name="attr_spiritint" value="0"/><input style="display:none" type="number"  name="attr_sorceryint" value="0"/>
		<input type="number"  name="attr_freeint_cur" disabled value="[@{freeint_total}-@{spiritint}-@{sorceryint}]"/>
		</div>
	</div>	
	<br />
			<div style="display:none;margin-top:15px;">
				<div style="display:inline">	
					<input  style="display:inline-block" type="checkbox" name="attr_ceremony_check" />
					<div class="sheet-skill_button" style="display:inline">Ceremony</div>
					
					<input class="sheet-skill_values" type="text" value="5" name="attr_ceremony_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{magic_mod}+@{ceremony_value}+@{enc_mod}]" name="attr_ceremony_total" />

					<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ceremony_total}]}} {{fumble=[[ceil(95+([@{ceremony_total}])/20))]]}} {{crit=[[ceil(([@{ceremony_total}])/20)+1]]}} {{special=[[ceil(([@{ceremony_total}])/5)+1]]}}         {{success=[[[@{ceremony_total}]]]}} {{roll=[[1d100]]}} {{skillname=Ceremony}}" ></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ceremony_total}]}} {{fumble=[[ceil(95+([@{ceremony_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{ceremony_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{ceremony_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{ceremony_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Ceremony}}"   ></button>	
					
					
				</div>	
				<div style="display:inline">	
					<input  style="display:inline-block;margin-left:10px;" type="checkbox" name="attr_summon_check" />
					<div class="sheet-skill_button" style="display:inline;">Summon</div>
					
					<input class="sheet-skill_values" type="text" value="0" name="attr_summon_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{magic_mod}+@{summon_value}+@{enc_mod}]" name="attr_summon_total" />
					<button   type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{summon_total}]}} {{fumble=[[ceil(95+([@{summon_total}])/20))]]}} {{crit=[[ceil(([@{summon_total}])/20)+1]]}} {{special=[[ceil(([@{summon_total}])/5)+1]]}}         {{success=[[[@{summon_total}]]]}} {{roll=[[1d100]]}} {{skillname=Summon}}" ></button><button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{summon_total}]}} {{fumble=[[ceil(95+([@{summon_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{summon_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{summon_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{summon_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Summon}}"   ></button>	
					
					
				</div>
				<div style="display:inline">	
					<input  style="display:inline-block;margin-left:10px;" type="checkbox" name="attr_enchant_check" />
					<div class="sheet-skill_button" style="display:inline;">Enchant</div>
					
					<input class="sheet-skill_values" type="text" value="0" name="attr_enchant_value" />
					<input class="sheet-skill_values" type="text" disabled value="[@{magic_mod}+@{enchant_value}+@{enc_mod}]" name="attr_enchant_total" /><button    type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{enchant_total}]}} {{fumble=[[ceil(95+([@{enchant_total}])/20))]]}} {{crit=[[ceil(([@{enchant_total}])/20)+1]]}} {{special=[[ceil(([@{enchant_total}])/5)+1]]}}         {{success=[[[@{enchant_total}]]]}} {{roll=[[1d100]]}} {{skillname=Enchant}}" ></button><button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{enchant_total}]}} {{fumble=[[ceil(95+([@{enchant_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{enchant_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{enchant_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{enchant_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Enchant}}"   ></button>	
					
					
				</div>
				
				
				
			</div>
			<div class="sheet-spell_div">
			
					<div>
						<label style="display:inline;">Spirit Combat</label>
						<div class="sheet-skill_button" style="display:inline;">Skill</div>
						<input class="sheet-value_display" style="text-align:center;display:inline" type="number" disabled name="attr_cast_spiritm" value="[@{spirit_combat_total}]"/>% 
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{spirit_combat_total}]}} {{fumble=[[ceil(95+([@{spirit_combat_total}])/20))]]}} {{crit=[[ceil(([@{spirit_combat_total}])/20)+1]]}} {{special=[[ceil(([@{spirit_combat_total}])/5)+1]]}}         {{success=[[[@{spirit_combat_total}]]]}} {{roll=[[1d100]]}} {{skillname=Spirit Cmbt.}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{spirit_combat_total}]}} {{fumble=[[ceil(95+([@{spirit_combat_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{spirit_combat_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{spirit_combat_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{spirit_combat_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Cmbt.}}"  ></button>		
						<div class="sheet-skill_button" style="display:inline;">Damage</div>
						<input class="sheet-value_display" style="width:100px;text-align:center;display:inline" type="text" value="1d6" name="attr_spirit_damage1" />
						<button type="roll" value="@{character_name} Rolls [[@{spirit_damage1}]] spirit combat damage" />		
					</div>
					

				
			</div>	
			<br />
			<div class="sheet-spell_div">
				<div>
					<label style="display:inline;">Battle Magic</label>
					<div >
					Casting <input class="sheet-value_display" style="text-align:center;display:inline" type="number" disabled name="attr_cast_spiritm" value="[[(@{curpow}*5)]]"/>%	
					</div>
					
				</div>
				<br />

				
				<label style="font-size:1.0em">Learned Spells</label>
				
				<div class="sheet-melee_wpns_labels">
				   <br />
				   <label style="width:150px">Spell</label>
				   <label style="width:26px">Pts</label>   
				   <!--<label style="width:30px">SR</label>-->
				   <label style="width:74px">Range</label>   
				   <label style="width:71px">Duration</label>   
				   <label style="width:57px">Active</label>
				   <label style="width:205px">Notes</label>
				   <label style="width:100px">Memory</label>				   
				</div>					
				
				<fieldset class="repeating_spiritspells">
					<input class="sheet-value_display" type="text" style="text-align:left;display:inline-block;width:150px" name="attr_spellname" />
					<input class="sheet-value_display"  type="number" style="text-align:center;display:inline-block;" value="0" name="attr_mpcost" />
					<!--<input type="number" style="display:inline-block;" name="attr_spellsr" />-->
					<select style="width:80px;margin-top:0px;" name="attr_range">
							<option>Ranged</option>
							<option>Touch</option>
					</select>
					<select style="width:80px;margin-top:0px;" name="attr_duration">
							<option>Instant</option>
							<option>Perm.</option>							
							<option>Temporal</option>
					</select>
					<select style="width:80px;margin-top:0px;" name="attr_duration">
							<option>Active</option>
							<option>Passive</option>
					</select>							
					<input  class="sheet-value_display"  type="text" style="text-align:left;width:220px;display:inline-block;" name="attr_spellnotes" />
					<input class="sheet-value_display" type="checkbox" name="attr_memorized" checked="checked">
						<button type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)]])/20))]]}} {{crit=[[ceil(([[(@{curpow}*5)]])/20)+1]]}} {{special=[[ceil(([[(@{curpow}*5)]])/5)+1]]}}         {{success=[[(@{curpow}*5)]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}" ></button>

				</fieldset>
				
				<br />
				<label style="font-size:1.0em;display:inline">Matrices Spells</label>
				<input class="sheet-HideSpiritm" type="checkbox" checked="checked" name="attr_is_HideSpirit"><span class="sheet-is-HideSpirit"><span style="font-family: &quot;pictos&quot;">y</span></span>
				<div class="sheet-Spiritmconfig">
				
				<div class="sheet-melee_wpns_labels">
				   <br />
				   <label style="width:150px">Spell</label>
				   <label style="width:26px">Pts</label>   
				   <!--<label style="width:30px">SR</label>-->
				   <label style="width:74px">Range</label>   
				   <label style="width:71px">Duration</label>   
				   <label style="width:57px">Active</label>
				   <label style="width:100px">Notes</label>
				</div>					
				
				<fieldset class="repeating_mspiritspells">
					<input class="sheet-value_display" type="text" style="text-align:left;display:inline-block;width:150px" name="attr_spellname" />
					<input class="sheet-value_display"  type="number" style="text-align:center;display:inline-block;" value="0" name="attr_mpcost" />
					<!--<input type="number" style="display:inline-block;" name="attr_spellsr" />-->
					<select style="width:80px;margin-top:0px;" name="attr_range">
							<option>Ranged</option>
							<option>Touch</option>
					</select>
					<select style="width:80px;margin-top:0px;" name="attr_duration">
							<option>Instant</option>
							<option>Perm.</option>							
							<option>Temporal</option>
					</select>
					<select style="width:80px;margin-top:0px;" name="attr_duration">
							<option>Active</option>
							<option>Passive</option>
					</select>							

					
					<input  class="sheet-value_display"  type="text" style="text-align:left;width:220px;display:inline-block;" name="attr_spellnotes" />
					
						<div style="display:none">
						<button type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}}]])/20))]]}} {{crit=[[ceil(([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}]])/20)+1]]}} {{special=[[ceil(([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}]])/5)+1]]}}         {{success=[[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}" ></button><button  class="sheet-new_roll" type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}+?{mods|0}]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}+?{mods|0}}]])/20))]]}} {{crit=[[ceil(([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}+?{mods|0}]])/5)+1]]}}         {{success=[[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}" ></button>
						</div>
				</fieldset>				
				</div>
				
				
				
			</div>	
			<br />
			<div class="sheet-spell_div" >
				<div>
					<label style="display:inline;">Rune Magic</label>
					
					<div style="display:none">
					Casting <input style="text-align:center;display:inline" type="number" disabled name="attr_cast_divine" class="sheet-value_display" value="[[100-@{enc_total}]]"/>%	
					</div>			
				
				
				</div>
				
				<br />
				
				
				<div>
					<label>Runes</label>
					
						<div class="sheet-melee_wpns_labels">
						   <br />
						   <label style="width:100px">Rune</label>
						   <label style="width:65px">Type</label>   
						   <label style="width:65px">%</label>   
						</div>						
						<fieldset class="repeating_runes">
								<input class="sheet-value_display" type="text" style="text-align:left;display:inline-block;width:100px" name="attr_runename" />						
								<select style="width:100px;margin-top:0px;" name="attr_rune_type">
										<option selected value="element">Element</option>
										<option value="power">Power</option>
										<option value="form">Form</option>										
										<option value="condition">Condition</option>																				
								</select>								
								<input class="sheet-value_display"  type="number" style="text-align:center;display:inline-block;" value="0" name="attr_rune_skill" />
								<button type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{rune_skill}]]}} {{fumble=[[ceil(95+([[@{rune_skill}]])/20))]]}} {{crit=[[ceil(([[@{rune_skill}]])/20)+1]]}} {{special=[[ceil(([[@{rune_skill}]])/5)+1]]}}         {{success=[[@{rune_skill}]]}} {{roll=[[1d100]]}} {{skillname=@{runename} Rune}}" ></button>		
								<button  class="sheet-new_roll" type="roll" style="margin:0px;" value="&{template:skillRoll} {{name=@{character_name}}} {{success=[[@{rune_skill}+?{mods|0}]]}} {{skillvalue=[[@{rune_skill}]]}} {{fumble=[[ceil(95+([[@{rune_skill}+?{mods|0}]])/20))]]}} {{crit=[[ceil(([[@{rune_skill}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{rune_skill}+?{mods|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=@{runename}}}" ></button>								


						</fieldset>
						
					
				</div>				
				
				
				<br />
					<label>Runes Points and Spells</label>				
					<fieldset class="repeating_runespells">
						<div>
							<div class="sheet-skill_button" style="display:inline;">Diety</div>
							<input type="text" style="width:300px;" name="attr_diety_spells" />
							<div class="sheet-skill_button" style="display:inline;">Rune Points</div>
							<input type="number"  name="attr_rune_pts_max" />/<input type="number"  name="attr_cur_runepts" />								
						</div>
						<div>
							<div class="sheet-skill_button" style="display:inline-block;width:90%">Spells</div>
							<textarea style="width:90%" name="attr_spelllist" ></textarea>
						</div>
						<br />
						
					</fieldset>
				
				<br />
				
					<!--
					<div>
						<label>Spells</label>
						
						<div class="sheet-melee_wpns_labels">
						   <br />
						   <label style="width:142px">Spell</label>
						   <label style="width:26px">Cost</label>   
						</div>					
						
						<fieldset class="repeating_divinespells">
								<input class="sheet-value_display" type="text" style="text-align:left;display:inline-block;width:150px" name="attr_spellname" />
								<input class="sheet-value_display"  type="number" style="text-align:center;display:inline-block;" value="0" name="attr_cost" />
						</fieldset>
					</div>
					-->
				</div>
			<br />
			<div style="display:none" class="sheet-spell_div">
				<div>
					<label style="display:inline;">Sorcery</label>
					<!--Casting <input class="sheet-value_display" style="text-align:center;display:inline" type="number" disabled name="attr_cast_spiritm" value="[[@{curpow}*5]-@{enc_mod}-@{enc_total}]"/>%	-->
				</div>
				<br />
			<div style="margin-top:15px;">
			
			
				<div>
					<div style="display:inline">	
						<input  style="display:inline-block" type="checkbox" name="attr_intensity_check" />
						<div class="sheet-skill_button" style="width:100px;display:inline-block">Intensity</div>
						
						<input class="sheet-skill_values" type="text" value="0" name="attr_intensity_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{magic_mod}+@{intensity_value}+@{enc_mod}]" name="attr_intensity_total" />

						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{intensity_total}]}} {{fumble=[[ceil(95+([@{intensity_total}])/20))]]}} {{crit=[[ceil(([@{intensity_total}])/20)+1]]}} {{special=[[ceil(([@{intensity_total}])/5)+1]]}}         {{success=[[[@{intensity_total}]]]}} {{roll=[[1d100]]}} {{skillname=Intensity}}" ></button><button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{intensity_total}]}} {{fumble=[[ceil(95+([@{intensity_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{intensity_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{intensity_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{intensity_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Intensity}}"   ></button>	
						
						
					</div>	
					<div style="display:inline">	
						<input  style="display:inline-block;margin-left:10px;" type="checkbox" name="attr_duration_check" />
						<div class="sheet-skill_button" style="width:100px;display:inline-block;">Duration</div>
						
						<input class="sheet-skill_values" type="text" value="0" name="attr_duration_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{magic_mod}+@{duration_value}+@{enc_mod}]" name="attr_duration_total" />
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{duration_total}]}} {{fumble=[[ceil(95+([@{duration_total}])/20))]]}} {{crit=[[ceil(([@{duration_total}])/20)+1]]}} {{special=[[ceil(([@{duration_total}])/5)+1]]}}         {{success=[[[@{duration_total}]]]}} {{roll=[[1d100]]}} {{skillname=Duration}}" ></button><button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{duration_total}]}} {{fumble=[[ceil(95+([@{intensity_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{duration_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{duration_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{duration_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Duration}}"   ></button>	
						
						
					</div>
				</div>
				<div>
				
					<div style="display:inline">	
						<input  style="display:inline-block;" type="checkbox" name="attr_range_check" />
						<div class="sheet-skill_button" style="width:100px;display:inline-block;">Range</div>
						
						<input class="sheet-skill_values" type="text" value="0" name="attr_range_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{magic_mod}+@{enchant_value}+@{enc_mod}]" name="attr_range_total" />
						
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{range_total}]}} {{fumble=[[ceil(95+([@{range_total}])/20))]]}} {{crit=[[ceil(([@{range_total}])/20)+1]]}} {{special=[[ceil(([@{range_total}])/5)+1]]}}         {{success=[[[@{range_total}]]]}} {{roll=[[1d100]]}} {{skillname=Range}}" ></button><button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{range_total}]}} {{fumble=[[ceil(95+([@{range_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{range_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{range_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{range_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Range}}"   ></button>	
						
						
					</div>
					<div style="display:inline">	
						<input  style="display:inline-block;margin-left:10px;" type="checkbox" name="attr_multispell_check" />
						<div class="sheet-skill_button" style="width:100px;display:inline-block;">Multispell</div>
						
						<input class="sheet-skill_values" type="text" value="0" name="attr_multispell_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{magic_mod}+@{multispell_value}+@{enc_mod}]" name="attr_multispell_total" />
						
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{multispell_total}]}} {{fumble=[[ceil(95+([@{multispell_total}])/20))]]}} {{crit=[[ceil(([@{multispell_total}])/20)+1]]}} {{special=[[ceil(([@{multispell_total}])/5)+1]]}}         {{success=[[[@{multispell_total}]]]}} {{roll=[[1d100]]}} {{skillname=Multispell}}" ></button><button  class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{multispell_total}]}} {{fumble=[[ceil(95+([@{multispell_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{multispell_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{multispell_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{multispell_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Multispell}}"   ></button>	
						
						
					</div>				
				</div>
				
			</div>
			<br />


				<label style="margin-top:5px">Learned Spells</label>
				
				<div class="sheet-melee_wpns_labels">
				   <br />
				   <label style="width:159px">Spell</label>
				   <!--<label style="width:26px">Pts</label>--> 
				   <!--<label style="width:30px">SR</label>-->
				   <label style="width:59px">Range</label>   
				   <label style="width:80px">Duration</label>   
				   <label style="width:81px">Active</label> 
				   <label style="width:57px">Skill</label>   				   
				   <label style="width:100px">Notes</label>
				</div>					
				
				<fieldset class="repeating_sorceryspells">
					<input class="sheet-value_display" type="text" style="text-align:left;display:inline-block;width:150px" name="attr_spellname" />
					<input class="sheet-value_display"  type="number" style="text-align:center;" name="attr_mpcost" value="1" />
					<!--<input type="number" style="display:inline-block;" name="attr_spellsr" />-->
					
					<select style="width:80px;margin-top:0px;" name="attr_range">
							<option>Ranged</option>
							<option>Touch</option>
					</select>
					<select style="width:80px;margin-top:0px;" name="attr_duration">
							<option>Instant</option>
							<option>Temporal</option>
					</select>
					<select style="width:80px;margin-top:0px;" name="attr_active">
							<option>Active</option>
							<option>Passive</option>
					</select>							
					<input class="sheet-skill_values" type="number" value="0" name="attr_spell_value" />
					<input class="sheet-skill_values" type="number" disabled="true" value="[@{magic_mod}+@{spell_value}-@{enc_total}+@{enc_mod}]" name="attr_spell_total" />
					<input name="attr_spell_modtotal" style="display:none" disabled value="@{spell_total}" type="number"  />
					<input  class="sheet-value_display"  type="text" style="text-align:left;width:157px;display:inline-block;" name="attr_spellnotes" />
						<button type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{spell_modtotal}]]}} {{fumble=[[ceil(95+([[@{spell_modtotal}]])/20))]]}} {{crit=[[ceil(([[@{spell_modtotal}]])/20)+1]]}} {{special=[[ceil(([[@{spell_modtotal}]])/5)+1]]}}         {{success=[[@{spell_modtotal}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}" ></button><button  class="sheet-new_roll" type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{spell_modtotal}+?{mods|0}]]}} {{fumble=[[ceil(95+([[@{spell_modtotal}+?{mods|0}}]])/20))]]}} {{crit=[[ceil(([[@{spell_modtotal}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{spell_modtotal}+?{mods|0}]])/5)+1]]}}         {{success=[[@{spell_modtotal}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}" ></button>
				</fieldset>
				
				<br />
			<label style="display:inline">Matrices Spells</label>            
			<input class="sheet-HideSorcerym" type="checkbox" checked="checked" name="attr_is_HideSorcery"><span class="sheet-is-HideSorcery"><span style="font-family: &quot;pictos&quot;">y</span></span>
			<div class="sheet-Sorcerymconfig">
				<div class="sheet-melee_wpns_labels">
				   <br />
				   <label style="width:159px">Spell</label>
				   <!--<label style="width:26px">Pts</label>--> 
				   <!--<label style="width:30px">SR</label>-->
				   <label style="width:59px">Range</label>   
				   <label style="width:80px">Duration</label>   
				   <label style="width:81px">Active</label> 
				   <label style="width:57px">Skill</label>   				   
				   <label style="width:100px">Notes</label>
				</div>					
				
				<fieldset class="repeating_msorceryspells">
					<input class="sheet-value_display" type="text" style="text-align:left;display:inline-block;width:150px" name="attr_spellname" />
					<input class="sheet-value_display"  type="number" style="text-align:center;display:none;" value="0" name="attr_mpcost" />
					<!--<input type="number" style="display:inline-block;" name="attr_spellsr" />-->
					
					<select style="width:80px;margin-top:0px;" name="attr_range">
							<option>Ranged</option>
							<option>Touch</option>
					</select>
					<select style="width:80px;margin-top:0px;" name="attr_duration">
							<option>Instant</option>
							<option>Temporal</option>
					</select>
					<select style="width:80px;margin-top:0px;" name="attr_active">
							<option>Active</option>
							<option>Passive</option>
					</select>							
					<input class="sheet-skill_values" type="number" value="0" name="attr_spell_value" />
					<input class="sheet-skill_values" type="number" disabled="true" value="[@{magic_mod}+@{spell_value}-@{enc_total}+@{enc_mod}]" name="attr_spell_total" />
					<input name="attr_spell_modtotal" style="display:none" disabled value="@{spell_total}" type="number"  />
					<input  class="sheet-value_display"  type="text" style="text-align:left;width:157px;display:inline-block;" name="attr_spellnotes" />
						<button type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{spell_modtotal}]]}} {{fumble=[[ceil(95+([[@{spell_modtotal}]])/20))]]}} {{crit=[[ceil(([[@{spell_modtotal}]])/20)+1]]}} {{special=[[ceil(([[@{spell_modtotal}]])/5)+1]]}}         {{success=[[@{spell_modtotal}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}" ></button><button  class="sheet-new_roll" type="roll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{spell_modtotal}+?{mods|0}]]}} {{fumble=[[ceil(95+([[@{spell_modtotal}+?{mods|0}}]])/20))]]}} {{crit=[[ceil(([[@{spell_modtotal}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{spell_modtotal}+?{mods|0}]])/5)+1]]}}         {{success=[[@{spell_modtotal}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}" ></button>
				</fieldset>				
			  </div>		
				
				
			</div>	
			<br />
			
			<div style="background-color:white;padding:5px;,border-radius:6px;">
				<label>Otherworld Creatures</label>
				<div class='sheet-2colrow'> <!-- Start of spirit row -->
					<div class="sheet-col">
					
						<label>#1</label>
						<div style="margin-bottom:5px;">
							<input class="sheet-value_display" type="text" value="name andtype " style="width:244px;" name="attr_spirit1_name" />
						</div>
						<div>
							<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display" name="attr_spirit1_int" type="number"/> <p class="sheet-spirit_stat">POW</p><input class="sheet-value_display" name="attr_spirit1_pow" type="number" /><p class="sheet-spirit_stat">/</p><input class="sheet-value_display" name="attr_spirit1_mp" type="number"/>
							
						</div>
						<div>
							<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display" name="attr_spirit1_str" type="number"/> <p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display" name="attr_spirit1_siz" type="number" /><p class="sheet-spirit_stat">HP</p><input class="sheet-value_display" name="attr_spirit1_hp" type="number"/>
		
						</div>
						<br />
						Attacks/notes
						<textarea style="width:80%" name="attr_spirit1_notes" ></textarea>
						
						<p>Spells</p>
						<fieldset class="repeating_spirit1spells">
							<input style="width:215px;text-align:left" class="sheet-value_display"  value="spell name and mp cost" type="text" name="attr_spiritspell" />
							<input  value="0" type="number" class="sheet-value_display" name="attr_spiritskill" />
							<select style="margin-bottom:0px;width:79px" name="attr_magictype1">
								<option value="100">Divine</option>
								<option value="(@{spirit1_pow}*5)+(@{spirit1_pow}-10)+(@{spirit1_int}-10)">Spirit</option>								
							</select>
							<button style="display:none" type="roll"  value="&{template:skillRoll} {{name=@{spirit1_name}}} {{skillvalue=[[@{magictype1}]]}} {{fumble=[[ceil(95+([[@{magictype1}]])/20))]]}} {{crit=[[ceil(([[@{magictype1}]])/20)+1]]}} {{special=[[ceil(([[@{magictype1}]])/5)+1]]}}         {{success=[[@{magictype1}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}" ></button>	

						</fieldset>
						
						<br/>
					
					</div>
					<div class="sheet-col">
					
						<label>#2</label>
						<div style="margin-bottom:5px;">
							<input class="sheet-value_display" type="text" value="name andtype " style="width:244px;" name="attr_spirit2_name" />
						</div>
						<div>
							<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display" name="attr_spirit2_int" type="number"/> <p class="sheet-spirit_stat">POW</p><input class="sheet-value_display" name="attr_spirit2_pow" type="number" /><p class="sheet-spirit_stat">/</p><input class="sheet-value_display" name="attr_spirit2_mp" type="number"/>
						</div>
						<div>
							<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display" name="attr_spirit2_str" type="number"/> <p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display" name="attr_spirit2_siz" type="number" /><p class="sheet-spirit_stat">HP</p><input class="sheet-value_display" name="attr_spirit2_hp" type="number"/>
		
						</div>
						<br />
						Attacks/notes
						<textarea style="width:80%" name="attr_spirit2_notes" ></textarea>
						
						<p>Spells</p>
						<fieldset class="repeating_spirit2spells">
							<input style="width:215px;text-align:left" class="sheet-value_display"  value="spell name and mp cost" type="text" name="attr_spiritspell" />
							<input  value="0" type="number" class="sheet-value_display" name="attr_spiritskill" />
							<select style="margin-bottom:0px;width:79px" name="attr_magictype2">
								<option value="100">Rune</option>
								<option value="(@{spirit2_pow}*5)+(@{spirit2_pow}-10)+(@{spirit2_int}-10)">Spirit</option>								
							</select>
							<button type="roll"   value="&{template:skillRoll} {{name=@{spirit2_name}}} {{skillvalue=[[@{magictype2}]]}} {{fumble=[[ceil(95+([[@{magictype2}]])/20))]]}} {{crit=[[ceil(([[@{magictype2}]])/20)+1]]}} {{special=[[ceil(([[@{magictype2}]])/5)+1]]}}         {{success=[[@{magictype2}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}" ></button>	

						</fieldset>
						
						<br/>
					
					</div>



					
				</div><!-- End of spirit row -->
				<div class='sheet-2colrow'><!-- Start of spirit row -->
					<div class="sheet-col">
					
						<label>#3</label>
						<div style="margin-bottom:5px;">
							<input class="sheet-value_display" type="text" value="name andtype " style="width:244px;" name="attr_spirit3_name" />
						</div>
						<div>
							<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display" name="attr_spirit3_int" type="number"/> <p class="sheet-spirit_stat">POW</p><input class="sheet-value_display" name="attr_spirit3_pow" type="number" /><p class="sheet-spirit_stat">/</p><input class="sheet-value_display" name="attr_spirit3_mp" type="number"/>
						</div>
						<div>
							<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display" name="attr_spirit3_str" type="number"/> <p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display" name="attr_spirit3_siz" type="number" /><p class="sheet-spirit_stat">HP</p><input class="sheet-value_display" name="attr_spirit3_hp" type="number"/>
		
						</div>
						<br />
						Attacks/notes
						<textarea style="width:80%" name="attr_spirit3_notes" ></textarea>
						
						<p>Spells</p>
						<fieldset class="repeating_spirit3spells">
							<input style="width:215px;text-align:left" class="sheet-value_display"  value="spell name and mp cost" type="text" name="attr_spiritspell" />
							<input  value="0" type="number" class="sheet-value_display" name="attr_spiritskill" />
							<select style="margin-bottom:0px;width:79px" name="attr_magictype3">
								<option value="100">Rune</option>
								<option value="(@{spirit3_pow}*5)+(@{spirit3_pow}-10)+(@{spirit3_int}-10)">Spirit</option>								
							</select>
							<button "display:none" type="roll"  value="&{template:skillRoll} {{name=@{spirit3_name}}} {{skillvalue=[[@{magictype3}]]}} {{fumble=[[ceil(95+([[@{magictype3}]])/20))]]}} {{crit=[[ceil(([[@{magictype3}]])/20)+1]]}} {{special=[[ceil(([[@{magictype3}]])/5)+1]]}}         {{success=[[@{magictype3}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}" ></button>	

						</fieldset>
						
						<br/>
					
					</div>
					<div class="sheet-col">
					
						<label>#4</label>
						<div style="margin-bottom:5px;">
							<input class="sheet-value_display" type="text" value="name andtype " style="width:244px;" name="attr_spirit4_name" />
						</div>
						<div>
							<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display" name="attr_spirit4_int" type="number"/> <p class="sheet-spirit_stat">POW</p><input class="sheet-value_display" name="attr_spirit4_pow" type="number" /><p class="sheet-spirit_stat">/</p><input class="sheet-value_display" name="attr_spirit4_mp" type="number"/>
						</div>
						<div>
							<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display" name="attr_spirit4_str" type="number"/> <p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display" name="attr_spirit4_siz" type="number" /><p class="sheet-spirit_stat">HP</p><input class="sheet-value_display" name="attr_spirit4_hp" type="number"/>
		
						</div>
						<br />
						Attacks/notes
						<textarea style="width:80%" name="attr_spirit4_notes" ></textarea>
						
						<p>Spells</p>
						<fieldset class="repeating_spirit4spells">
							<input style="width:215px;text-align:left" class="sheet-value_display"  value="spell name and mp cost" type="text" name="attr_spiritspell" />
							<input  value="0" type="number" class="sheet-value_display" name="attr_spiritskill" />
							<select style="margin-bottom:0px;width:79px" name="attr_magictype">
								<option value="100">Rune</option>
								<option value="(@{spirit4_pow}*5)+(@{spirit4_pow}-10)+(@{spirit4_int}-10)">Spirit</option>								
							</select>
							<button style="display:none" type="roll"  value="&{template:skillRoll} {{name=@{spirit4_name}}} {{skillvalue=[[@{magictype}]]}} {{fumble=[[ceil(95+([[@{magictype}]])/20))]]}} {{crit=[[ceil(([[@{magictype}]])/20)+1]]}} {{special=[[ceil(([[@{magictype}]])/5)+1]]}}         {{success=[[@{magictype}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}" ></button>	

						</fieldset>
						
						<br/>
					
					</div>



					
				</div><!-- End of spirit row -->				
				
				<div class='sheet-2colrow'><!-- Start of spirit row -->
					<div class="sheet-col">
					
						<label>#5</label>
						<div style="margin-bottom:5px;">
							<input class="sheet-value_display" type="text" value="name andtype " style="width:244px;" name="attr_spirit5_name" />
						</div>
						<div>
							<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display" name="attr_spirit5_int" type="number"/> <p class="sheet-spirit_stat">POW</p><input class="sheet-value_display" name="attr_spirit5_pow" type="number" /><p class="sheet-spirit_stat">/</p><input class="sheet-value_display" name="attr_spirit5_mp" type="number"/>
						</div>
						<div>
							<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display" name="attr_spirit5_str" type="number"/> <p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display" name="attr_spirit5_siz" type="number" /><p class="sheet-spirit_stat">HP</p><input class="sheet-value_display" name="attr_spirit5_hp" type="number"/>
		
						</div>
						<br />
						Attacks/notes
						<textarea style="width:80%" name="attr_spirit5_notes" ></textarea>
						
						<p>Spells</p>
						<fieldset class="repeating_spirit5spells">
							<input style="width:215px;text-align:left" class="sheet-value_display"  value="spell name and mp cost" type="text" name="attr_spiritspell" />
							<input  value="0" type="number" class="sheet-value_display" name="attr_spiritskill" />
							<select style="margin-bottom:0px;width:79px" name="attr_magictype">
								<option value="100">Divine</option>
								<option value="@{spiritskill}+(@{spirit5_pow}-10)+(@{spirit5_int}-10)">Sorcery</option>
								<option value="(@{spirit1_pow}*5)+(@{spirit5_pow}-10)+(@{spirit5_int}-10)">Spirit</option>								
							</select>
							<button style="display:none" type="roll"  value="&{template:skillRoll} {{name=@{spirit5_name}}} {{skillvalue=[[@{magictype}]]}} {{fumble=[[ceil(95+([[@{magictype}]])/20))]]}} {{crit=[[ceil(([[@{magictype}]])/20)+1]]}} {{special=[[ceil(([[@{magictype}]])/5)+1]]}}         {{success=[[@{magictype}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}" ></button>	

						</fieldset>
						
						<br/>
					
					</div>
					<div class="sheet-col">
					
						<label>#6</label>
						<div style="margin-bottom:5px;">
							<input class="sheet-value_display" type="text" value="name andtype " style="width:244px;" name="attr_spirit6_name" />
						</div>
						<div>
							<p class="sheet-spirit_stat">INT</p> <input class="sheet-value_display" name="attr_spirit6_int" type="number"/> <p class="sheet-spirit_stat">POW</p><input class="sheet-value_display" name="attr_spirit6_pow" type="number" /><p class="sheet-spirit_stat">/</p><input class="sheet-value_display" name="attr_spirit6_mp" type="number"/>
						</div>
						<div>
							<p class="sheet-spirit_stat">STR</p> <input class="sheet-value_display" name="attr_spirit6_str" type="number"/> <p class="sheet-spirit_stat">SIZ</p><input class="sheet-value_display" name="attr_spirit6_siz" type="number" /><p class="sheet-spirit_stat">HP</p><input class="sheet-value_display" name="attr_spirit6_hp" type="number"/>
		
						</div>
						<br />
						Attacks/notes
						<textarea style="width:80%" name="attr_spirit4_notes" ></textarea>
						
						<p>Spells</p>
						<fieldset class="repeating_spirit6spells">
							<input style="width:215px;text-align:left" class="sheet-value_display"  value="spell name and mp cost" type="text" name="attr_spiritspell" />
							<input  value="0" type="number" class="sheet-value_display" name="attr_spiritskill" />
							<select style="margin-bottom:0px;width:79px" name="attr_magictype">
								<option value="100">Divine</option>
								<option value="@{spiritskill}+(@{spirit1_pow}-10)+(@{spirit1_int}-10)">Sorcery</option>
								<option value="(@{spirit1_pow}*5)+(@{spirit1_pow}-10)+(@{spirit1_int}-10)">Spirit</option>								
							</select>
							<button style="display:none" type="roll"  value="&{template:skillRoll} {{name=@{spirit6_name}}} {{skillvalue=[[@{magictype}]]}} {{fumble=[[ceil(95+([[@{magictype}]])/20))]]}} {{crit=[[ceil(([[@{magictype}]])/20)+1]]}} {{special=[[ceil(([[@{magictype}]])/5)+1]]}}         {{success=[[@{magictype}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}" ></button>	

						</fieldset>
						
						<br/>
					
					</div>



					
				</div><!-- End of spirit row -->				
				
				
				
				
			</div>	
			
			
			<br />
			<div class="sheet-spell_div" >
				<label>MP Storage</label>
				<textarea name="attr_mp_storage" style="min-height:15em;width:80%"></textarea>
			</div>
			
			
			
	
	</div> <!--- End of Tab 5 -->
</div>
<!-- End QS sheet -->
<!-- Start NPC sheet -->
<input type="checkbox" style="display:none" class="sheet-toggleNPC1Sheet" name="attr_toggleNPC1Sheet">Display NPC Sheet
<div class="sheet-npc1">
			<div class="sheet-cdiv">
				<input checked="checked" class="sheet-HideConfig" name="attr_is_config" type="checkbox"><span class="sheet-is-config"><span style="font-family: &quot;pictos&quot;">y</span></span>
				<div class="sheet-config" style="border-style: dotted ; border-color: gray ; padding: 5px ; background-color: white ; background-image: none">
					<div>
						<b>Version 14.12.2019</b> <input name="attr_versiony" readonly style="color:red;border:none;background:none;padding 0px;font-weight: bold;;width:400px;" type="text" value="(https://tinyurl.com/yb9tgmlv)">
					</div><br>
					<input checked="checked" class="sheet-toggleQSSheet" name="attr_toggleQSSheet" type="checkbox">Display Quick Start Sheet <input class="sheet-toggleFullSheet" name="attr_toggleFullSheet" type="checkbox">Display Full Sheet <input class="sheet-toggleNPC1Sheet" name="attr_toggleNPC1Sheet" type="checkbox">Display NPC Sheet
				</div>
			</div><br>
	<div class="wrapper1">
		<div class="wrapper1-col1">


			<input name="attr_whisper" type="checkbox"><span style="margin-right:5px;">Whisper rolls</span> <input name="attr_whispSet" style="display:none" type="text" value="">
			<div>
				<input class="sheet-value_display" name="attr_character_name" placeholder="name" style="width:375px;" type="text"> 
				<textarea name="attr_npc1_desc" style="margin-top:5px; font-size: xx-small; height:70px;width: 368px;text-align: left;display: block;"></textarea>
			</div><br>
			<div>
				<span class="sheet-npc1_statLabel">STR</span> <input class="sheet-npc1_stat" name="attr_npc1a_str" type="text" value="0"><button class="sheet-d100_roll" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_str}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_str}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_str}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_str}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_str}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=STR}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button> <span class="sheet-npc1_statLabel">CON</span><input class="sheet-npc1_stat" name="attr_npc1a_con" type="text" value="0"><button class="sheet-d100_roll" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_con}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_con}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_con}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_con}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_con}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=CON}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button> <span class="sheet-npc1_statLabel">SIZ</span><input class="sheet-npc1_stat" name="attr_npc1a_siz" type="text" value="0"><button class="sheet-d100_roll" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_siz}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_siz}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_siz}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_siz}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_siz}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=SIZ}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
			</div>
			<div>
				<span class="sheet-npc1_statLabel">INT</span> <input class="sheet-npc1_stat" name="attr_npc1a_int" type="text" value="0"><button class="sheet-d100_roll" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_int}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_int}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_int}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_int}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_int}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=INT}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button> <span class="sheet-npc1_statLabel">POW</span><input class="sheet-npc1_stat" name="attr_npc1a_pow" type="text" value="0"><button class="sheet-d100_roll" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_pow}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_pow}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_pow}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_pow}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_pow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button> <span class="sheet-npc1_statLabel">DEX</span><input class="sheet-npc1_stat" name="attr_npc1a_dex" type="text" value="0"><button class="sheet-d100_roll" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_dex}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_dex}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_dex}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_dex}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_dex}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=DEX}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button> <span class="sheet-npc1_statLabel">CHA</span><input class="sheet-npc1_stat" name="attr_npc1a_cha" type="text" value="0"><button class="sheet-d100_roll" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_cha}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_cha}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_cha}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_cha}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_cha}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=CHA}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
			</div><br>
			<table>
				<tr>
					<td>HP</td>
					<td><input class="sheet-value_display2" name="attr_npc1a_hp_max" type="text" value="0"> / <input class="sheet-value_display2" name="attr_npc1a_hp_cur" type="text" value="0"></td>
					<td>MP</td>
					<td><input class="sheet-value_display2" name="attr_npc1a_mp_max" type="text" value="0"> / <input class="sheet-value_display2" name="attr_npc1a_mp_cur" type="text" value="0"></td>
					<td>DSR</td>
					<td><input class="sheet-value_display2" name="attr_npc1a_dsr" type="text" value="0"></td>
					<td>Move</td>
					<td><input class="sheet-value_display2" name="attr_npc1a_move" type="text" value="0"></td>
				</tr>
			</table><br>
			<br>
			<div class="sheet-melee_wpns_labels" style="margin-top:5px;">
				<br>
				<label style="width:98px">Weapon</label> <label style="width:42px">SR</label> <label style="width:20px">Attk</label> <label style="width:36px">Mod</label> <label style="width:59px">Damage</label> <label style="width:59px">HP</label>
			</div>
			<div>
				<input class="sheet-value_display2" name="attr_wpn_name1a1" placeholder="weapon" style="text-align:left;width:100px;" type="text"> <input class="sheet-value_display2" name="attr_wpn_sr1a1" type="text" value="0"> <button class="sheet-turn_order" title="Add to turn order" type="roll" value="/em -- @{character_name} added to turn order SR [[@{wpn_sr1a1} &{tracker}]]"></button> <input class="sheet-value_display2" name="attr_wpn_attk1a1" type="text" value="0"> <input class="sheet-value_display2" name="attr_mod1a1" type="text" value="0"> <input class="sheet-value_display2" name="attr_wpn_damage1a1" style="width:80px" type="text" value="0"> <input class="sheet-value_display2" name="attr_wpn_hp1a1" type="text" value="0"> <button class="sheet-d100_roll" type="roll" value="&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a1}]]}} {{skillvalue=[[@{wpn_attk1a1}+@{mod1a1}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a1}+@{mod1a1}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a1}+@{mod1a1}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a1}+@{mod1a1}]])/5)+1]]}} {{success=[[@{wpn_attk1a1}+@{mod1a1}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a1}}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button><button class="sheet-d100_roll" style="margin:0px;" type="roll" value="&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a1}]]}} {{skillvalue=[[@{wpn_attk1a1}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a1}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a1}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a1}+?{mods|0}]])/5)+1]]}} {{success=[[@{wpn_attk1a1}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a1}}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
			</div>
			<div>
				<input class="sheet-value_display2" name="attr_wpn_name1a2" placeholder="weapon" style="text-align:left;width:100px;" type="text"> <input class="sheet-value_display2" name="attr_wpn_sr1a2" type="text" value="0"> <button class="sheet-turn_order" title="Add to turn order" type="roll" value="/em -- @{character_name} added to turn order SR [[@{wpn_sr1a2} &{tracker}]]"></button> <input class="sheet-value_display2" name="attr_wpn_attk1a2" type="text" value="0"> <input class="sheet-value_display2" name="attr_mod1a2" type="text" value="0"> <input class="sheet-value_display2" name="attr_wpn_damage1a2" style="width:80px" type="text" value="0"> <input class="sheet-value_display2" name="attr_wpn_hp1a2" type="text" value="0"> <button class="sheet-d100_roll" type="roll" value="&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a2}]]}} {{skillvalue=[[@{wpn_attk1a2}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a2}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a2}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a2}]])/5)+1]]}} {{success=[[@{wpn_attk1a2}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a2}}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button><button class="sheet-d100_roll" style="margin:0px;" type="roll" value="&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a2}]]}} {{skillvalue=[[@{wpn_attk1a2}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a2}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a2}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a2}+?{mods|0}]])/5)+1]]}} {{success=[[@{wpn_attk1a2}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a2}}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
			</div>
			<div>
				<input class="sheet-value_display2" name="attr_wpn_name1a3" placeholder="weapon" style="text-align:left;width:100px;" type="text"> <input class="sheet-value_display2" name="attr_wpn_sr1a3" type="text" value="0"> <button class="sheet-turn_order" title="Add to turn order" type="roll" value="/em -- @{character_name} added to turn order SR [[@{wpn_sr1a3} &{tracker}]]"></button> <input class="sheet-value_display2" name="attr_wpn_attk1a3" type="text" value="0"> <input class="sheet-value_display2" name="attr_mod1a3" type="text" value="0"> <input class="sheet-value_display2" name="attr_wpn_damage1a3" style="width:80px" type="text" value="0"> <input class="sheet-value_display2" name="attr_wpn_hp1a3" type="text" value="0"> <button class="sheet-d100_roll" type="roll" value="&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a3}]]}} {{skillvalue=[[@{wpn_attk1a3}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a2}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a3}]])/20)+1]]}} {{crit=[[ceil(([[@{wpn_attk1a3}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a3}]])/5)+1]]}} {{success=[[@{wpn_attk1a3}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a3}}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button><button class="sheet-d100_roll" style="margin:0px;" type="roll" value="&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a3}]]}} {{skillvalue=[[@{wpn_attk1a3}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a3}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a3}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a3}+?{mods|0}]])/5)+1]]}} {{success=[[@{wpn_attk1a3}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a3}}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
			</div>
			<fieldset class="repeating_npcwpns" style="display:inline">
				<input class="sheet-value_display2" name="attr_wpn_name" placeholder="weapon" style="text-align:left;width:100px;" type="text"> <input class="sheet-value_display2" name="attr_wpn_sr" type="text" value="0"> <button class="sheet-turn_order" title="Add to turn order" type="roll" value="/em -- @{character_name} added to turn order SR [[@{wpn_sr} &{tracker}]]"></button> <input class="sheet-value_display2" name="attr_wpn_attk" type="text" value="0"> <input class="sheet-value_display2" name="attr_mod" type="text" value="0"> <input class="sheet-value_display2" name="attr_wpn_damage" style="width:80px" type="text" value="0"> <input class="sheet-value_display2" name="attr_wpn_hp" type="text" value="0"> <button class="sheet-d100_roll" type="roll" value="&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}]]}} {{skillvalue=[[@{wpn_attk}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a2}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk}]])/20)+1]]}} {{crit=[[ceil(([[@{wpn_attk}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk}]])/5)+1]]}} {{success=[[@{wpn_attk}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name}}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button><button class="sheet-d100_roll" style="margin:0px;" type="roll" value="&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}]]}} {{skillvalue=[[@{wpn_attk}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk}+?{mods|0}]])/5)+1]]}} {{success=[[@{wpn_attk}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name}}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
			</fieldset><br>
			<!-- Start of hit locations and fumbles -->
			<div style="border:1px solid black;padding:5px;border-radius:5px;width:381px">
				<div style=" margin-left:50px;">
					<div style="margin-left: 5px;display:inline">
						<div class="sheet-input_label">
							Dodge
						</div><input class="sheet-section-header sheet-percentiles" name="attr_dodge" type="text"> <button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{dodge})]]}} {{fumble=[[ceil(95+([[(@{dodge})]])/20))]]}} {{crit=[[round(([[(@{dodge})]])/20)+1]]}} {{special=[[round(([[(@{dodge})]])/5)+1]]}} {{success=[[(@{dodge})]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button><button class="sheet-d100_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{dodge}]]}} {{fumble=[[ceil(95+(@{dodge}+?{Mods|0})/20)]]}} {{crit=[[round((@{dodge}+?{Mods|0})/20)+1]]}} {{special=[[round((@{dodge}+?{Mods|0})/5)+1]]}} {{success=[[@{dodge}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
					</div>
					<div style="margin-left: 5px;display:inline">
						<div class="sheet-input_label">
							Fumble
						</div><button class="sheet-d100_roll" type="roll" value="&{template:RQG-Fumble} {{roll=[[1d100]]}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
					</div>
				</div>
				<div>
					<div style="display:inline;margin-left:21px;">
						<div class="sheet-input_label">
							Hit Location
						</div><select name="attr_creature_hit_location" style="margin-top: 7px; height: 24px ; width: 106px">
							<option value="HL-">
								Human
							</option>
							<option value="FLL-">
								Four-Legged
							</option>
							<option value="NewtL-">
								Newtling
							</option>
							<option value="RockL-">
								Rock Lizard
							</option>
							<option value="ScorpL-">
								Scorpion Man
							</option>
							<option value="SprulPaL-">
								Sprul-Pa
							</option>
							<option value="WalkL-">
								Walktapus
							</option>
						</select> <input name="attr_selected_wpn_type" style="display:none;" value="Melee">
					</div>
					<div style="margin-left:10px;display:inline">
						<div class="sheet-input_label">
							Die
						</div><select name="attr_selected_die_roll" style="margin-top: 7px; height: 24px ; width: 84px">
							<option value="1d20">
								1d20
							</option>
							<option value="1d10+10">
								1d10+10
							</option>
							<option value="1d8+12">
								1d8+12
							</option>
							<option value="1d10">
								1d10
							</option>
							<option value="1d8">
								1d8
							</option>
						</select> <button class="sheet-d100_roll" type="roll" value="&{template:@{creature_hit_location}@{selected_wpn_type}} {{roll=[[@{selected_die_roll}]]}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
					</div>
				</div>
			</div><!-- Start of hit locations and fumbles --><br>
			<p>Hit Locations</p>
			<div style="margin-bottom:5px;">
				<select name="attr_select_hitloc" style="margin-top:0px;width:127px">
					<option value="D20 Result AP/HP 1-3 Right Leg 0/0 3-6 Left Leg 0/0 7-11 Abdomen 0/0 12 Chest 0/0 13-15 Right Arm 0/0 16-18 Left Arm 0/0 19-20 Head 0/0 THP 0/0 MP 0/0 wpn 1 HP 12 wpn 2 HP 12 wpn 3 HP 12">
						Human
					</option>
					<option value="D20 Result AP/HP 1-2 Right hind-leg 0/0 3-4 Left hind-leg 0/0 5-7 Hindquarters 0/0 8-10 Forequarters 0/0 11-13 Right fore-leg 0/0 14-16 Left fore-leg 0/0 17-20 Head 0/0 THP 0/0 MP 0/0 wpn 1 HP 12 wpn 2 HP 12 wpn 3 HP 12">
						Four Legged
					</option>
					<option value="D20 Result AP/HP 01–03 Tail 3/4 04–05 Right Hind Leg 3/6 06–07 Left Hind Leg 3/4 08–11 Hindquarters 3/6 12–15 Forequarters 3/6 16 Right Front Leg 3/4 17 Left Front Leg 3/4 18–20 Head 3/5 THP 0/0 MP 0/0 wpn 1 HP 12 wpn 2 HP 12 wpn 3 HP 12">
						Rock Lizard
					</option>
				</select>
			</div>
			<textarea name="attr_npc1_hitloc" style="font-family:courier;margin:0px;width: 340px;height: 250px;">D20 Result         AP/HP
1-3 Right Leg   0/0
3-6     Left Leg    0/0
7-11    Abdomen     0/0
12  Chest       0/0
13-15   Right Arm   0/0
16-18   Left Arm    0/0
19-20   Head            0/0
THP 0/0
MP 0/0
wpn 1 HP 12
wpn 2 HP 12
wpn 3 HP 12</textarea>			
		</div>
		<div class="wrapper1-col2">
			<br />
			<div>
				<!--- runes -->
							<span style="margin-top:10px;" class="sheet-input_label">Runes:</span>
								<span style="margin-left:309px;display:inline-block">
								<button class="sheet-d100_roll" style="margin:0px;" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[?{Skill+Mods.|0}]]}} {{success=[[?{Skill+Mods.|0}]]}} {{fumble=[[{(101-(round((100-(?{Skill+Mods.|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[?{Skill+Mods.|0}]])/20)+1]]}} {{special=[[ceil(([[?{Skill+Mods.|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=Rune}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
								</span>
							
	
				<textarea name="attr_npc1_runes" style=" font-size: xx-small;width: 368px;text-align: left;display: block;min-height: 35px;height:75px"></textarea>
			</div><!--- end of runes -->
			<div>
				<span class="sheet-input_label">Rune Points:</span><input class="sheet-npc1_stat" name="attr runePts_cur" type="text">/<input class="sheet-npc1_stat" name="attr runePts_max" type="text">
			</div>
			<br>
			<span class="sheet-input_label">Spells:</span> 
				<span style="margin-left:169px;display:inline-block">
					<span>Casting Roll Mod.</span> 
						
							<input class="sheet-value_display2" name="attr_magic_mod" title="Modifier" type="text" value="0"> 
								
								<button class="sheet-d100_roll" style="margin:0px;" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_pow}*5)+@{magic_mod}]]}} {{success=[[(@{npc1a_pow}*5)+@{magic_mod}]]}} {{fumble=[[{(101-(round((100-((@{npc1a_pow}*5)+@{magic_mod}))/20))),100}kl1]]}} {{crit=[[ceil(([[(@{npc1a_pow}*5)+@{magic_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{npc1a_pow}*5)+@{magic_mod}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=Spirit Magic}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
					</span> 
				</span>	
			<textarea name="attr_npc1_spells" style=" font-size: xx-small;width: 368px;text-align: left;display: block;min-height: 45px;height:75px;"></textarea>
			
			<br>
			
			<span class="sheet-input_label">Passions:</span> 
			<span style="margin-left:292px;display:inline-block">
				<button class="sheet-d100_roll" style="margin:0px;" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[?{Skill+Mods.|0}]]}} {{success=[[?{Skill+Mods.|0}]]}} {{fumble=[[{(101-(round((100-(?{Skill+Mods.|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[?{Skill+Mods.|0}]])/20)+1]]}} {{special=[[ceil(([[?{Skill+Mods.|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=Passion}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
			</span> 
			<textarea name="attr_npc1_passions" style="font-size: xx-small;width: 368px;text-align: left;display: block;min-height: 35px;height:75px;"></textarea>
			
			<br>
			
			<span class="sheet-input_label">Skills:</span> 
			<span style="margin-left:315px;display:inline-block">
				<button class="sheet-d100_roll" style="margin:0px;" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[?{Skill+Mods.|0}]]}} {{success=[[?{Skill+Mods.|0}]]}} {{fumble=[[{(101-(round((100-(?{Skill+Mods.|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[?{Skill+Mods.|0}]])/20)+1]]}} {{special=[[ceil(([[?{Skill+Mods.|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=Skill}}"><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png"></button>
			</span> 
			
			<textarea name="attr_npc1_skills" style=" font-size: xx-small;width: 368px;text-align: left;display: block;min-height: 45px;height:75px;"></textarea><br>
			<p>Equipment/Treaure/Magic Items</p>
			<textarea name="attr_equipment" style="font-family:courier;margin:0px;width: 340px;height: 200px;"></textarea><br>
		</div><!--  npc 1 -->			
		</div>	
	</div>	
</div><!-- End NPC sheet -->
<!-- sheet workers -->	
<script type="text/worker">

	on("change:attr_skillValue", function() {
	   getAttrs(["attr_skillValue"], function(values) {
		console.log("Skill Value change");
				var hitloc = values.select_hitloc;
				setAttrs({npc1_hitloc:hitloc});	
				
	   });
	})


	on("change:whisper", function() {
	   getAttrs(["whisper"], function(values) {
		console.log("check whisper toggle");
				if (values.whisper=="on"){
					setAttrs({whispSet:"/w gm "});	
				}
				else{
					
					setAttrs({whispSet:""});	
				}
	   });
	});

	on("change:toggleNPC1Sheet", function() {
	   getAttrs(["toggleNPC1Sheet"], function(values) {
		console.log("check NPC1 toggle");
				if (values.toggleNPC1Sheet=="on"){
					setAttrs({toggleQSSheet:0,toggleFullSheet:0});	
				}
				else{
					/*setAttrs({toggleQSSheet:"on",version:2})*/
					setAttrs({version:2})
				}
	   });
	});
               
	on("change:toggleFullSheet", function() {
	   getAttrs(["toggleFullSheet"], function(values) {
	   console.log("check full toggle");
				if (values.toggleFullSheet=="on"){
					setAttrs({toggleQSSheet:0,toggleNPC1Sheet:0});	
				}
				else{
					/*setAttrs({toggleQSSheet:"on",version:0})*/
					setAttrs({version:0})
				}
	   });
	});
	
	on("change:toggleQSSheet", function() {
	   getAttrs(["toggleQSSheet"], function(values) {
				console.log("check Quick toggle");
				if (values.toggleQSSheet=="on"){
					setAttrs({toggleFullSheet:0,toggleNPC1Sheet:0});	
				}
				else{
					/*setAttrs({toggleFullSheet:"on",version:1})*/
					setAttrs({version:1})
				}
	   });
	});
	
//QS Workers
		
//animal 2 hit points
	on("change:animal2_con change:animal2_siz ", function() {
	   getAttrs(["animal2_con","animal2_siz"], function(values) {
				var x = parseInt(values.animal2_con);
				var y = parseInt(values.animal2_siz);
				var z = Math.round((x+y)/2,0);
				
				setAttrs({animal2_hp_max:z});	

	   });
	});
	
	//Animal 2 fatigue points
		on("change:animal2_con change:animal2_str ", function() {
	   getAttrs(["animal2_con","animal2_str"], function(values) {
				var x = parseInt(values.animal2_str);
				var y = parseInt(values.animal2_con);
				var z = x+y;
				
				setAttrs({animal2_fp_max:z});	

	   });
	});
	
		on("change:enc_totalf", function() {
	   getAttrs(["enc_totalf"], function(values) {
				var fx = parseFloat(values.enc_totalf);
				fx = Math.round(fx,0);
				setAttrs({enc_total:fx});	

	   });
	});


	
	
	//animal 1 hit points
	on("change:animal1_con change:animal1_siz ", function() {
	   getAttrs(["animal1_con","animal1_siz"], function(values) {
				var x = parseInt(values.animal1_con);
				var y = parseInt(values.animal1_siz);
				var z = Math.round((x+y)/2,0);
				
				setAttrs({animal1_hp_max:z});	

	   });
	});
	
	//Animal 1 fatigue points
		on("change:animal1_con change:animal1_str ", function() {
	   getAttrs(["animal1_con","animal1_str"], function(values) {
				var x = parseInt(values.animal1_str);
				var y = parseInt(values.animal1_con);
				var z = x+y;
				
				setAttrs({animal1_fp_max:z});	

	   });
	});
	
		on("change:enc_totalf", function() {
	   getAttrs(["enc_totalf"], function(values) {
				var fx = parseFloat(values.enc_totalf);
				fx = Math.round(fx,0);
				setAttrs({enc_total:fx});	

	   });
	});
			
		
	//SetAnimal 1 Dex SRM and melee srm
		on("change:animal1_dex change:animal1_siz", function() {
			getAttrs(["animal1_dex","animal1_siz"], function(pvalue) {
				console.log("************ Start Animal 1 DEX and  SRM Calculation ************");
				
				var charDex = parseInt(pvalue.animal1_dex);
				var charSiz = parseInt(pvalue.animal1_siz);			
				
				
				var dsrm = 0;
				var ssrm = 0;		
	
				var msrm = 0;
				
				if (charSiz < 7){
					ssrm = 3;
				} else if (charSiz < 15){
					ssrm = 2;				
				} else if (charSiz < 22){
					ssrm = 1;				
				} else {
					ssrm = 0;				
				}				

				
				
				
				if (charDex < 6){
					dsrm = 5;
				} else if (charDex < 9){
					dsrm = 4;			
				} else if (charDex < 13){
					dsrm = 3;								
				} else if (charDex < 16){
					dsrm = 2;				
				} else if (charDex < 19){
					dsrm = 1;								
				} else {
					dsrm = 0;				
				}				
				
				msrm = ssrm+dsrm;
				console.log("msrm");
				console.log(msrm);
				
				setAttrs({ animal1_dsr: dsrm , animal1_msr: msrm});
				                               
			   
				console.log("************ End Animal 1 DEX and melee SRM Calculation ************");
			});
		});			
		
		
	//SetAnimal 2 Dex SRM and melee srm
		on("change:animal2_dex change:animal2_siz", function() {
			getAttrs(["animal2_dex","animal2_siz"], function(pvalue) {
				console.log("************ Start Animal 2 DEX and  SRM Calculation ************");
				
				var charDex = parseInt(pvalue.animal2_dex);
				var charSiz = parseInt(pvalue.animal2_siz);			
				
				
				var dsrm = 0;
				var ssrm = 0;		
	
				var msrm = 0;
				
				if (charSiz < 7){
					ssrm = 3;
				} else if (charSiz < 15){
					ssrm = 2;				
				} else if (charSiz < 22){
					ssrm = 1;				
				} else {
					ssrm = 0;				
				}				

				
				
				
				if (charDex < 6){
					dsrm = 5;
				} else if (charDex < 9){
					dsrm = 4;			
				} else if (charDex < 13){
					dsrm = 3;								
				} else if (charDex < 16){
					dsrm = 2;				
				} else if (charDex < 19){
					dsrm = 1;								
				} else {
					dsrm = 0;				
				}				
				msrm = ssrm+dsrm;
				console.log("msrm");
				console.log(msrm);
				
				setAttrs({ animal2_dsr: dsrm , animal2_msr: msrm});
				                               
			   
				console.log("************ End Animal 2 DEX and melee SRM Calculation ************");
			});
		});					
		
		
		//Set Animal 1 Damage Bonus
		on("change:animal1_str change:animal1_siz", function() {
			getAttrs(["animal1_str", "animal1_siz"], function(pvalue) {
				console.log("************ Start Damage Bonus ************");
				console.log("curstr value: " + pvalue.animal1_str);
				console.log("cursiz value: " + pvalue.animal1_siz);

				var curStrength = parseInt(pvalue.animal1_str);
				var curSize = parseInt(pvalue.animal1_siz);

				var StplusSi = curStrength + curSize;
				console.log("Str+Size value: " + StplusSi);
				var DBonus = "-1d4";
				var mDBonus = "-1d2";
				var DBonusC = 0;
							
				//Determine Bonus
				if (StplusSi < 18) {
					console.log("-- Str+Siz is less than 18 --");
					DBonus = "-1d4";
					mDBonus = "-1d2";					
					console.log("DBonus value: " + DBonus);
					setAttrs({animal1_db: DBonus});
				}
				else if (StplusSi < 25) {
					console.log("-- Str+Siz is less than 25 --");
					DBonus = "0";
					mDBonus = "0";
					console.log("DBonus value: " + DBonus);
					setAttrs({animal1_db: DBonus});
				}
				else if (StplusSi < 33) {
					console.log("-- Str+Siz is less than 31 --");
					DBonus = "1d4";
					mDBonus = "1d2";					
					console.log("DBonus value: " + DBonus);
					setAttrs({animal1_db: DBonus});
				}
				else if (StplusSi < 41) {
					console.log("-- Str+Siz is less than 31 --");
					DBonus = "1d6";
					mDBonus = "1d3";					
					console.log("DBonus value: " + DBonus);
					setAttrs({animal1_db: DBonus});
				}			
				else { //StplusSi is greater than 
					DBonusC = 2+Math.floor(parseFloat((StplusSi - 40) / 16));
					console.log("DBonusC value: " + DBonusC);

					DBonus = DBonusC + "d6";
					mDBonus = DBonusC + "d3";					
					console.log("DBonus value: " + DBonus);
					setAttrs({animal1_db: DBonus});
				}            
				console.log("************ Animal 1 End Damage Bonus ************");
			});
		});
		
		
		
			//Set Agility Bonus
			on("change:curstr change:cursiz change:curdex change:curpow change:coordCast", function() {
				getAttrs(["version","curstr", "cursiz", "curdex", "curpow","coordCast"], function(pvalue) {
					console.log("************ Start Agility Bonus ************");
					console.log("curstr value: " + pvalue.curstr);
					console.log("cursiz value: " + pvalue.cursiz);
					console.log("curdex value: " + pvalue.curdex);
					console.log("curpow value: " + pvalue.curpow);
					console.log("agibonus value: " + pvalue.agility_mod);
					console.log("parrybonus value: " + pvalue.parrybonus);
					var curStrength = parseInt(pvalue.curstr);
					var curSize = parseInt(pvalue.cursiz);
					var curDexterity = parseInt(pvalue.curdex);
					var curPower = parseInt(pvalue.curpow);
					var BonusMod = 0;
					
					
					
					if (curStrength < 5) {
						BonusMod = -5;
					}else if (curStrength >16 && curStrength < 21){
						BonusMod = 5;
					}else if (curStrength >20){
						BonusMod = 5+(Math.ceil((curStrength-20)/4)*5);
					}
					

					if (curSize < 5) {
						BonusMod = BonusMod+5;
					} else if(curSize >16 && curStrength < 21){
						BonusMod = BonusMod-5;
					}else if (curSize >20){
						BonusMod = BonusMod - (5+(Math.ceil((curStrength-20)/4)*5));
					}


					
					if (curDexterity < 5) {
						BonusMod = BonusMod-10;
					}else if(curDexterity >= 5 && curDexterity <= 8){
						BonusMod = BonusMod-5;
					}else if(curDexterity >= 13 && curDexterity <= 16){
						BonusMod = BonusMod+5;
					}else if(curDexterity >= 17 && curDexterity <= 20){
						BonusMod = BonusMod+10;
					}else if (curDexterity >20){
						BonusMod = BonusMod + (10+(Math.ceil((curDexterity-20)/4)*5));
					}
					
					if (curPower < 5) {
						BonusMod = BonusMod-5;
					}else if (curPower >16 && curPower < 21){
						BonusMod = BonusMod+5;
					}else if (curPower >20){
						BonusMod = BonusMod + 5+(Math.ceil((curPower-20)/4)*5);
					}				
				   
  					if (pvalue.coordCast==="on"){
						BonusMod = BonusMod+5;
					}

					
					console.log("version "+pvalue.version);
					if (parseInt(pvalue.version)===0){
						BonusMod = 0;
					}
					
					console.log("BonusMod value: " + BonusMod);
					setAttrs({agility_mod: BonusMod});
					console.log("************ End Agility Bonus ************");
				});
			});

			//Set Communication
			on("change:curint change:curchr change:curpow change:glamourCast", function() {
				getAttrs(["version","curint", "curchr", "curpow","glamourCast"], function(pvalue) {
					console.log("************ Start Communication Bonus ************");
					console.log("curint value: " + pvalue.curint);
					console.log("curchr value: " + pvalue.curchr);
					console.log("curpow value: " + pvalue.curpow);
					console.log("glamourCast value: " + pvalue.glamourCast);

					
					var curInt = parseInt(pvalue.curint);
					var curPow = parseInt(pvalue.curpow);
					var curChr = parseInt(pvalue.curchr);
					
					var BonusMod = 0;
									
					
					if (curInt < 5) {
						BonusMod = BonusMod + -5;
					}else if (curInt >16 && curInt < 21){
						BonusMod = BonusMod + 5;
					}else if (curInt >20){
						BonusMod = BonusMod + (5+(Math.ceil((curInt-20)/4)*5));
					}
					console.log("BonusMod value1: " + BonusMod);

					if (curPow < 5) {
						BonusMod = BonusMod + -5;
					}else if (curPow >16 && curPow < 21){
						BonusMod = BonusMod + 5;
					}else if (curPow >20){
						BonusMod = BonusMod + (5+(Math.ceil((curPow-20)/4)*5));
					}
					console.log("BonusMod value2: " + BonusMod);

					
					if (curChr < 5) {
						BonusMod = BonusMod-10;
					}else if(curChr >= 5 && curChr <= 8){
						BonusMod = BonusMod-5;
					}else if(curChr >= 13 && curChr <= 16){
						BonusMod = BonusMod+5;
					}else if(curChr >= 17 && curChr <= 20){
						BonusMod = BonusMod+10;
					}else if (curChr >20){
						BonusMod = BonusMod + (10+(Math.ceil((curChr-20)/4)*5));
					}
					console.log("BonusMod value3: " + BonusMod);				

					
					if (pvalue.glamourCast==="on"){
						BonusMod += 10;
					}
					
					console.log("BonusMod value4: " + BonusMod);
					
					console.log("version "+pvalue.version);
					
					if (parseInt(pvalue.version)===0){
						BonusMod = 0;
					}
					
					console.log("BonusMod value: " + BonusMod);
					setAttrs({communication_mod: BonusMod});
					console.log("************ End Agility Bonus ************");
				});
			});
			
			
			
			//Set Knowledge
			on("change:curint change:curpow", function() {
				getAttrs(["version","curint", "curpow"], function(pvalue) {
					console.log("************ Start Knowledge Bonus ************");
					console.log("curint value: " + pvalue.curint);
					console.log("curpow value: " + pvalue.curpow);
					
					var curInt = parseInt(pvalue.curint);
					var curPow = parseInt(pvalue.curpow);
					
					var BonusMod = 0;
									
					
					if (curPow < 5) {
						BonusMod = BonusMod + -5;
					}else if (curPow >16 && curPow < 21){
						BonusMod = BonusMod + 5;
					}else if (curPow >20){
						BonusMod = BonusMod + (5+(Math.ceil((curPow-20)/4)*5));
					}
					console.log("BonusMod value1: " + BonusMod);

					
					
					if (curInt < 5) {
						BonusMod = BonusMod-10;
					}else if(curInt >= 5 && curInt <= 8){
						BonusMod = BonusMod-5;
					}else if(curInt >= 13 && curInt <= 16){
						BonusMod = BonusMod+5;
					}else if(curInt >= 17 && curInt <= 20){
						BonusMod = BonusMod+10;
					}else if (curInt >20){
						BonusMod = BonusMod + (10+(Math.ceil((curInt-20)/4)*5));
					}
					console.log("BonusMod value3: " + BonusMod);				

					
					console.log("version "+pvalue.version);
					if (parseInt(pvalue.version)===0){
						BonusMod = 0;
					}
					
					console.log("BonusMod value: " + BonusMod);
					setAttrs({knowledge_mod: BonusMod});
					console.log("************ End Knowledge Bonus ************");
				});
			});			
			/////////////////////////////////////////////////
			//Set Magic
			on("change:curchr change:curpow change:glamourCast", function() {
				getAttrs(["version","curchr", "curpow","glamourCast"], function(pvalue) {
					console.log("************ Start Magic Bonus ************");
					console.log("curpow value: " + pvalue.curpow);
					console.log("curchr value: " + pvalue.curchr);
					
					var curChr = parseInt(pvalue.curchr);
					var curPow = parseInt(pvalue.curpow);
					
					var BonusMod = 0;
									
					
					if (curChr < 5) {
						BonusMod = BonusMod + -5;
					}else if (curChr >16 && curChr < 21){
						BonusMod = BonusMod + 5;
					}else if (curChr >20){
						BonusMod = BonusMod + (5+(Math.ceil((curChr-20)/4)*5));
					}
					console.log("BonusMod value1: " + BonusMod);

					
					
					if (curPow < 5) {
						BonusMod = BonusMod-10;
					}else if(curPow >= 5 && curPow <= 8){
						BonusMod = BonusMod-5;
					}else if(curPow >= 13 && curPow <= 16){
						BonusMod = BonusMod+5;
					}else if(curPow >= 17 && curPow <= 20){
						BonusMod = BonusMod+10;
					}else if (curPow >20){
						BonusMod = BonusMod + (10+(Math.ceil((curPow-20)/4)*5));
					}
					console.log("BonusMod value3: " + BonusMod);				

					
					if (pvalue.glamourCast==="on"){
					
							if (curChr < 5) {
								BonusMod = BonusMod+5;
							}else if(curChr >= 9 && curChr <= 12){
								BonusMod = BonusMod+5;
							}else if(curChr >= 13){
								BonusMod = BonusMod+10;
							}					
					}
					console.log("BonusMod value4: " + BonusMod);				

					
					console.log("version "+pvalue.version);
					if (parseInt(pvalue.version)===0){
						BonusMod = 0;
					}
					
					console.log("BonusMod value: " + BonusMod);
					setAttrs({magic_mod: BonusMod});
					console.log("************ End Magic Bonus ************");
				});
			});					
			
			//Set Manipulation Bonus
			on("change:curstr change:curint change:curdex change:curpow change:strengthCast change:coordCast", function() {
				getAttrs(["version","curint", "curstr", "curdex","strengthCast", "curpow","coordCast"], function(pvalue) {
					console.log("************ Start Manipulation Bonus ************");
					console.log("curstr value: " + pvalue.curstr);
					console.log("curint value: " + pvalue.curint);
					console.log("curdex value: " + pvalue.curdex);
					console.log("curpow value: " + pvalue.curpow);
					var curStrength = parseInt(pvalue.curstr);
					var curInt = parseInt(pvalue.curint);
					var curDexterity = parseInt(pvalue.curdex);
					var curPower = parseInt(pvalue.curpow);
					var BonusMod = 0;
					
					
					
					if (curStrength < 5) {
						BonusMod = -5;
						console.log("Str B -5");
					}else if (curStrength >16 && curStrength < 21){
						BonusMod = 5;
						console.log("Str B +5");
					}else if (curStrength >20){
						BonusMod = 5+(Math.ceil((curStrength-20)/4)*5);
						console.log("Str B "+BonusMod);
					}
					
                        
					if (curInt < 5) {
						console.log("INT B -10");
						BonusMod = BonusMod-10;
					}else if(curInt >= 5 && curInt <= 8){
						BonusMod = BonusMod-5;
						console.log("INT B -5");					
					}else if(curInt >= 13 && curInt <= 16){
						BonusMod = BonusMod+5;
						console.log("INT B 5");						
					}else if(curInt >= 17 && curInt <= 20){
						BonusMod = BonusMod+10;
						console.log("INT B 10");
						
					}else if (curInt >20){
						BonusMod = BonusMod + (10+(Math.ceil((curInt-20)/4)*5));
					}

					
					if (curDexterity < 5) {
						BonusMod = BonusMod-10;
						console.log("DEX B -10");
						
					}else if(curDexterity >= 5 && curDexterity <= 8){
						BonusMod = BonusMod-5;
						console.log("DEX B -5");						
					}else if(curDexterity >= 13 && curDexterity <= 16){
						BonusMod = BonusMod+5;
						console.log("DEX B +5");						
					}else if(curDexterity >= 17 && curDexterity <= 20){
						BonusMod = BonusMod+10;
						console.log("DEX B +10");						
					}else if (curDexterity >20){
						BonusMod = BonusMod + (10+(Math.ceil((curDexterity-20)/4)*5));
					}
					
					if (curPower < 5) {
						BonusMod = BonusMod-5;
						console.log("pow B -5");						
					}else if (curPower >16 && curPower < 21){
						BonusMod = BonusMod+5;
						console.log("Pow B +5");						
					}else if (curPower >20){
						BonusMod = BonusMod + 5+(Math.ceil((curPower-20)/4)*5);
					}				
   					console.log("before buff BonusMod value: " + BonusMod);

				   
					if (pvalue.strengthCast==="on"){
					
							if (curStrength < 5) {
								BonusMod = BonusMod+5;
							}else if(curStrength >= 9 && curStrength <= 12){
								BonusMod = BonusMod+5;
							}else if(curStrength >= 13){
								BonusMod = BonusMod+10;
							}					
					}				   
				   
   					console.log("after str buff BonusMod value: " + BonusMod);
					
					
					if (pvalue.coordCast==="on"){
						BonusMod = BonusMod+5;
					}

					console.log("version "+pvalue.version);
					if (parseInt(pvalue.version)===0){
						BonusMod = 0;
					}
					
					console.log("BonusMod value: " + BonusMod);
					setAttrs({manipulation_mod: BonusMod});
					console.log("************ End Manipulation Bonus ************");
				});
			});
			//Set Perception
			on("change:curint change:curpow", function() {
				getAttrs(["version","curint", "curpow"], function(pvalue) {
					console.log("************ Start Perception Bonus ************");
					console.log("curint value: " + pvalue.curint);
					console.log("curpow value: " + pvalue.curpow);
					
					var curInt = parseInt(pvalue.curint);
					var curPow = parseInt(pvalue.curpow);
					
					var BonusMod = 0;
									
					
					if (curPow < 5) {
						BonusMod = BonusMod + -5;
					}else if (curPow >16 && curPow < 20){
						BonusMod = BonusMod + 5;
					}else if (curPow >20){
						BonusMod = BonusMod + (5+(Math.ceil((curPow-20)/4)*5));
					}
					console.log("BonusMod value1: " + BonusMod);

					
					
					if (curInt < 5) {
						BonusMod = BonusMod-10;
					}else if(curInt >= 5 && curInt <= 8){
						BonusMod = BonusMod-5;
					}else if(curInt >= 13 && curInt <= 16){
						BonusMod = BonusMod+5;
					}else if(curInt >= 17 && curInt <= 20){
						BonusMod = BonusMod+10;
					}else if (curInt >20){
						BonusMod = BonusMod + (10+(Math.ceil((curInt-20)/4)*5));
					}
					console.log("BonusMod value3: " + BonusMod);				

					
					console.log("version "+pvalue.version);
					if (parseInt(pvalue.version)===0){
						BonusMod = 0;
					}
					
					console.log("BonusMod value: " + BonusMod);
					setAttrs({perception_mod: BonusMod});
					console.log("************ End Perception  Bonus ************");
				});
			});			
			/////////////////////////////////////////////////

			//Set Stealth Bonus
			on("change:curint change:cursiz change:curdex change:curpow change:coordCast", function() {
				getAttrs(["version","curint", "cursiz", "curdex", "curpow","coordCast"], function(pvalue) {
					console.log("************ Start Stealth Bonus ************");
					console.log("curint value: " + pvalue.curint);
					console.log("cursiz value: " + pvalue.cursiz);
					console.log("curdex value: " + pvalue.curdex);
					console.log("curpow value: " + pvalue.curpow);
					var curInt = parseInt(pvalue.curint);
					var curSize = parseInt(pvalue.cursiz);
					var curDexterity = parseInt(pvalue.curdex);
					var curPower = parseInt(pvalue.curpow);
					var BonusMod = 0;
					
					
					
					if (curInt < 5) {
						BonusMod = BonusMod-10;
					}else if(curInt >= 5 && curInt <= 8){
						BonusMod = BonusMod-5;
					}else if(curInt >= 13 && curInt <= 16){
						BonusMod = BonusMod+5;
					}else if(curInt >= 17 && curInt <= 20){
						BonusMod = BonusMod+10;
					}else if (curInt >20){
						BonusMod = BonusMod + (10+(Math.ceil((curInt-20)/4)*5));
					}
					

					if (curSize < 5) {
						BonusMod = BonusMod+10;
					}else if(curSize >= 5 && curSize <= 8){
						BonusMod = BonusMod+5;
					}else if(curSize >= 13 && curSize <= 16){
						BonusMod = BonusMod-5;
					}else if(curSize >= 17 && curSize <= 20){
						BonusMod = BonusMod-10;
					}else if (curSize >20){
						BonusMod = BonusMod - (10+(Math.ceil((curSize-20)/4)*5));
					}

					
					if (curDexterity < 5) {
						BonusMod = BonusMod-10;
					}else if(curDexterity >= 5 && curDexterity <= 8){
						BonusMod = BonusMod-5;
					}else if(curDexterity >= 13 && curDexterity <= 16){
						BonusMod = BonusMod+5;
					}else if(curDexterity >= 17 && curDexterity <= 20){
						BonusMod = BonusMod+10;
					}else if (curDexterity >20){
						BonusMod = BonusMod + (10+(Math.ceil((curDexterity-20)/4)*5));
					}
					
					if (curPower < 5) {
						BonusMod = BonusMod+5;
					}else if (curPower >16 && curPower < 21){
						BonusMod = BonusMod-5;
					}else if (curPower >20){
						BonusMod = BonusMod - (5+(Math.ceil((curPower-20)/4)*5));
					}				
				   
					if (pvalue.coordCast==="on"){
						BonusMod = BonusMod+5;
					}

					console.log("version "+pvalue.version);
					console.log("!!!!!!!!!!!stealth mode changed!!!!!!!!!!"+pvalue.version);
					if (parseInt(pvalue.version)===0){
						BonusMod = 0;
					}
					
					console.log("BonusMod value: " + BonusMod);
					setAttrs({stealth_mod: BonusMod});
					console.log("************ End Agility Bonus ************");
				});
			});
			
			
			
				//Set Damage Bonus
			on("change:curstr change:cursiz change:strengthCast", function() {
				getAttrs(["curstr", "cursiz","strengthCast","damagebonus"], function(pvalue) {
					console.log("************ Start Damage Bonus ************");
					console.log("curstr value: " + pvalue.curstr);
					console.log("cursiz value: " + pvalue.cursiz);
					console.log("damagebonus value: " + pvalue.damagebonus);
					var curStrength = parseInt(pvalue.curstr);
					var curSize = parseInt(pvalue.cursiz);
					var curDB = parseInt(pvalue.damagebonus);
					var StplusSi = curStrength + curSize;
					console.log("Str+Size value: " + StplusSi);
					var DBonus = "-1d4";
					var mDBonus = "-1d2";
					var DBonusC = 0;
					var maxDb1 = 0;
					var maxDb2 = 0;
								
					//Determine Bonus
					if (StplusSi < 13) {
						console.log("-- Str+Siz is less than 13 --");
						DBonus = "-1d4";
						mDBonus = "-1d2";		
						
						if (pvalue.strengthCast==="on"){						
							DBonus = "0";
							mDBonus = "0";
						}
						
						console.log("DBonus value: " + DBonus);
						/*setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1});*/
					}
					else if (StplusSi < 25) {
						console.log("-- Str+Siz is less than 25 --");
						DBonus = "0";
						mDBonus = "0";
						
						if (pvalue.strengthCast==="on"){						
							DBonus = "1d4";
							mDBonus = "1d2";
							maxDb1=4;
							maxDb2=2							
						}						
						
						console.log("DBonus value: " + DBonus);
						/*setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1});*/
					}
					else if (StplusSi < 33) {
						console.log("-- Str+Siz is less than 31 --");
						DBonus = "1d4";
						mDBonus = "1d2";					
						console.log("DBonus value: " + DBonus);
						maxDb1=4;
						maxDb2=2
						if (pvalue.strengthCast==="on"){						
							DBonus = "1d6";
							mDBonus = "1d3";
							maxDb1=6;
							maxDb2=3							
						}												
						
						
						
						/*setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1  });*/
					}
					else if (StplusSi < 41) {
						console.log("-- Str+Siz is less than 31 --");
						DBonus = "1d6";
						mDBonus = "1d3";					
						console.log("DBonus value: " + DBonus);
						maxDb1=6;
						maxDb2=3
						
						if (pvalue.strengthCast==="on"){						
							DBonus = "2d6";
							mDBonus = "1d6";
							maxDb1=12;
							maxDb2=6							
						}							
						
						/*setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1  });*/
					}			
					else { //StplusSi is greater than 
						DBonusC = 2+Math.floor(parseFloat((StplusSi - 40) / 16));
						if (pvalue.strengthCast==="on"){						
							DBonusC += 1;
						}						
						
						console.log("DBonusC value: " + DBonusC);

						DBonus = DBonusC + "d6";
						maxDb1 = DBonusC*6;
						maxDb2 = maxDb1/2;
						mDBonus = DBonusC + "d3";					
						console.log("DBonus value: " + DBonus);
						/*setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1,mmaxDb:maxDb2 });*/
					}    

					setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1,mmaxDb:maxDb2 });
					console.log("************ End Damage Bonus ************");
				});
			});
			

			//Set siz SRM
			on("change:cursiz", function() {
				getAttrs(["cursiz","dex_srm","srBuff"], function(pvalue) {

					
					var charSiz = parseInt(pvalue.cursiz);
					var charSsrm = parseInt(pvalue.dex_srm);			
					let srBuff = parseInt(pvalue.srBuff);
									

					
					var ssrm = 0;
					var msrm = charSsrm;
					
					if (charSiz < 7){
						ssrm = 3;
					} else if (charSiz < 15){
						ssrm = 2;				
					} else if (charSiz < 22){
						ssrm = 1;				
					} else {
						ssrm = 0;				
					}				
					msrm = msrm+ssrm+srBuff;
					
					setAttrs({ siz_srm: ssrm , melee_srm: msrm});
				   
					console.log("************ Siz SRM Calculation ************");
				});
			});	


			//Set Dex SRM
			on("change:curdex change:coordCast change:mobilCast", function() {
				getAttrs(["curdex","siz_srm","coordCast","mobilCast"], function(pvalue) {

					
					let charDex = parseInt(pvalue.curdex);
					let charSsrm = parseInt(pvalue.siz_srm);
					let srBuff = 0		
					let dsrm = 0;
					let msrm = charSsrm;
					let srCnt =0;	
					
					if (charDex < 6){
						dsrm = 5;
					} else if (charDex < 9){
						dsrm = 4;
					} else if (charDex < 13){
						dsrm = 3;				
					} else if (charDex < 16){
						dsrm = 2;	
					} else if (charDex < 19){
						dsrm = 1;						
					} else {
						dsrm = 0;				
					}	
					console.log("^^^^^^^^^^^^^ dsrm: "+dsrm);					
console.log("^^^^^^^^^^^^^ srbuff: "+srBuff)					
					if (pvalue.coordCast=="on"){
						srBuff++;
					}
console.log("^^^^^^^^^^^^^ srbuff: "+srBuff)					

					if (pvalue.mobilCast=="on"){
						srBuff++;
					}
console.log("^^^^^^^^^^^^^ srbuff: "+srBuff)					
					msrm = msrm+dsrm;
					
					if (msrm < 1){
						msrm=1;
					}
					
					srCnt =dsrm-srBuff;
					if (srCnt<1){
						srCnt=1;
					}
					let srStr= "";
					while (srCnt<=12) {
						srStr=srStr+""+srCnt;
						srCnt=srCnt+dsrm+(5-srBuff);
						if (srCnt<12){
							srStr=srStr+"/";
						}
					}
					srCnt =5+dsrm-srBuff;
					if (srCnt<1){
						srCnt=1;
					}
					let srStr2= "";
					while (srCnt<=12) {
						srStr2=srStr2+""+srCnt;
						srCnt=srCnt+dsrm+(5-srBuff);
						if (srCnt<=12){
							srStr2=srStr2+"/";
						}
					}					
					
					
					if (dsrm < 1){
						dsrm =1;
					}
					console.log("^^^^^^^^^^^^^ srbuff: "+srBuff)
					
					setAttrs({ dex_srm: dsrm , melee_srm: msrm,ready_wpn: srStr,unready_wpn: srStr2,srMod:srBuff});
				   
					console.log("************ End DEx SRM Calculation ************");
				});
			});	
			


			
			
			on("change:glamourCast change:strengthCast change:vigorCast, change:coordCast", function() {
				getAttrs(["glamourCast","strengthCast","vigorCast","coordCast"], function(pvalue) {

					
					var buffStr = "";	

					if (pvalue.coordCast==="on"){
						buffStr= buffStr+"+3 DEX "
						setAttrs({dexBuff:3,srBuff:-1});
					}else if(pvalue.coordCast==="0"){
						setAttrs({dexBuff:0,srBuff:0});
					} 					

					if (pvalue.mobilCast==="on"){
						buffStr= buffStr+" Double MOV "
						
					}	
					
					if (pvalue.strengthCast==="on"){
						buffStr= buffStr+"+8 STR "
						setAttrs({strBuff:8});
					}else if(pvalue.strengthCast==="0"){
						setAttrs({strBuff:0});
					} 					
					if (pvalue.glamourCast==="on"){
						if (buffStr.length>0){
							buffStr = buffStr+","
						}
						buffStr= buffStr+ " +8 CHR "
						setAttrs({chrBuff:8});
					} else if (pvalue.glamourCast==="0"){
						setAttrs({chrBuff:0});						
					}						

					if (pvalue.vigorCast==="on"){
						if (buffStr.length>0){
							buffStr = buffStr+","
						}					
						buffStr= buffStr+" +3 CON "
						setAttrs({conBuff:3});
					} else if (pvalue.vigourCast==="0"){
						setAttrs({conBuff:0});						
					}	
					if (buffStr.length>0){
						buffStr = buffStr+" to resistance rolls only"
					}					
					console.log("*********** Updating Buff String");
					console.log("buff "+buffStr);	
					setAttrs({buffMsg:buffStr });
				});
			});	
			
			
			
				//Location Hit Points
			//Set Hit Points
		                             
			on("change:hp_max chnage:vigorCast", function() {
				getAttrs(["hp_max","vigorCast"], function(pvalue) {
					var HitPoints = parseInt(pvalue.hp_max);
					console.log("************ Start Location Hit Point Calculation ************");
					console.log("!!!!!!!!!! vigorCast "+pvalue.vigorCast);
					
					

					var hpfudge =0;
					if (pvalue.vigorCast==="on"){
						
						HitPoints = HitPoints-3;
						hpfudge=1;
						
					}
					console.log("hit points");
					console.log(HitPoints);

					/*
					var charstre= parseInt(pvalue.hpstre);
					var tothP = HitPoints + charstre;
									
					//fix to match hit point tables
					var x = Math.ceil(tothP/3);
					console.log("fixing");
					console.log(x);
					var fixedHP =  x*3;
					console.log("fixed hit points");
					console.log(fixedHP);
					
					
					
					var LocPoints1 = 0; //.33
					var LocPoints2 = 0; //.25
					var LocPoints3 = 0; //.4
					
					LocPoints1 = Math.ceil((fixedHP*0.33),0);
					LocPoints2 = Math.ceil((fixedHP*0.25),0);
					LocPoints3 = Math.ceil((fixedHP*0.4),0);
					*/
					
					var LocPoints1 = 0; // Other
					var LocPoints2 = 0; // Arms
					var LocPoints3 = 0; // Chest
					
					if (HitPoints < 7){
						LocPoints1 = 2+hpfudge;
						LocPoints2 = 1+hpfudge;
						LocPoints3 = 3+hpfudge;					
					}
					else if (HitPoints >= 7 && HitPoints <= 9){
						LocPoints1 = 3+hpfudge;
						LocPoints2 = 2+hpfudge;
						LocPoints3 = 4+hpfudge;					
					}
					else if (HitPoints >= 10 && HitPoints <= 12){
						LocPoints1 = 4+hpfudge;
						LocPoints2 = 3+hpfudge;
						LocPoints3 = 5+hpfudge;					
					}
					else if (HitPoints >= 13 && HitPoints <= 15){
						LocPoints1 = 5+hpfudge;
						LocPoints2 = 4+hpfudge;
						LocPoints3 = 6+hpfudge;					
					}
					else if (HitPoints >= 16 && HitPoints <= 18){
						LocPoints1 = 6+hpfudge;
						LocPoints2 = 5+hpfudge;
						LocPoints3 = 7+hpfudge;					
					}
					else if (HitPoints >= 19 && HitPoints <= 21){
						LocPoints1 = 7+hpfudge;
						LocPoints2 = 6+hpfudge;
						LocPoints3 = 8+hpfudge;					
					}
					else if (HitPoints > 21){
						LocPoints1 = (7 + Math.ceil((HitPoints-21)/3))+hpfudge;
						LocPoints2 = (6 + Math.ceil((HitPoints-21)/3))+hpfudge;
						LocPoints3 = (8 + Math.ceil((HitPoints-21)/3))+hpfudge;
					}
					
					setAttrs({r_leg_max_hp: LocPoints1,l_leg_max_hp: LocPoints1,abd_max_hp: LocPoints1,chst_max_hp: LocPoints3,
					r_arm_max_hp: LocPoints2,l_arm_max_hp: LocPoints2,hd_max_hp: LocPoints1});
				   
					console.log("************ End Location Hit Point Calculation ************");
				});
			});		
			
				//Set Current Hit Points
			on("change:lhp_loss change:thp_loss ", function() {
				getAttrs(["hp_max","lhp_loss","thp_loss"], function(pvalue) {
					console.log("************ Start Current Hit Point Calculation ************");
					var HitPoints = parseInt(pvalue.hp_max);
					
					var CurHitPoints = 0;
					var THpLoss = parseInt(pvalue.lhp_loss);
					var LHpLoss = parseInt(pvalue.thp_loss);				


					CurHitPoints = HitPoints-THpLoss-LHpLoss;
								
					setAttrs({hp_cur: CurHitPoints});
				   
					console.log("************ End Current Hit Point Calculation ************");
				});
			});
			
			
		//Set Hit Points
			on("change:curcon change:curpow change:cursiz  change:vigorCast", function() {
				getAttrs(["curcon", "cursiz","curpow","hp","lhp_loss","thp_loss","vigorCast"], function(pvalue) {
					console.log("************ Start Hit Point Calculation ************");
					console.log("curcon value: " + pvalue.curcon);
					console.log("cursiz value: " + pvalue.cursiz);
					console.log("curpow value: " + pvalue.curpow);
					
					var HitPoints = 0;
					var CurHitPoints = 0;
					var THpLoss = parseInt(pvalue.lhp_loss);
					var LHpLoss = parseInt(pvalue.thp_loss);				
					var charSize = parseInt(pvalue.cursiz);
					var charCon = parseInt(pvalue.curcon);
					var charPow = parseInt(pvalue.curpow);

					HitPoints = charCon;
					
					if (charSize < 5){
						HitPoints -= 2;
					}
					else if (charSize >= 5 && charSize <= 8){
						HitPoints -= 1;
					}
					else if (charSize >= 13 && charSize <= 16){
						HitPoints += 1;
					}
					else if (charSize >= 17 && charSize <= 20){
						HitPoints += 2;
					}
					else if (charSize >= 21 && charSize <= 24){
						HitPoints += 3;
					}					
					else if (charSize >= 25 && charSize <= 28){
						HitPoints += 4;
					}										
					else if (charSize > 28){
						HitPoints += (4 + Math.ceil((charSize-20)/4))
					}

		
					if (charPow < 5){
						HitPoints -= 1;
					}
					else if (charPow >= 17 && charPow <= 20){
						HitPoints += 1;
					}

					else if (charPow >= 21 && charPow <= 24){
						HitPoints += 2;
					}
					else if (charPow >= 25 && charPow <= 28){
						HitPoints += 3;
					}													
					else if (charPow > 28){
						HitPoints += (3 + Math.ceil((charPow-20)/4));
					}

					
					if (pvalue.vigorCast==="on"){
						HitPoints +=3;
					}
					
					CurHitPoints = HitPoints-THpLoss-LHpLoss;
								
					setAttrs({ hp_max: HitPoints, hp_cur: CurHitPoints});

					console.log("************ End Hit Point Calculation ************");
				});
			});	
			
			
			on("change:r_leg_damage change:r_leg_max_hp ", function() {
		   getAttrs(["r_leg_damage","r_leg_max_hp"], function(values) {
					console.log("Start add right leg location damage");
					console.log(values);		
					var lochp =  parseInt(values.r_leg_max_hp);
					//var locstre = parseInt(values.r_leg_stre);
					var damage = values.r_leg_damage;
					var tot=0;
					tot =  lochp-eval(damage); 
					
					setAttrs({r_leg_cur_hp:tot});	




		   });
		});	
		

				on("change:l_leg_damage change:r_leg_max_hp ", function() {
		   getAttrs(["l_leg_damage","l_leg_max_hp"], function(values) {
					console.log("Start add left leg location damage");
					console.log(values);		
					var lochp =  parseInt(values.l_leg_max_hp);
					//var locstre = parseInt(values.l_leg_stre);
					var damage = values.l_leg_damage;
					var tot=0;
					tot =  lochp-eval(damage);
					
					setAttrs({l_leg_cur_hp:tot});	




		   });
		});	

				on("change:abd_damage change:abd_max_hp ", function() {
		   getAttrs(["abd_damage","abd_max_hp"], function(values) {
					console.log("Start add abd location damage");
					console.log(values);		
					var lochp =  parseInt(values.abd_max_hp);
					//var locstre = parseInt(values.abd_stre);
					var damage = values.abd_damage;
					var tot=0;
					tot =  lochp-eval(damage);
					
					setAttrs({abd_cur_hp:tot});	




		   });
		});	

				on("change:chst_damage change:chst_max_hp ", function() {
		   getAttrs(["chst_damage","chst_max_hp"], function(values) {
					console.log("Start add chst location damage");
					console.log(values);		
					var lochp =  parseInt(values.chst_max_hp);
					//var locstre = parseInt(values.chst_stre);				
					var damage = values.chst_damage;
					var tot=0;
					tot =  lochp-eval(damage);
					console.log("!!!!!!!!!!!!!! lochp"+lochp);

					setAttrs({chst_cur_hp:tot});	




		   });
		});		
		
		
				on("change:r_arm_damage change:r_arm_max_hp ", function() {
		   getAttrs(["r_arm_damage","r_arm_max_hp"], function(values) {
					console.log("Start add right arm location damage");
					console.log(values);		
					var lochp =  parseInt(values.r_arm_max_hp);
					//var locstre = parseInt(values.r_arm_stre);								
					var damage = values.r_arm_damage;
					var tot=0;
					tot =  lochp-eval(damage);
					
					setAttrs({r_arm_cur_hp:tot});	




		   });
		});	
		

				on("change:l_arm_damage change:l_arm_max_hp ", function() {
		   getAttrs(["l_arm_damage","l_arm_max_hp"], function(values) {
					console.log("Start add left arm location damage");
					console.log(values);		
					var lochp =  parseInt(values.l_arm_max_hp);
					//var locstre = parseInt(values.l_arm_stre);												
					var damage = values.l_arm_damage;
					var tot=0;
					tot =  lochp-eval(damage);
					
					setAttrs({l_arm_cur_hp:tot});	




		   });
		});	
		

				on("change:hd_damage change:hd_max_hp ", function() {
		   getAttrs(["hd_damage","hd_max_hp"], function(values) {
					console.log("Start add head location damage");
					console.log(values);		
					var lochp =  parseInt(values.hd_max_hp);
					var damage = values.hd_damage;
					var tot = lochp-eval(damage);
					setAttrs({hd_cur_hp:tot});	
		   });
		});		
		
		
		
				on("change:r_leg_damage change:l_leg_damage change:abd_damage change:abd_damage change:chst_damage change:r_arm_damage change:l_arm_damage change:hd_damage", function() {
		   getAttrs(["r_leg_damage","l_leg_damage","abd_damage","abd_damage","chst_damage","r_arm_damage","l_arm_damage","hd_damage"], function(values) {
					console.log("Start add up location damage");
					console.log(values);				
					var tot=0;
					var evalStr = "";
					for (const key of Object.keys(values)) {
						tot = tot + eval(values[key]);
						console.log(tot);
					}
					setAttrs({lhp_loss:tot});	
					/*var test = eval(values.total_blood_loss_tt);*/



		   });
		});			
			
		  on("change:repeating_missle:mdbtoggle", function() {
		   getAttrs(["repeating_missle_mdbtoggle","mdamagebonus","attr_mmaxDb"], function(values) {
					console.log("Start set missle damage bonus");
					console.log(values);
					console.log(values.repeating_missle_mdbtoggle);				
					var mdb =  values.repeating_missle_mdbtoggle;
					var mdbStr = "0";
					var maxmdbStr = "0";
					if (mdb=="on"){
						
						mdbStr = values.mdamagebonus;
						maxmdbStr = values.mmaxDb;
					}
					
					
					setAttrs({repeating_missle_wpnmdb:mdbStr,maxwpnmdb: maxmdbStr});	




		   });
		});	
		
		
		
			//reset weapon str/ def penalties if str changes

			on("change:curstr change:curdex change:cursiz", function() {
			
					console.log("start weapon str/dex min checks ");
					
					
					/* Start melee Section */
					getSectionIDs("repeating_melee", function(idArray) {
						if (idArray.length > 0) {
							_.each(idArray, function(currentID, i) {
								getAttrs(["repeating_melee_" + currentID + "_wpnstr","repeating_melee_" + currentID + "_wpndex","curstr","curdex" ], function(values) {
									console.log("what have we here");
									var wStr = parseInt(values["repeating_melee_" + idArray[i] + "_wpnstr"]);
									var wDex = parseInt(values["repeating_melee_" + idArray[i] + "_wpndex"]);
									var cStr = parseInt(values.curstr);
									var cDex = parseInt(values.curdex);
									var minMod = 0;
									var strMod = cStr-wStr;
									var dexMod = cDex-wDex;
									var totmod = 0;
									var attrsToSet = {};
									if (strMod < 0){
										console.log("Below min str");
										console.log(strMod*5);
										totmod += strMod*5;
									}
									if (dexMod < 0){
										console.log("Below min dex");
										console.log(dexMod*5);
										totmod += dexMod*5;
									}
									//mimmod
									var missleModId = "repeating_melee_" + idArray[i] + "_minmod";
									attrsToSet[missleModId] = totmod;
									console.log("attrsToSet");
									console.log(attrsToSet);		
									setAttrs(attrsToSet);
									
									
									/*
									console.log("wStr");
									console.log(wStr);
									console.log("wDex");
									console.log(wDex);
									console.log("Str");
									console.log(cStr);
									console.log("Dex");
									console.log(cDex);
									*/
									
									
								});
							});
						}
					});
					/* End melee section  */				
					
					
					
					
					
					
					
					
					/* Start missle Section */
					getSectionIDs("repeating_missle", function(idArray) {
						if (idArray.length > 0) {
							_.each(idArray, function(currentID, i) {
								getAttrs(["repeating_missle_" + currentID + "_mdbtoggle","repeating_missle_" + currentID + "_wpnstr","repeating_missle_" + currentID + "_wpndex","curstr","curdex","mdamagebonus" ], function(values) {
									console.log("what have we here");
									var wStr = parseInt(values["repeating_missle_" + idArray[i] + "_wpnstr"]);
									var wDex = parseInt(values["repeating_missle_" + idArray[i] + "_wpndex"]);
									var mdb = values["repeating_missle_" + idArray[i] + "_mdbtoggle"]
									var cStr = parseInt(values.curstr);
									var cDex = parseInt(values.curdex);
									var minMod = 0;
									var strMod = cStr-wStr;
									var dexMod = cDex-wDex;
									var totmod = 0;
									var mdbStr = "0";
									var attrsToSet = {};
									if (strMod < 0){
										console.log("Below min str");
										console.log(strMod*5);
										totmod += strMod*5;
									}
									if (dexMod < 0){
										console.log("Below min dex");
										console.log(dexMod*5);
										totmod += dexMod*5;
									}
									//mimmod
									var missleModId = "repeating_missle_" + idArray[i] + "_minmod";
									attrsToSet[missleModId] = totmod;
									console.log("attrsToSet");
									console.log(attrsToSet);		
									setAttrs(attrsToSet);
									
									//set missle damage bonus
									var missletoggleId = "repeating_missle_" + idArray[i] + "_wpnmdb";
									if (mdb=="on"){
										
										mdbStr = values.mdamagebonus;
									}

									attrsToSet[missletoggleId] = mdbStr;
									console.log("new missle bonus");
									console.log(attrsToSet);		
									setAttrs(attrsToSet);								
									
									/*
									console.log("wStr");
									console.log(wStr);
									console.log("wDex");
									console.log(wDex);
									console.log("Str");
									console.log(cStr);
									console.log("Dex");
									console.log(cDex);
									*/
									
									
								});
							});
						}
					});
					/* End missle section  */
			});


		
		
		
		/*attr_missle_db*/
		
		on("change:repeating_missle:mdbtoggle", function() {
		   getAttrs(["repeating_missle_mdbtoggle","mdamagebonus"], function(values) {
					console.log("Start set missle damage bonus");
					console.log(values);
					console.log(values.repeating_missle_mdbtoggle);				
					var mdb =  values.repeating_missle_mdbtoggle;
					var mdbStr = "0";
					if (mdb=="on"){
						
						mdbStr = values.mdamagebonus;
					}
					setAttrs({repeating_missle_wpnmdb:mdbStr});	




		   });
		});
		/* ---- BEGIN: TheAaronSheet.js ---- */
		// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
		// By:       The Aaron, Arcane Scriptomancer
		// Contact:  https://app.roll20.net/users/104025/the-aaron

		var TAS = TAS || (function(){
			'use strict';

			var version = '0.2.4',
				lastUpdate = 1457098091,

				loggingSettings = {
					debug: {
						key:     'debug',
						title:   'DEBUG',
						color: {
							bgLabel: '#7732A2',
							label:   '#F2EF40',
							bgText:  '#FFFEB7',
							text:    '#7732A2'
						}
					},
					error: {
						key:     'error',
						title:   'Error',
						color: {
							bgLabel: '#C11713',
							label:   'white',
							bgText:  '#C11713',
							text:    'white'
						}
					},
					warn: {
						key:     'warn',
						title:   'Warning',
						color: {
							bgLabel: '#F29140',
							label:   'white',
							bgText:  '#FFD8B7',
							text:    'black'
						}
					},
					info: {
						key:     'info',
						title:   'Info',
						color: {
							bgLabel: '#413FA9',
							label:   'white',
							bgText:  '#B3B2EB',
							text:    'black'
						}
					},
					notice: {
						key:     'notice',
						title:   'Notice',
						color: {
							bgLabel: '#33C133',
							label:   'white',
							bgText:  '#ADF1AD',
							text:    'black'
						}
					},
					log: {
						key:     'log',
						title:   'Log',
						color: {
							bgLabel: '#f2f240',
							label:   'black',
							bgText:  '#ffff90',
							text:    'black'
						}
					},
					callstack: {
						key:     'TAS',
						title:   'function',
						color: {
							bgLabel: '#413FA9',
							label:   'white',
							bgText:  '#B3B2EB',
							text:    'black'
						}
					},
					callstack_async: {
						key:     'TAS',
						title:   'ASYNC CALL',
						color: {
							bgLabel: '#413FA9',
							label:   'white',
							bgText:  '#413FA9',
							text:    'white'
						}
					},
					TAS: {
						key:     'TAS',
						title:   'TAS',
						color: {
							bgLabel: 'grey',
							label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
							bgText:  'grey',
							text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
						}
					}
				},


				config = {
					debugMode: false,
					logging: {
						log: true,
						notice: true,
						info: true,
						warn: true,
						error: true,
						debug: false
					}
				},

				callstackRegistry = [],
				queuedUpdates = {}, //< Used for delaying saves till the last momment.

			complexType = function(o){
				switch(typeof o){
					case 'string':
						return 'string';
					case 'boolean':
						return 'boolean';
					case 'number':
						return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
					case 'function':
						return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
					case 'object':
						return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
					default:
						return typeof o;
				}
			},

			dataLogger = function(primaryLogger,secondaryLogger,data){
				_.each(data,function(m){
					var type = complexType(m);
					switch(type){
						case 'string':
							primaryLogger(m);
							break;
						case 'undefined':
						case 'null':
						case 'NaN':
							primaryLogger('['+type+']');
							break;
						case 'number':
						case 'not a number':
						case 'integer':
						case 'decimal':
						case 'boolean':
							primaryLogger('['+type+']: '+m);
							break;
						default:
							primaryLogger('['+type+']:=========================================');
							secondaryLogger(m);
							primaryLogger('=========================================================');
							break;
					}
				});
			},


			colorLog = function(options){
				var coloredLoggerFunction,
					key = options.key,
					label = options.title || 'TAS',
					lBGColor = (options.color && options.color.bgLabel) || 'blue',
					lTxtColor = (options.color && options.color.label) || 'white',
					mBGColor = (options.color && options.color.bgText) || 'blue',
					mTxtColor = (options.color && options.color.text) || 'white';

				coloredLoggerFunction = function(message){
					console.log(
						'%c '+label+': %c '+message + ' ',
						'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
						'background-color: '+mBGColor+';color: '+mTxtColor+';'
					); 
				};
				return function(){
					if('TAS'===key || config.logging[key]){
					   dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments)); 
					}
				};
			},

			logDebug  = colorLog(loggingSettings.debug),
			logError  = colorLog(loggingSettings.error),
			logWarn   = colorLog(loggingSettings.warn),
			logInfo   = colorLog(loggingSettings.info),
			logNotice = colorLog(loggingSettings.notice),
			logLog    = colorLog(loggingSettings.log),
			log       = colorLog(loggingSettings.TAS),
			logCS     = colorLog(loggingSettings.callstack),
			logCSA    = colorLog(loggingSettings.callstack_async),

			registerCallstack = function(callstack,label){
				var idx=_.findIndex(callstackRegistry,function(o){
					return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length) &&
						_.difference(o.stack,callstack).length === 0 &&
						o.label === label;
				});
				if(-1 === idx){
					idx=callstackRegistry.length;
					callstackRegistry.push({
						stack: callstack,
						label: label
					});
				}
				return idx;
			},

			setConfigOption = function(options){
				var newconf =_.defaults(options,config);
				newconf.logging=_.defaults(
					(options && options.logging)||{},
					config.logging
				);
				config=newconf;
			},
			
			debugMode = function(){
				config.logging.debug=true;
				config.debugMode = true;
			},

			getCallstack = function(){
				var e = new Error('dummy'),
					stack = _.map(_.rest(e.stack.replace(/^[^\(]+?[\n$]/gm, '')
					.replace(/^\s+at\s+/gm, '')
					.replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
					.split('\n')),function(l){
						return l.replace(/\s+.*$/,'');
					});
				return stack;
			},
			logCallstackSub = function(cs){
				var matches, csa;
				_.find(cs,function(line){
					matches = line.match(/TAS_CALLSTACK_(\d+)/);
					if(matches){
					   csa=callstackRegistry[matches[1]];
					   logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
					   logCallstackSub(csa.stack);
					   return true;
					} 
					logCS(line);
					return false;
				});
			},
			logCallstack = function(){
				var cs;
				if(config.debugMode){
					cs = getCallstack();
					cs.shift();
					log('==============================> CALLSTACK <==============================');
					logCallstackSub(cs);
					log('=========================================================================');
				}
			},


			wrapCallback = function (label, callback, context){
				var callstack;
				if('function' === typeof label){
					context=callback;
					callback=label;
					label=undefined;
				}
				if(!config.debugMode){
					return (function(cb,ctx){
						return function(){
							cb.apply(ctx||{},arguments);
						};
					}(callback,context));
				}
				
				callstack = getCallstack();
				callstack.shift();
				
				return (function(cb,ctx,cs,lbl){
					var ctxref=registerCallstack(cs,lbl);

					/*jshint -W054 */
					return new Function('cb','ctx','TASlog',
						"return function TAS_CALLSTACK_"+ctxref+"(){"+
							"TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
							"cb.apply(ctx||{},arguments);"+
							"TASlog('Exiting: '+(cb.name||'(anonymous function)'));"+
						"};")(cb,ctx,log);
					/*jshint +W054 */
				}(callback,context,callstack,label));
			},


			prepareUpdate = function( attribute, value ){
				queuedUpdates[attribute]=value;
			},

			applyQueuedUpdates = function() {
			  setAttrs(queuedUpdates);
			  queuedUpdates = {};
			},

			namesFromArgs = function(args,base){
				return _.chain(args)
					.reduce(function(memo,attr){
						if('string' === typeof attr) {
							memo.push(attr);
						} else if(_.isArray(args) || _.isArguments(args)){
							memo = namesFromArgs(attr,memo);
						}
						return memo;
					},(_.isArray(base) && base) || [])
					.uniq()
					.value();
			},

			addId = function(obj,value){
				Object.defineProperty(obj,'id',{
					value: value,
					writeable: false,
					enumerable: false
				});
			},

			addProp = function(obj,prop,value,fullname){
				(function(){
					var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
						full_pname = fullname || prop,
						pvalue=value;

					_.each(['S','I','F'],function(p){
						if( !_.has(obj,p)){
							Object.defineProperty(obj, p, {
								value: {},
								enumerable: false,
								readonly: true
							});
						}
					});
					if( !_.has(obj,'D')){
						Object.defineProperty(obj, 'D', {
							value: _.reduce(_.range(10),function(m,d){
									Object.defineProperty(m, d, {
										value: {},
										enumerable: true,
										readonly: true
									});
									return m;
								},{}),
							enumerable: false,
							readonly: true
						});
					}


					// Raw value
					Object.defineProperty(obj, pname, {
						enumerable: true,
						set: function(v){
							if(v!==pvalue) {
								pvalue=v;
								prepareUpdate(full_pname,v);
							}
						},
						get: function(){
							return pvalue;
						}
					});
					
					// string value
					Object.defineProperty(obj.S, pname, {
						enumerable: true,
						set: function(v){
							var val=v.toString();
							if(val !== pvalue) {
								pvalue=val;
								prepareUpdate(full_pname,val);
							}
						},
						get: function(){
							return pvalue.toString();
						}
					});

					// int value
					Object.defineProperty(obj.I, pname, {
						enumerable: true,
						set: function(v){
							var val=parseInt(v,10) || 0;
							if(val !== pvalue){
								pvalue=val;
								prepareUpdate(full_pname,val);
							}
						},
						get: function(){
							return parseInt(pvalue,10) || 0;
						}
					});

					// float value
					Object.defineProperty(obj.F, pname, {
						enumerable: true,
						set: function(v){
							var val=parseFloat(v) || 0;
							if(val !== pvalue) {
								pvalue=val;
								prepareUpdate(full_pname,val);
							}
						},
						get: function(){
							return parseFloat(pvalue) || 0;
						}
					});
					_.each(_.range(10),function(d){
						Object.defineProperty(obj.D[d], pname, {
							enumerable: true,
							set: function(v){
								var val=(parseFloat(v) || 0).toFixed(d);
								if(val !== pvalue){
									pvalue=val;
									prepareUpdate(full_pname,val);
								}
							},
							get: function(){
								return (parseFloat(pvalue) || 0).toFixed(d);
							}
						});
					});

				}());
			},
			
			repeating = function( section ) {
				return (function(s){
					var sectionName = s,
						attrNames = [],
						fieldNames = [],
						operations = [],
						after = [],
					
					repAttrs = function TAS_Repeating_Attrs(){
						attrNames = namesFromArgs(arguments,attrNames);
						return this;
					},
					repFields = function TAS_Repeating_Fields(){
						fieldNames = namesFromArgs(arguments,fieldNames);
						return this;
					},
					repReduce = function TAS_Repeating_Reduce(func, initial, final, context) { 
						operations.push({
							type: 'reduce',
							func: (func && _.isFunction(func) && func) || _.noop,
							memo: (_.isUndefined(initial) && 0) || initial,
							final: (final && _.isFunction(final) && final) || _.noop,
							context: context || {}
						});
						return this;
					},
					repMap = function TAS_Repeating_Map(func, final, context) {
						operations.push({
							type: 'map',
							func: (func && _.isFunction(func) && func) || _.noop,
							final: (final && _.isFunction(final) && final) || _.noop,
							context: context || {}
						});
						return this;
					},
					repEach = function TAS_Repeating_Each(func, final, context) {
						operations.push({
							type: 'each',
							func: (func && _.isFunction(func) && func) || _.noop,
							final: (final && _.isFunction(final) && final) || _.noop,
							context: context || {}
						});
						return this;
					},
					repTap = function TAS_Repeating_Tap(final, context) {
						operations.push({
							type: 'tap',
							final: (final && _.isFunction(final) && final) || _.noop,
							context: context || {}
						});
						return this;
					},
					repAfter = function TAS_Repeating_After(callback,context) {
						after.push({
							callback: (callback && _.isFunction(callback) && callback) || _.noop,
							context: context || {}
						});
						return this;
					},
					repExecute = function TAS_Repeating_Execute(callback,context){
						var rowSet = {},
							attrSet = {},
							fieldIds = [],
							fullFieldNames = [];

						repAfter(callback,context);

						// call each operation per row.
						// call each operation's final
						getSectionIDs("repeating_"+sectionName,function(ids){
							fieldIds = ids;
							fullFieldNames = _.reduce(fieldIds,function(memo,id){
								return memo.concat(_.map(fieldNames,function(name){
									return 'repeating_'+sectionName+'_'+id+'_'+name;  
								}));
							},[]);
							getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
								_.each(attrNames,function(aname){
									if(values.hasOwnProperty(aname)){
										addProp(attrSet,aname,values[aname]);
									}
								});

								rowSet = _.reduce(fieldIds,function(memo,id){
									var r={};
									addId(r,id);
									_.each(fieldNames,function(name){
										var fn = 'repeating_'+sectionName+'_'+id+'_'+name;  
										addProp(r,name,values[fn],fn);
									});

									memo[id]=r;

									return memo;
								},{});

								_.each(operations,function(op){
									var res;
									switch(op.type){
										case 'tap':
											_.bind(op.final,op.context,rowSet,attrSet)();
											break;

										case 'each':
											_.each(rowSet,function(r){
												_.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
											});
											_.bind(op.final,op.context,rowSet,attrSet)();
											break;

										case 'map':
											res = _.map(rowSet,function(r){
												return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
											});
											_.bind(op.final,op.context,res,rowSet,attrSet)();
											break;

										case 'reduce':
											res = op.memo;
											_.each(rowSet,function(r){
												res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
											});
											_.bind(op.final,op.context,res,rowSet,attrSet)();
											break;
									}
								});

								// finalize attrs
								applyQueuedUpdates();
								_.each(after,function(op){
									_.bind(op.callback,op.context)();
								});
							});
						});
					};
						
					return {
						attrs: repAttrs,
						attr: repAttrs,

						column: repFields,
						columns: repFields,
						field: repFields,
						fields: repFields,

						reduce: repReduce,
						inject: repReduce,
						foldl: repReduce,

						map: repMap,
						collect: repMap,

						each: repEach,
						forEach: repEach,

						tap: repTap,
						'do': repTap,

						after: repAfter,
						last: repAfter,
						done: repAfter,

						execute: repExecute,
						go: repExecute,
						run: repExecute
					};
				}(section));
			},


			repeatingSimpleSum = function(section, field, destination){
				repeating(section)
					.attr(destination)
					.field(field)
					.reduce(function(m,r){
						return m + (r.F[field]);
					},0,function(t,r,a){
						a.S[destination]=t;
					})
					.execute();
			};



			return {
				/* Repeating Sections */
				repeatingSimpleSum: repeatingSimpleSum,
				repeating: repeating,

				/* Configuration */
				config: setConfigOption,

				/* Debugging */
				callback: wrapCallback,
				callstack: logCallstack,
				debugMode: debugMode,
				_fn: wrapCallback,

				/* Logging */
				debug: logDebug,
				error: logError,
				warn: logWarn,
				info: logInfo,
				notice: logNotice,
				log: logLog
			};
		}());

			on('change:repeating_equipment remove:repeating_equipment',function(){
				TAS.repeatingSimpleSum('equipment','equipment_weight','enc_totalf');
			});

			on('change:repeating_spiritspells remove:repeating_spiritspells',function(){
				TAS.repeatingSimpleSum('spiritspells','mpcost','spiritint');
			});

		/* ---- END: TheAaronSheet.js ---- */	
			on('change:repeating_equipment2 remove:repeating_equipment2',function(){
				//TAS.repeatingSimpleSum('equipment','equipment_weight','carry_total2');
				TAS.repeating("equipment2")
					.attr("carry_total2")
					.field("equipment_weight","carried")
					.reduce(function(m,r){
							
							console.log("carried "+(r.F["carried"]));
							if ( (r.F["carried"]) == 1){
								return m + (r.F["equipment_weight"]);
							} else{
								return m;
							}
								
					
					},0,function(t,r,a){
						a.S["carry_total2"]=t;
					})
					.execute();
			});					

		//////QS sheet workers end///////////////////////////
		/// end of qs workers
		/// qs workers end ////
		/// new workers ////
			on('change:repeating_equipment2 remove:repeating_equipment2',function(){
				//TAS.repeatingSimpleSum('equipment','equipment_weight','carry_total2');
				TAS.repeating("equipment2")
					.attr("mq_total")
					.field("mq_mod","carried")
					.reduce(function(m,r){
							
							console.log("carried "+(r.F["carried"]));
							if ( (r.F["carried"]) == 1){
							
								if ( (r.F["mq_mod"]) < m){
									return (r.F["mq_mod"]);
								}
								else{
									return m;
								}
								///return m + (r.F["mq_mod"]);
							} else{
								return m;
							}
								
					
					},0,function(t,r,a){
						a.S["mq_total"]=t;
					})
					.execute();
			});
		
		
		//Set Current enc mod
		on("change:carry_total2 change:carry_max2", function() {
			getAttrs(["carry_total2","carry_max2"], function(pvalue) {
				console.log("************ Start Current enc mod************");

				var new_mod = 0;
				var carry_total = Math.floor(parseInt(pvalue.carry_total2));
				
				var carry_max  = Math.ceil(parseInt(pvalue.carry_max2));
				
				var swim_mod = 0;
				
console.log("111111111 swim_mod "+swim_mod);
				if (carry_total >  Math.ceil(carry_max/2)){
					swim_mod = ((Math.ceil(carry_max/2) - carry_total))*5;
				}

				
				var dodge_mod = 0-carry_total;
				if (carry_total > carry_max){
					dodge_mod = 0-carry_max;
				}
					
				if (carry_total > carry_max){
					new_mod = (carry_max-carry_total)*5;
					swim_mod = swim_mod - new_mod;
					console.log("new_mod" + new_mod);
				}
console.log("111111111 swim_mod2 "+swim_mod);							
				setAttrs({enc_mod2:new_mod,dodge_mod2:dodge_mod,swim_mod2:swim_mod});
			   
				console.log("************ End Current enc mod Calculation ************");
			});
		});	
		

			on("remove:repeating_agilitySkills", function(eventinfo){
				getAttrs(["agility_mod","curdex"], function(pvalue) {		
					


							var skill = Object.values(eventinfo.removedInfo)[0];
							skill = skill.toLowerCase();
							skill = skill.trim();			
							if (skill === "dodge"){
									var mod = parseInt(pvalue.agility_mod);
									console.log("!!!!!!! agility_mod "+mod);
									var base = (parseInt(pvalue.curdex))*2
									console.log("!!!!!!! base "+base);
									
									setAttrs({dodge:mod+base});							
							}					
				});	
			});


		
		
		//Set Animal 2 Damage Bonus
		on("change:animal2_str change:animal2_siz", function() {
			getAttrs(["animal2_str", "animal2_siz"], function(pvalue) {
				console.log("************ Start Damage Bonus ************");
				console.log("curstr value: " + pvalue.animal2_str);
				console.log("cursiz value: " + pvalue.animal2_siz);

				var curStrength = parseInt(pvalue.animal2_str);
				var curSize = parseInt(pvalue.animal2_siz);

				var StplusSi = curStrength + curSize;
				console.log("Str+Size value: " + StplusSi);
				var DBonus = "-1d4";
				var mDBonus = "-1d2";
				var DBonusC = 0;
							
				//Determine Bonus
				if (StplusSi < 18) {
					console.log("-- Str+Siz is less than 18 --");
					DBonus = "-1d4";
					mDBonus = "-1d2";					
					console.log("DBonus value: " + DBonus);
					setAttrs({animal2_db: DBonus});
				}
				else if (StplusSi < 25) {
					console.log("-- Str+Siz is less than 25 --");
					DBonus = "0";
					mDBonus = "0";
					console.log("DBonus value: " + DBonus);
					setAttrs({animal2_db: DBonus});
				}
				else if (StplusSi < 33) {
					console.log("-- Str+Siz is less than 31 --");
					DBonus = "1d4";
					mDBonus = "1d2";					
					console.log("DBonus value: " + DBonus);
					setAttrs({animal2_db: DBonus});
				}
				else if (StplusSi < 41) {
					console.log("-- Str+Siz is less than 31 --");
					DBonus = "1d6";
					mDBonus = "1d3";					
					console.log("DBonus value: " + DBonus);
					setAttrs({animal2_db: DBonus});
				}			
				else { //StplusSi is greater than 
					DBonusC = 2+Math.floor(parseFloat((StplusSi - 40) / 16));
					console.log("DBonusC value: " + DBonusC);

					DBonus = DBonusC + "d6";
					mDBonus = DBonusC + "d3";					
					console.log("DBonus value: " + DBonus);
					setAttrs({animal2_db: DBonus});
				}            
				console.log("************ Animal 2 End Damage Bonus ************");
			});
		})		

			on("change:curstr change:curcon change:strBuff change:conBuff", function() {
				getAttrs(["curstr","curcon","conBuff","strBuff"], function(pvalue) {		
					
					var cStr = parseInt(pvalue.curstr)+parseInt(pvalue.strBuff);
					var cCon = parseInt(pvalue.curcon)+parseInt(pvalue.conBuff);
					
					var enc = Math.ceil((cStr+cCon)/2);
					if (enc > cStr){
						enc = cStr;
					}
					
					
					setAttrs({carry_max2:enc});			   
				});
			});		
		
						
		
			on("change:repeating_melee2:skillName", function(eventInfo) {
				getAttrs(["repeating_melee2_skillName"], function(pvalue) {		
						console.log("!!!!!! stuff  "+JSON.stringify(eventInfo.sourceAttribute));
						let sourceA = eventInfo.sourceAttribute
						let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
						var wpnSkill = pvalue.repeating_melee2_skillName;
						console.log("changed weapon skill to "+wpnSkill);
						getSkillValues(wpnSkill,"repeating_meleeskills",repeatRow);
						getSkillValues(wpnSkill,"repeating_shieldskills",repeatRow);
						getSkillValues(wpnSkill,"repeating_naturalwpnskills",repeatRow);
						
						
				});
			});	
			
			
			on("change:repeating_missle2:skillName", function(eventInfo) {
				getAttrs(["repeating_missle2_skillName"], function(pvalue) {		
						console.log("!!!!!! stuff  "+JSON.stringify(eventInfo.sourceAttribute));
						let sourceA = eventInfo.sourceAttribute
						let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
						var wpnSkill = pvalue.repeating_missle2_skillName;
						console.log("changed weapon skill to "+wpnSkill);
						var skillVal=getSkillValues(wpnSkill,"repeating_missileskills",repeatRow);
				});
			});				
				
			on("change:repeating_meleeskills:skillTotal", function(eventInfo) {
				getAttrs(["repeating_meleeskills_skill","repeating_meleeskills_skillTotal"], function(pvalue) {		
						console.log("!!!!!! stuff  "+JSON.stringify(eventInfo.sourceAttribute));
						let sourceA = eventInfo.sourceAttribute
						let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
						var wpnSkill = pvalue.repeating_meleeskills_skill;
						var skillTotal = pvalue.repeating_meleeskills_skillTotal;
						console.log("changed weapon skill to "+wpnSkill);
						var skillVal=getSkillValues2(wpnSkill,"repeating_melee2",repeatRow,skillTotal);
				});
			});				

			
			on("change:repeating_missileskills:skillTotal", function(eventInfo) {
				getAttrs(["repeating_missileskills_skill","repeating_missileskills_skillTotal"], function(pvalue) {		
						console.log("!!!!!! changed  missle skill total  "+JSON.stringify(eventInfo.sourceAttribute));
						let sourceA = eventInfo.sourceAttribute
						let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
						var wpnSkill = pvalue.repeating_missileskills_skill;
						var skillTotal = pvalue.repeating_missileskills_skillTotal;
						console.log("changed weapon skill to "+wpnSkill);
						var skillVal=getSkillValues2(wpnSkill,"repeating_missle2",repeatRow,skillTotal);
				});
			});			

			on("change:repeating_shieldSkills:skillTotal", function(eventInfo) {
				getAttrs(["repeating_shieldSkills_skill","repeating_shieldSkills_skillTotal"], function(pvalue) {		
						console.log("!!!!!! stuff  "+JSON.stringify(eventInfo.sourceAttribute));
						let sourceA = eventInfo.sourceAttribute
						let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
						var wpnSkill = pvalue.repeating_shieldSkills_skill;
						var skillTotal = pvalue.repeating_shieldSkills_skillTotal;
						console.log("changed weapon skill to "+wpnSkill);
						var skillVal=getSkillValues2(wpnSkill,"repeating_melee2",repeatRow,skillTotal);
				});
			})



			on("change:repeating_naturalWpnSkills:skillTotal", function(eventInfo) {
				getAttrs(["repeating_naturalWpnSkills_skill","repeating_naturalWpnSkills_skillTotal"], function(pvalue) {		
						console.log("!!!!!! stuff  "+JSON.stringify(eventInfo.sourceAttribute));
						let sourceA = eventInfo.sourceAttribute
						let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
						var wpnSkill = pvalue.repeating_naturalWpnSkills_skill;
						var skillTotal = pvalue.repeating_naturalWpnSkills_skillTotal;
						console.log("changed weapon skill to "+wpnSkill);
						var skillVal=getSkillValues2(wpnSkill,"repeating_melee2",repeatRow,skillTotal);
				});
			})			
			
			function getSkillValues2(wpnSkill,section,section2,skillTotal){
				 getSectionIDs(section, function(idArray) {
					if (idArray.length > 0) {
			
						_.each(idArray, function(currentID, i) {
							getAttrs([section+"_" + currentID + "_skillName",section+"_" + currentID + "_skillTotal"], function(values) {
																															
								console.log("!!!!!! stuff3  "+JSON.stringify(values));

								let skillname = values[section+"_" + idArray[i] + "_skillName"];
								console.log("!!!!!! wpnSkill "+wpnSkill+" skillname "+skillname);

								if (skillname == wpnSkill){	
									console.log("!!!!!!!!!!!! found2 "+wpnSkill);
									let attrsToSet = {[section+"_" + idArray[i] +'_skillTotal']: skillTotal};								
									console.log("attrs to set "+JSON.stringify(attrsToSet));

									setAttrs(attrsToSet);
								}								

									
							});
						});
					}
					
				});	
			}	
			
			
			
		function getSkillValues(wpnSkill,section,section2){
				 getSectionIDs(section, function(idArray) {
					if (idArray.length > 0) {
			
						_.each(idArray, function(currentID, i) {
							getAttrs([section+"_" + currentID + "_skill",section+"_" + currentID + "_skillTotal"], function(values) {
																															
								console.log("!!!!!! stuff2  "+JSON.stringify(values));

								/*let wStr = values[section+"_" + idArray[i] + "_skill"];*/
								/*console.log("!!!!!! Look for skill "+wStr);*/
								let skillname = values[section+"_" + idArray[i] + "_skill"];
								var skillTotal =0 ;

								if (skillname == wpnSkill){	
									console.log("!!!!!!!!!!!! found "+wpnSkill);
									skillTotal = values[section+"_" + idArray[i] + "_skillTotal"];
									console.log("!!!!!! Skilltotal "+skillTotal);
									let attrsToSet = {[section2 + '_skillTotal']: skillTotal};								
									setAttrs(attrsToSet);
								}								

									
							});
						});
					}
					
				});						
		}
		
		
			on("change:repeating_agilitySkills:skillValue", function() {
				getAttrs(["repeating_agilitySkills_skillValue"], function(pvalue) {		
					
					 var checkVal = 0;
					 if (parseInt(pvalue.repeating_agilitySkills_skillValue) > 0){
						checkVal=1;
					 }
					
					setAttrs({repeating_agilitySkills_check_exp_toggle:checkVal});			   
				});
			});		
		
		
			on('sheet:opened',function(){
			
			
					getAttrs(["setupDone2","version","intialSRs","curdex","siz_srm","coordCast","mobilCast"], function(pvalue) {

								
							
					
							if (parseInt(pvalue.version)==1){	
								var SetupDone2=parseInt(pvalue.setupDone2);
								if (SetupDone2==0){

									
								
									incSkill("repeating_agilityskills","Boat","5","0","1");
									incSkill("repeating_agilityskills","Climb","40","0","1");
									incSkill("repeating_agilityskills","Dodge","DEX*2","1","1");	
									incSkill("repeating_agilityskills","Drive","5","0","1");								
									incSkill("repeating_agilityskills","Jump","DEX*3","1","1");									
									incSkill("repeating_agilityskills","Ride (.......)","5","0","1");									
									incSkill("repeating_agilityskills","Swim","15","0","1");									
									
									incSkill("repeating_communicationskills","Act","5","0","1");									
									incSkill("repeating_communicationskills","Art","5","0","1");
									incSkill("repeating_communicationskills","Bargain","5","0","1");											
									incSkill("repeating_communicationskills","Charm","15","0","1");											
									incSkill("repeating_communicationskills","Dance","10","0","1");											
									incSkill("repeating_communicationskills","Disguise","5","0","1");
									incSkill("repeating_communicationskills","Fast Talk","5","0","1");
									incSkill("repeating_communicationskills","Intimidate","15","0","1");
									incSkill("repeating_communicationskills","Intrigue","5","0","1")				
									incSkill("repeating_communicationskills","Orate","10","0","1")
									incSkill("repeating_communicationskills","Sing","10","0","1")												
									incSkill("repeating_communicationskills","Speak (Other Language)","0","0","1")								
									incSkill("repeating_communicationskills","Speak (Own Language)","50","0","1")

									incSkill("repeating_knowledgeskills","Alchemy","0","0","0");									
									incSkill("repeating_knowledgeskills","Animal Lore","5","0","0");									
									incSkill("repeating_knowledgeskills","Battle","10","0","1");									
									incSkill("repeating_knowledgeskills","Celestial Lore","5","0","0");
									incSkill("repeating_knowledgeskills","Cult Lore (Cult)","5","0","0");
									incSkill("repeating_knowledgeskills","Customs (Local)","5","0","0");								
									incSkill("repeating_knowledgeskills","Customs (Other)","0","0","1");
									incSkill("repeating_knowledgeskills","Elder Race Lore","5","0","0");
									incSkill("repeating_knowledgeskills","Evaluate","10","0","1");
									incSkill("repeating_knowledgeskills","Farm","10","0","1");
									incSkill("repeating_knowledgeskills","First Aid","10","0","1");											incSkill("repeating_knowledgeskills","Game","10","0");
									incSkill("repeating_knowledgeskills","Herd","5","0","1");
									incSkill("repeating_knowledgeskills","Homeland Lore (Own)","30","0");
									incSkill("repeating_knowledgeskills","Homeland Lore (...)","0","0");
									incSkill("repeating_knowledgeskills","Manage Household","10","0","1");
									incSkill("repeating_knowledgeskills","Mineral Lore","5","0","0");								
									incSkill("repeating_knowledgeskills","Peaceful Cut","10","0","1");
									incSkill("repeating_knowledgeskills","Plant Lore","5","0","0");
									incSkill("repeating_knowledgeskills","Read/Write (....)","0","0","1");
									incSkill("repeating_knowledgeskills","Survival","5","0","1");
									incSkill("repeating_knowledgeskills","Treat Disease","5","0","1");								
									incSkill("repeating_knowledgeskills","Treat Poison","5","0","1");

									incSkill("repeating_magicskills","Meditate","0","0","1");
									incSkill("repeating_magicskills","Prepare Corpse","10","0","1");
									incSkill("repeating_magicskills","Spirit Combat","20","0","1");
									incSkill("repeating_magicskills","Spirit Lore","0","0","0");																		
									incSkill("repeating_magicskills","Spirit Travel","10","0","1");

									incSkill("repeating_magicskills","Worship (...)","5","0","1");
									
									incSkill("repeating_manipulationskills","Conceal","5","0","1");
									incSkill("repeating_manipulationskills","Craft (...)","10","0","1");
									incSkill("repeating_manipulationskills","Devise","5","0","1");
									incSkill("repeating_manipulationskills","Play Instrument (...)","5","0","1");
									incSkill("repeating_manipulationskills","Sleight","5","0","1");
									
									incSkill("repeating_perceptionskills","Insight (own species)","20","0","1");
									incSkill("repeating_perceptionskills","Listen","25","0","1");
									incSkill("repeating_perceptionskills","Scan","25","0","1");								
									incSkill("repeating_perceptionskills","Search","25","0","1");								
									incSkill("repeating_perceptionskills","Track","5","0","1");								
									
									
									incSkill("repeating_stealthskills","Hide","10","0","1");								
									incSkill("repeating_stealthskills","Move Quietly","10","0","1");
									
									incSkill("repeating_meleeSkills","1H Axe","10","0","1");
									incSkill("repeating_meleeSkills","2H Axe","5","0","1");
									incSkill("repeating_meleeSkills","Broadsword","10","0","1");
									incSkill("repeating_meleeSkills","Dagger","15","0","1");								
									incSkill("repeating_meleeSkills","Kopis","10","0","1");								
									incSkill("repeating_meleeSkills","1H Mace","15","0","1");
									incSkill("repeating_meleeSkills","Pike","15","0","1");
									incSkill("repeating_meleeSkills","Rapier","10","0","1");
									incSkill("repeating_meleeSkills","Shortsword","10","0","1");
									incSkill("repeating_meleeSkills","1H Spear","5","0","1","1");
									incSkill("repeating_meleeSkills","2H Spear","15","0","1");	
									
									incSkill("repeating_missileSkills","Composite Bow","5","0","1");								
									incSkill("repeating_missileSkills","Javelin","10","0","1");
									incSkill("repeating_missileSkills","Self Bow","5","0","1");
									incSkill("repeating_missileSkills","Sling","5","0","1");
									incSkill("repeating_missileSkills","Throwing Dagger","5","0","1");
									incSkill("repeating_missileSkills","Thrown Axe","10","0","1");								
									
									incSkill("repeating_shieldSkills","Small Shield","15","0","1");								
									incSkill("repeating_shieldSkills","Medium Shield","15","0","1");
									incSkill("repeating_shieldSkills","Large Shield","15","0","1");																
									
									incSkill("repeating_naturalWpnSkills","Fist","25","0","1");
									incSkill("repeating_naturalWpnSkills","Grapple","25","0","1");
									incSkill("repeating_naturalWpnSkills","Kick","15","0","1");
	/*addMeleeWpn(section,wpnType,wsr,skill,damage,type,special)*/

									addMeleeWpn("repeating_melee2","Fist","Fist","4","1D3","1D3","3","H","2");
									addMeleeWpn("repeating_melee2","Grapple","Grapple","4","1D6","1d6","6","H","2");
									addMeleeWpn("repeating_melee2","Kick","Kick","4","1D6","1d6","6","H","2");

									
									setAttrs({toggleFullSheet:"on",toggleQSSheet:0,setupDone2:"1",showbroken1:0});
								}	else {
										if (parseInt(pvalue.intialSRs)==0){
											
											
												let charDex = parseInt(pvalue.curdex);
												let charSsrm = parseInt(pvalue.siz_srm);
												let srBuff = 0		
												let dsrm = 0;
												let msrm = charSsrm;
												let srCnt =0;	
												
												if (charDex < 6){
													dsrm = 5;
												} else if (charDex < 9){
													dsrm = 4;
												} else if (charDex < 13){
													dsrm = 3;				
												} else if (charDex < 16){
													dsrm = 2;	
												} else if (charDex < 19){
													dsrm = 1;						
												} else {
													dsrm = 0;				
												}	
												console.log("^^^^^^^^^^^^^ dsrm: "+dsrm);					
							console.log("^^^^^^^^^^^^^ coordCast: "+pvalue.coordCast)					
												if (pvalue.coordCast=="on"){
													srBuff++;
												}
							console.log("^^^^^^^^^^^^^ dsrm: "+dsrm);					
							console.log("^^^^^^^^^^^^^ mobilCast: "+pvalue.mobilCast)					
												if (pvalue.mobilCast=="on"){
													srBuff++;
												}
							console.log("^^^^^^^^^^^^^ dsrm: "+dsrm);										
												msrm = msrm+dsrm;
												
												if (msrm < 1){
													msrm=1;
												}
												
												srCnt =dsrm-srBuff;
												if (srCnt<1){
													srCnt=1;
												}
												let srStr= "";
												while (srCnt<=12) {
													srStr=srStr+""+srCnt;
													srCnt=srCnt+dsrm+(5-srBuff);
													if (srCnt<12){
														srStr=srStr+"/";
													}
												}
												srCnt =5+dsrm-srBuff;
												if (srCnt<1){
													srCnt=1;
												}
												let srStr2= "";
												while (srCnt<=12) {
													srStr2=srStr2+""+srCnt;
													srCnt=srCnt+dsrm+(5-srBuff);
													if (srCnt<=12){
														srStr2=srStr2+"/";
													}
												}					
												
												
												if (dsrm < 1){
													dsrm =1;
												}
												

												setAttrs({ dex_srm: dsrm , melee_srm: msrm,ready_wpn: srStr,unready_wpn: srStr2,intialSRs:1});
											   
												console.log("************ End DEx SRM Calculation ************");						
										}
								}		
							}
							else{
								setAttrs({toggleQSSheet:"on",toggleFullSheet:0});								
							}
					});	

			});
			
			
			
				function incSkill(section,skill,base,vbase,showExp){
					 getSectionIDs(section, function(idArray) {
						var found = false;
						if (idArray.length > 0) {
							var fields = [];
							_.each(idArray, function(currentID) {
								fields.push(section+"_" + currentID + "_skill");
								fields.push(section+"_" + currentID + "_base");
							});
							getAttrs(fields, function(values) {
								_.each(idArray, function(currentID, i) {
									var curSkill = values[section+"_" + idArray[i] + "_skill"];
									if (curSkill === skill){
										found = true;
									}
								});
								if (!found) {
									console.log(skill+""+section+" add !!!!!!!!!!!");
									addSkill(section,skill,base,vbase,showExp);
								}
							});
						}
						else{
							addSkill(section,skill,base,vbase,showExp);
						}
 						
						
					});
				}

		
		
		
		
			
			
			
			function addSkill(section,skill,base,vbase,showExp){
					var id=getId();
					var setObj = {};
					setObj[section+"_"+id+'_skill']=skill;
					setObj[section+"_"+id+'_base']=base;
					if (vbase==0){
						setObj[section+"_"+id+'_base2']=base;
					}
					else{
						setObj[section+"_"+id+'_base2']=base;
					}
					setAttrs(setObj);
					console.log("!!!!!!!!! skill: "+skill+" showExp: "+showExp); 
					
					if (showExp==1){
						setObj[section+"_"+id+'_sp_toggle1']="on";
					} else {
						setObj[section+"_"+id+'_sp_toggle1']="0";
					}
					setAttrs(setObj);
			}
			
			function addMeleeWpn(section,wpnType,skill,wsr,damage,spclDamage,critDamage,type,special){
					var id=getId();
					var setObj = {};
					setObj[section+"_"+id+'_weapon_type']=wpnType;
					setObj[section+"_"+id+'_skillName']=wpnType;					
					setObj[section+"_"+id+'_wpn_sr']=wsr;
					setObj[section+"_"+id+'_wpn_damage']=damage;
					setObj[section+"_"+id+'_spcldamage']=spclDamage;
					setObj[section+"_"+id+'_critdamage']=critDamage;
					setObj[section+"_"+id+'_wpn_type']=type;
					setObj[section+"_"+id+'_wpn_spl']=special;					
					
					setAttrs(setObj);	
			}			
			
			function getId(){
				const sattrs = {};
				const createdIDs = [];
				var retId = 0;
				if (createdIDs.length==0){
					retId = generateRowID();
					createdIDs.push(retId);
				} 
				var checkit = true;	
				  while (checkit==true) {
					let newID = generateRowID();
					console.log("Newid "+newID);	
					if (!createdIDs.includes(newID)) {
					  newrowid = newID;
					  console.log("newrowid "+newID);			  
					  createdIDs.push(newrowid);
					  checkit=false;
					}
				  }
					  retId = newrowid;

				
				return retId;
			}
				
				
			
			function resetSkills(section,category_mod,enc){
				console.log("reset skills "+section+" "+category_mod);
				 getSectionIDs(section, function(idArray) {
					if (idArray.length > 0) {
			
						_.each(idArray, function(currentID, i) {
							getAttrs([section+"_" + currentID + "_base",section+"_" + currentID + "_skillValue",category_mod,"dodge_mod2","swim_mod2","mq_total","enc_mod2","curdex",section+"_" + currentID + "_skill"], function(values){
							console.log("!!!! reset "+section+" row");
	
							var base = values[section+"_" + idArray[i] + "_base"];
							var skill = values[section+"_" + idArray[i] + "_skill"];
							if (parseInt(enc)==1){
								var enc_mod = parseInt(values.enc_mod2);
							} else {
								enc_mod = 0;
							}							
							var curdex = parseInt(values.curdex);
							base=base.toUpperCase();
							if (base.includes("DEX")){
							
									var multiplier = base.split("*");
									console.log("!!!!!!multiplier "+multiplier);									
									var multival = parseInt(multiplier[1]);
									console.log("!!!!!!!!!!!multival "+multival);															
									console.log("zzzzz");
									base = curdex*multival;
							}else{
								base=parseInt(base);
							}
							
							
							var skillValue = parseInt(values[section+"_" + idArray[i] + "_skillValue"]);
							var mod = parseInt(values[category_mod]);
								
							console.log("$$$$$$$ base"+base);	
							console.log("$$$$$$$ skillValue"+skillValue);									
							console.log("$$$$$$$ mod"+mod);									
							
							var tot = 0;
							if ((base+skillValue)>0){
								tot=base+skillValue+mod+enc_mod;
								if (skill.toUpperCase()=="DODGE"){
									tot = tot+parseInt(values.dodge_mod2)
								}else if (skill.toUpperCase()=="SWIM"){
									tot = tot+parseInt(values.swim_mod2)
								}else if (skill.toUpperCase()=="MOVE QUIETLY"){
								console.log("£££££££££ mq_tot ="+values.mq_total);
									tot = tot+parseInt(values.mq_total)
								}
								
							}
							 setAttrs({[section+"_"+currentID+"_base2"]:base});	
							 setAttrs({[section+"_"+currentID+"_skillTotal"]:tot});
									
							});
						});
					}
					
				});		
					
			}			
		
			on("change:repeating_agilitySkills:base", function() {
				getAttrs(["repeating_agilitySkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_agilitySkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					
					setAttrs({repeating_agilitySkills_base2:tot});			   
				});
			});		
			

		
			
			on("change:repeating_agilitySkills:base2 change:repeating_agilitySkills:skillValue change:repeating_agilitySkills:skill", function() {
				getAttrs(["repeating_agilitySkills_base2","repeating_agilitySkills_skillValue","agility_mod","repeating_agilitySkills_skill","dodge_mod2","swim_mod2","enc_mod2"], function(pvalue) {
					var base2 = parseInt(pvalue.repeating_agilitySkills_base2);
					var enc_mod2 = parseInt(pvalue.enc_mod2);
					var skill = pvalue.repeating_agilitySkills_skill;
					var skillValue= parseInt(pvalue.repeating_agilitySkills_skillValue);
					var tot = 0;
						if (base2+skillValue > 0){
						
							tot=base2+skillValue+parseInt(pvalue.agility_mod)+enc_mod2;
							if (skill.toUpperCase()=="DODGE"){
								tot = tot+parseInt(pvalue.dodge_mod2)
							}else if (skill.toUpperCase()=="SWIM"){
								tot = tot+parseInt(pvalue.swim_mod2)
							}								
						}
					setAttrs({repeating_agilitySkills_skillTotal:tot});
					
				});
			});				


			on("change:repeating_agilitySkills:skillTotal", function() {
				getAttrs(["repeating_agilitySkills_skillTotal","repeating_agilitySkills_skill","curDex"], function(pvalue) {
				console.log("!!!!!!!!!!!!! Check for dodge !!!!!!!!!");
					var skill=pvalue.repeating_agilitySkills_skill;
					skill = skill.toUpperCase();
				                     
					console.log("!!!!!!!!!!!!!"+skill);
					
					if (skill=="DODGE"){
						console.log("!!!!!!!!found skill name");
						var skillTotal = parseInt(pvalue.repeating_agilitySkills_skillTotal);
						setAttrs({dodge:skillTotal});						
					}
				});
			});

			
			
			on("change:repeating_magicSkills:skillTotal", function() {
				getAttrs(["repeating_magicSkills_skillTotal","repeating_magicSkills_skill","curDex"], function(pvalue) {
				console.log("!!!!!!!!!!!!! Check for spirit !!!!!!!!!");
					var skill=pvalue.repeating_magicSkills_skill;
					skill = skill.toUpperCase();
				                     
					console.log("!!!!!!!!!!!!!"+skill);
					
					if (skill=="SPIRIT COMBAT"){
						console.log("!!!!!!!!found skill name");
						var skillTotal = parseInt(pvalue.repeating_magicSkills_skillTotal);
						setAttrs({spirit_combat:skillTotal});						
					}
				});
			});				
			
			
			on("change:agility_mod", function() {
				 resetSkills("repeating_agilitySkills","agility_mod","1");
			});	

			
			
			
			////////////////////////////////////////////////////////////////////////
			on("change:repeating_communicationSkills:base", function() {
				getAttrs(["repeating_communicationSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_communicationSkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					setAttrs({repeating_communicationSkills_base2:tot});			   
				});
			});		
			
			/*
			on("change:repeating_communicationSkills:base2 change:repeating_communicationSkills:skillValue", function() {
				getAttrs(["repeating_communicationSkills_base2","repeating_communicationSkills_skillValue","communication_mod"], function(pvalue) {		
				
					console.log("!!!!!!!base2 "+pvalue.repeating_communicationSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_communicationSkills_skillValue);
					console.log("!!!!!!!!!!communication mod "+pvalue.communication_mod);
					
					
					var tot = parseInt(pvalue.repeating_communicationSkills_base2)+parseInt(pvalue.repeating_communicationSkills_skillValue)+parseInt(pvalue.communication_mod)
				
					setAttrs({repeating_communicationSkills_skillTotal:tot});			   
				});
			});				
			*/
			on("change:repeating_communicationSkills:base2 change:repeating_communicationSkills:skillValue", function() {
				getAttrs(["repeating_communicationSkills_base2","repeating_communicationSkills_skillValue","communication_mod"], function(pvalue) {		
				
					console.log("!!!!!!!base2 "+pvalue.repeating_communicationSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_communicationSkills_skillValue);
					console.log("!!!!!!!!!!communication mod "+pvalue.communication_mod);
					
					var base2 = parseInt(pvalue.repeating_communicationSkills_base2);
					var skillValue= parseInt(pvalue.repeating_communicationSkills_skillValue);
					var tot = 0;
						if (base2+skillValue > 0){
							tot=base2+skillValue+parseInt(pvalue.communication_mod);
						}
					setAttrs({repeating_communicationSkills_skillTotal:tot});			   
				});
			});				
			
			
			
			
			on("change:communication_mod", function() {
				 resetSkills("repeating_communicationSkills","communication_mod","0");
			});	
			///////////////////////////////////////////////////////////////////////////////////////
			////////////////////////////////////////////////////////////////////////
			on("change:repeating_knowledgeSkills:base", function() {
				getAttrs(["repeating_knowledgeSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_knowledgeSkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					setAttrs({repeating_knowledgeSkills_base2:tot});			   
				});
			});		
			
			
			on("change:repeating_knowledgeSkills:base2 change:repeating_knowledgeSkills:skillValue", function() {
				getAttrs(["repeating_knowledgeSkills_base2","repeating_knowledgeSkills_skillValue","knowledge_mod"], function(pvalue) {		
				
					console.log("!!!!!!!base2 "+pvalue.repeating_knowledgeSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_knowledgeSkills_skillValue);
					console.log("!!!!!!!!!!knowledge mod "+pvalue.knowledge_mod);
					
					
					var base2 = parseInt(pvalue.repeating_knowledgeSkills_base2);
					var skillValue= parseInt(pvalue.repeating_knowledgeSkills_skillValue);
					
					tot = 0;
					
					if ((base2+skillValue)>0){
						var tot = base2+skillValue+parseInt(pvalue.knowledge_mod);
					}
						
				
					setAttrs({repeating_knowledgeSkills_skillTotal:tot});			   
				});
			});			
			
			on("change:knowledge_mod", function() {
				 resetSkills("repeating_knowledgeSkills","knowledge_mod","0");
			});	
			
		
			
			
			///////////////////////////////////////////////////////////////////////////////////////			
			////////////////////////////////////////////////////////////////////////
			on("change:repeating_magicSkills:base", function() {
				getAttrs(["repeating_magicSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_magicSkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					setAttrs({repeating_magicSkills_base2:tot});			   
				});
			});		
			
			
			on("change:repeating_magicSkills:base2 change:repeating_magicSkills:skillValue", function() {
				getAttrs(["repeating_magicSkills_base2","repeating_magicSkills_skillValue","magic_mod"], function(pvalue) {		
				
					console.log("!!!!!!!base2 "+pvalue.repeating_magicSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_magicSkills_skillValue);
					console.log("!!!!!!!!!!magic mod "+pvalue.magic_mod);
					
					var base2 = parseInt(pvalue.repeating_magicSkills_base2);
					var skillValue = parseInt(pvalue.repeating_magicSkills_skillValue);
					
					var tot = base2+skillValue+parseInt(pvalue.magic_mod);
				
					setAttrs({repeating_magicSkills_skillTotal:tot});			   
				});
			});				
			
			on("change:magic_mod", function() {
				 resetSkills("repeating_magicSkills","magic_mod","0");
			});	
			///////////////////////////////////////////////////////////////////////////////////////				
			////////////////////////////////////////////////////////////////////////
			on("change:repeating_manipulationSkills:base", function() {
				getAttrs(["repeating_manipulationSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_manipulationSkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					setAttrs({repeating_manipulationSkills_base2:tot});			   
				});
			});		
			
			
			on("change:repeating_manipulationSkills:base2 change:repeating_manipulationSkills:skillValue", function() {
				getAttrs(["repeating_manipulationSkills_base2","repeating_manipulationSkills_skillValue","manipulation_mod","enc_mod2"], function(pvalue) {		
				
					console.log("!!!!!!!base2 "+pvalue.repeating_manipulationSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_manipulationSkills_skillValue);
					console.log("!!!!!!!!!!manipulation mod "+pvalue.manipulation_mod);
					
					var base2 = parseInt(pvalue.repeating_manipulationSkills_base2);
					var skillValue = parseInt(pvalue.repeating_manipulationSkills_skillValue);
					
					var tot = base2+skillValue+parseInt(pvalue.manipulation_mod)+parseInt(pvalue.enc_mod2);
				
					setAttrs({repeating_manipulationSkills_skillTotal:tot});			   
				});
			});				
			
			on("change:manipulation_mod", function() {
			console.log("HHHHHHHHHHHHHHHHHEEEEEEEEEEEEEELLLLLLLLLLLLLLLLOOOOOOOOO");
				resetSkills("repeating_manipulationSkills","manipulation_mod","1");
				resetSkills("repeating_meleeSkills","manipulation_mod","1");
				resetSkills("repeating_missileSkills","manipulation_mod","1");
				resetSkills("repeating_shieldSkills","manipulation_mod","1");
				resetSkills("repeating_naturalWpnSkills","manipulation_mod","1");								
			});	
			
			
			on("change:enc_mod2", function() {
				resetSkills("repeating_agilitySkills","agility_mod","1");
				resetSkills("repeating_manipulationSkills","manipulation_mod","1");
				resetSkills("repeating_meleeSkills","manipulation_mod","1");
				resetSkills("repeating_stealthSkills","manipulation_mod","1");
				resetSkills("repeating_missileSkills","manipulation_mod","1");
				resetSkills("repeating_shieldSkills","manipulation_mod","1");
				resetSkills("repeating_naturalWpnSkills","manipulation_mod","1");								
			});
			
			///////////////////////////////////////////////////////////////////////////////////////	
			////////////////////////////////////////////////////////////////////////
			on("change:repeating_perceptionSkills:base", function() {
				getAttrs(["repeating_perceptionSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_perceptionSkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					setAttrs({repeating_perceptionSkills_base2:tot});			   
				});
			});		
			
			
			on("change:repeating_perceptionSkills:base2 change:repeating_perceptionSkills:skillValue", function() {
				getAttrs(["repeating_perceptionSkills_base2","repeating_perceptionSkills_skillValue","perception_mod"], function(pvalue) {		
				
					console.log("!!!!!!!base2 "+pvalue.repeating_perceptionSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_perceptionSkills_skillValue);
					console.log("!!!!!!!!!!perception mod "+pvalue.perception_mod);
					
					var base2 = parseInt(pvalue.repeating_perceptionSkills_base2);
					var skillValue = parseInt(pvalue.repeating_perceptionSkills_skillValue);
					
					var tot = 0;
					if (base2+skillValue>0){
						var tot = base2+skillValue+parseInt(pvalue.perception_mod);
					}	
					
				
					setAttrs({repeating_perceptionSkills_skillTotal:tot});			   
				});
			});				
			
			on("change:perception_mod", function() {
				 resetSkills("repeating_perceptionSkills","perception_mod","0");
			});	
			///////////////////////////////////////////////////////////////////////////////////////	
			////////////////////////////////////////////////////////////////////////
			on("change:repeating_stealthSkills:base", function() {
				getAttrs(["repeating_stealthSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_stealthSkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					/*
					if (skill.toUpperCase()=="MOVE QUIETLY"){
						tot = tot+parseInt(pvalue.mq_total)
					}
                    */					
					setAttrs({repeating_stealthSkills_base2:tot});			   
				});
			});		
			
			
			on("change:repeating_stealthSkills:base2 change:repeating_stealthSkills:skillValue", function() {
				getAttrs(["repeating_stealthSkills_base2","repeating_stealthSkills_skillValue","stealth_mod","enc_mod2"], function(pvalue) {		
					console.log ("stealth skills");
					console.log("!!!!!!!base2 "+pvalue.repeating_stealthSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_stealthSkills_skillValue);
					console.log("!!!!!!!!!!stealth mod "+pvalue.stealth_mod);
					
					var base2 = parseInt(pvalue.repeating_stealthSkills_base2);
					var skillValue = parseInt(pvalue.repeating_stealthSkills_skillValue);
					
					var tot = 0;
					if (base2+skillValue>0){
						var tot = base2+skillValue+parseInt(pvalue.stealth_mod)+parseInt(pvalue.enc_mod2);
					}
				
					setAttrs({repeating_stealthSkills_skillTotal:tot});			   
				});
			});				

			on("change:swim_mod", function() {
				 resetSkills("repeating_agilitySkills","agility_mod","1");
			});	

			on("change:dodge_mod2", function() {
				 resetSkills("repeating_agilitySkills","agility_mod","1");
			});	
                       
			on("change:mq_total", function() {
					console.log("£££££££££££££shut thoose dogs up");
				 resetSkills("repeating_stealthSkills","stealth_mod","1");
			});	
			
			on("change:stealth_mod", function() {
				console.log("reset stealth skills");
				 resetSkills("repeating_stealthSkills","stealth_mod","1");
			});	
			///////////////////////////////////////////////////////////////////////////////////////				
			////////////////////////////////////////////////////////////////////////
			on("change:repeating_meleeSkills:base", function() {
				getAttrs(["repeating_meleeSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_meleeSkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					setAttrs({repeating_meleeSkills_base2:tot});			   
				});
			});		
			
			
			on("change:repeating_meleeSkills:base2 change:repeating_meleeSkills:skillValue", function() {
				getAttrs(["repeating_meleeSkills_base2","repeating_meleeSkills_skillValue","manipulation_mod"], function(pvalue) {		
				
					console.log("!!!!!!!base2 "+pvalue.repeating_meleeSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_meleeSkills_skillValue);
					console.log("!!!!!!!!!!melee mod "+pvalue.manipulation_mod);
					
					var base2 = parseInt(pvalue.repeating_meleeSkills_base2);
					var skillValue = parseInt(pvalue.repeating_meleeSkills_skillValue);
					
					var tot = 0;
					if (base2+skillValue>0){
						var tot = base2+skillValue+parseInt(pvalue.manipulation_mod);
					}
				
					setAttrs({repeating_meleeSkills_skillTotal:tot});			   
				});
			});				
			///////////////////////////////////////////////////////////////////////////////////////				
			////////////////////////////////////////////////////////////////////////
			on("change:repeating_missileSkills:base", function() {
				getAttrs(["repeating_missileSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_missileSkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					setAttrs({repeating_missileSkills_base2:tot});			   
				});
			});		
			
			
			on("change:repeating_missileSkills:base2 change:repeating_missileSkills:skillValue", function() {
				getAttrs(["repeating_missileSkills_base2","repeating_missileSkills_skillValue","manipulation_mod"], function(pvalue) {		
				
					console.log("!!!!!!!base2 "+pvalue.repeating_missileSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_missileSkills_skillValue);
					console.log("!!!!!!!!!!missile mod "+pvalue.manipulation_mod);
					
					var base2 = parseInt(pvalue.repeating_missileSkills_base2);
					var skillValue = parseInt(pvalue.repeating_missileSkills_skillValue);
					
					var tot = 0;
					if (base2+skillValue>0){
						var tot = base2+skillValue+parseInt(pvalue.manipulation_mod);
					}
				
					setAttrs({repeating_missileSkills_skillTotal:tot});			   
				});
			});				
			///////////////////////////////////////////////////////////////////////////////////////	
			////////////////////////////////////////////////////////////////////////
			on("change:repeating_shieldSkills:base", function() {
				getAttrs(["repeating_shieldSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_shieldSkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					setAttrs({repeating_shieldSkills_base2:tot});			   
				});
			});		
			
			
			on("change:repeating_shieldSkills:base2 change:repeating_shieldSkills:skillValue", function() {
				getAttrs(["repeating_shieldSkills_base2","repeating_shieldSkills_skillValue","manipulation_mod"], function(pvalue) {		
				
					console.log("!!!!!!!base2 "+pvalue.repeating_shieldSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_shieldSkills_skillValue);
					console.log("!!!!!!!!!!shield mod "+pvalue.manipulation_mod);
					
					var base2 = parseInt(pvalue.repeating_shieldSkills_base2);
					var skillValue = parseInt(pvalue.repeating_shieldSkills_skillValue);
					
					var tot = 0;
					if (base2+skillValue>0){
						var tot = base2+skillValue+parseInt(pvalue.manipulation_mod);
					}
				
					setAttrs({repeating_shieldSkills_skillTotal:tot});			   
				});
			});				
			///////////////////////////////////////////////////////////////////////////////////////	
//			////////////////////////////////////////////////////////////////////////
                                 
			on("change:repeating_naturalWpnSkills:base", function() {
				getAttrs(["repeating_naturalWpnSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
					var baseStr = pvalue.repeating_naturalWpnSkills_base;
					baseStr = baseStr.toUpperCase();
					var tot = 0;
					if (baseStr.includes("*")){
						//get multiplier
						var multiplier = baseStr.split("*");
						console.log("!!!!!!multiplier "+multiplier);
						
						var multival = parseInt(multiplier[1]);
						console.log("!!!!!!!!!!!multival "+multival);
						
						if (baseStr.includes("STR")){
							tot = parseInt(pvalue.curstr)*multival;
						} else if (baseStr.includes("CON")){
							tot = parseInt(pvalue.curcon)*multival;						
						} else if (baseStr.includes("SIZ")){
							tot = parseInt(pvalue.cursiz)*multival;											
						} else if (baseStr.includes("INT")){
							tot = parseInt(pvalue.curint)*multival;											
						} else if (baseStr.includes("POW")){
							tot = parseInt(pvalue.curpow)*multival;											
						} else if (baseStr.includes("DEX")){
							tot = parseInt(pvalue.curdex)*multival;											
						} else if (baseStr.includes("CHR")){
							tot = parseInt(pvalue.curchr)*multival;											
						}
						console.log("tot "+tot);
					} 
					else{
						tot=parseInt(baseStr);
					}
					                    
					setAttrs({repeating_naturalWpnSkills_base2:tot});			   
				});
			});		
			
			
			on("change:repeating_naturalWpnSkills:base2 change:repeating_naturalWpnSkills:skillValue", function() {
				getAttrs(["repeating_naturalWpnSkills_base2","repeating_naturalWpnSkills_skillValue","manipulation_mod"], function(pvalue) {		
				
					console.log("!!!!!!!base2 "+pvalue.repeating_naturalWpnSkills_base2);
					console.log("!!!!!!skill value "+pvalue.repeating_naturalWpnSkills_skillValue);
					console.log("!!!!!!!!!!naturalWpnsSkills mod "+pvalue.manipulation_mod);
					
					var base2 = parseInt(pvalue.repeating_naturalWpnSkills_base2);
					var skillValue = parseInt(pvalue.repeating_naturalWpnSkills_skillValue);
					
					var tot = 0;
					if (base2+skillValue>0){
						var tot = base2+skillValue+parseInt(pvalue.manipulation_mod);
					}
				
					setAttrs({repeating_naturalWpnSkills_skillTotal:tot});			   
				});
			});				
			///////////////////////////////////////////////////////////////////////////////////////	

			
			
			on("change:repeating_knowledgeSkills:skill", function() {
				getAttrs(["repeating_knowledgeSkills_skill"], function(pvalue) {		
				
									
					var name= pvalue.repeating_knowledgeSkills_skill;

					var char1  = name.substr(0, 1); 

					if (char1=="-"){
						name = name.substr(1);
						setAttrs({repeating_knowledgeSkills_sp_toggle1:0,repeating_knowledgeSkills_skill:name});			   	
					} else 	if (char1=="+"){
						name = name.substr(1);
						setAttrs({repeating_knowledgeSkills_sp_toggle1:"on",repeating_knowledgeSkills_skill:name});			   	
						console.log("marker 4b");
					}					
				});
			});		

			on("change:repeating_agilitySkills:skill", function() {
				getAttrs(["repeating_agilitySkills_skill"], function(pvalue) {		
				
									
					var name= pvalue.repeating_agilitySkills_skill;

					var char1  = name.substr(0, 1); 

					if (char1=="-"){
						name = name.substr(1);
						setAttrs({repeating_agilitySkills_sp_toggle1:0,repeating_agilitySkills_skill:name});			   	
					} else 	if (char1=="+"){
						name = name.substr(1);
						setAttrs({repeating_agilitySkills_sp_toggle1:"on",repeating_agilitySkills_skill:name});			   	
						console.log("marker 4b");
					}					
				});
			});				
			
			on("change:repeating_communicationskills:skill", function() {
				getAttrs(["repeating_communicationskills_skill"], function(pvalue) {		
				
									
					var name= pvalue.repeating_communicationskills_skill;

					var char1  = name.substr(0, 1); 

					if (char1=="-"){
						name = name.substr(1);
						setAttrs({repeating_communicationskills_sp_toggle1:0,repeating_communicationskills_skill:name});			   	
					} else 	if (char1=="+"){
						name = name.substr(1);
						setAttrs({repeating_communicationskills_sp_toggle1:"on",repeating_communicationskills_skill:name});			   	
						console.log("marker 4b");
					}					
				});
			});				
			
			on("change:repeating_magicSkills:skill", function() {
				getAttrs(["repeating_magicSkills_skill"], function(pvalue) {		
				
									
					var name= pvalue.repeating_magicSkills_skill;

					var char1  = name.substr(0, 1); 

					if (char1=="-"){
						name = name.substr(1);
						setAttrs({repeating_magicSkills_sp_toggle1:0,repeating_magicSkills_skill:name});			   	
					} else 	if (char1=="+"){
						name = name.substr(1);
						setAttrs({repeating_magicSkills_sp_toggle1:"on",repeating_magicSkills_skill:name});			   	
						console.log("marker 4b");
					}					
				});
			});				
			
			
			on("change:repeating_manipulationSkills:skill", function() {
				getAttrs(["repeating_manipulationSkills_skill"], function(pvalue) {		
				
									
					var name= pvalue.repeating_manipulationSkills_skill;

					var char1  = name.substr(0, 1); 

					if (char1=="-"){
						name = name.substr(1);
						setAttrs({repeating_manipulationSkills_sp_toggle1:0,repeating_manipulationSkills_skill:name});			   	
					} else 	if (char1=="+"){
						name = name.substr(1);
						setAttrs({repeating_manipulationSkills_sp_toggle1:"on",repeating_manipulationSkills_skill:name});			   	
						console.log("marker 4b");
					}					
				});
			});				
			
			
			on("change:repeating_perceptionskills:skill", function() {
				getAttrs(["repeating_perceptionskills_skill"], function(pvalue) {		
				
									
					var name= pvalue.repeating_perceptionskills_skill;

					var char1  = name.substr(0, 1); 

					if (char1=="-"){
						name = name.substr(1);
						setAttrs({repeating_perceptionskills_sp_toggle1:0,repeating_perceptionskills_skill:name});			   	
					} else 	if (char1=="+"){
						name = name.substr(1);
						setAttrs({repeating_perceptionskills_sp_toggle1:"on",repeating_perceptionskills_skill:name});			   	
						console.log("marker 4b");
					}					
				});
			});	

			on("change:repeating_stealthskills:skill", function() {
				getAttrs(["repeating_stealthskills_skill"], function(pvalue) {		
				
									
					var name= pvalue.repeating_stealthskills_skill;

					var char1  = name.substr(0, 1); 

					if (char1=="-"){
						name = name.substr(1);
						setAttrs({repeating_stealthskills_sp_toggle1:0,repeating_stealthskills_skill:name});			   	
					} else 	if (char1=="+"){
						name = name.substr(1);
						setAttrs({repeating_stealthskills_sp_toggle1:"on",repeating_stealthskills_skill:name});			   	
						console.log("marker 4b");
					}					
				});
			});	


			

			
			on("change:fertility_rune", function() {
				getAttrs(["fertility_rune"], function(pvalue) {				
					setAttrs({death_rune:100-pvalue.fertility_rune});			   
				});
			});	
		

			on("change:death_rune", function() {
				getAttrs(["death_rune"], function(pvalue) {		
					setAttrs({fertility_rune:100-pvalue.death_rune});			   
				});
			});	
			
			on("change:harmony_rune", function() {
				getAttrs(["harmony_rune"], function(pvalue) {		
					setAttrs({disorder_rune:100-pvalue.harmony_rune});			   
				});
			});	
			
			on("change:disorder_rune", function() {
				getAttrs(["disorder_rune"], function(pvalue) {		
					setAttrs({harmony_rune:100-pvalue.disorder_rune});			   
				});
			});	
			
			on("change:truth_rune", function() {
				getAttrs(["truth_rune"], function(pvalue) {		
					setAttrs({illusion_rune:100-pvalue.truth_rune});			   
				});
			});			
			
			on("change:illusion_rune", function() {
				getAttrs(["illusion_rune"], function(pvalue) {		
					setAttrs({truth_rune:100-pvalue.illusion_rune});			   
				});
			});			
			
			on("change:stasis_rune", function() {
				getAttrs(["stasis_rune"], function(pvalue) {		
					setAttrs({movement_rune:100-pvalue.stasis_rune});			   
				});
			});			
		
			on("change:movement_rune", function() {
				getAttrs(["movement_rune"], function(pvalue) {		
					setAttrs({stasis_rune:100-pvalue.movement_rune});			   
				});
			});				
			
			
			on("change:man_rune", function() {
				getAttrs(["man_rune"], function(pvalue) {		
					setAttrs({beast_rune:100-pvalue.man_rune});			   
				});
			});			
			
			on("change:beast_rune", function() {
				getAttrs(["beast_rune"], function(pvalue) {		
					setAttrs({man_rune:100-pvalue.beast_rune});			   
				});
			});					
			
			on("change:basestr change:modstr", function() {
				getAttrs(["basestr","modstr"], function(pvalue) {		
					setAttrs({curstr:parseInt(pvalue.basestr)+parseInt(pvalue.modstr)});			   
				});
			});					
			
			on("change:basecon change:modcon", function() {
				getAttrs(["basecon","modcon"], function(pvalue) {		
					setAttrs({curcon:parseInt(pvalue.basecon)+parseInt(pvalue.modcon)});			   
				});
			});			
			
			on("change:basesiz change:modsiz", function() {
				getAttrs(["basesiz","modsiz"], function(pvalue) {		
					setAttrs({cursiz:parseInt(pvalue.basesiz)+parseInt(pvalue.modsiz)});			   
				});
			});

			on("change:baseint change:modint", function() {
				getAttrs(["baseint","modint"], function(pvalue) {		
					setAttrs({curint:parseInt(pvalue.baseint)+parseInt(pvalue.modint)});			   
				});
			});					
			
			on("change:basepow change:modpow", function() {
				getAttrs(["basepow","modpow"], function(pvalue) {		
					setAttrs({curpow:parseInt(pvalue.basepow)+parseInt(pvalue.modpow)});			   
				});
			});					
			
			on("change:basechr change:modchr", function() {
				getAttrs(["basechr","modchr"], function(pvalue) {		
					setAttrs({curchr:parseInt(pvalue.basechr)+parseInt(pvalue.modchr)});			   
				});
			});			
			
			on("change:basedex change:moddex", function() {
				getAttrs(["basedex","moddex"], function(pvalue) {		
					setAttrs({curdex:parseInt(pvalue.basedex)+parseInt(pvalue.moddex)});			   
				});
			});					
		
				//Set heal rate
			on("change:curcon", function() {
				getAttrs(["curcon"], function(pvalue) {

					
					var charCon = parseInt(pvalue.curcon);
					var hr = 0;
					
					if (charCon < 7){
						hr = 1;
					} else if (charCon < 13){
						hr = 2;				
					} else if (charCon < 18){
						hr = 3;				
					} else {
						hr += (3 + Math.ceil((charCon-18)/6));				
					}				
									
					setAttrs({heal_rate:hr});
				   
					console.log("************ Siz SRM Calculation ************");
				});
			});	
			
			//spirit combat damage
			on("change:curpow change:curchr change:glamourCast", function() {
				getAttrs(["curpow","curchr","glamourCast"], function(pvalue) {

					
					var charPow = parseInt(pvalue.curpow);
					var charChr = parseInt(pvalue.curchr);	
					var hr = 0;
					var sprtCbtDam = "";
					console.log("!!!!!!!!!!! "+(charPow+charChr));
					if (charPow+charChr < 13){
						 <!-- 2-12-->
						if (pvalue.glamourCast==="on"){	
							sprtCbtDam = "1D6";
						}else{
							sprtCbtDam = "1D3";
						}
						
					} else if (charPow+charChr < 25){
						<!-- 13-24 -->
						if (pvalue.glamourCast==="on"){	
							sprtCbtDam = "1D6+1";
						}else{
							sprtCbtDam = "1D6";
						}
						
					} else if (charPow+charChr < 33){
					
						<!-- 25-32-->
						if (pvalue.glamourCast==="on"){	
							sprtCbtDam = "1D6+3";
						}else{
							sprtCbtDam = "1D6+1";
						}						

					} else if (charPow+charChr < 41){
						<!-- 33-40-->						
						if (pvalue.glamourCast==="on"){	
							sprtCbtDam = "2D6+3";
						}else{
							sprtCbtDam = "1D6+3";
						}						
						
					} else if (charPow+charChr < 57){
						<!-- 41- 56 -->	
						if (pvalue.glamourCast==="on"){	
							sprtCbtDam = "3D6+3";
						}else{
							sprtCbtDam = "2D6+3";
						}												
						

					} else {
					
						var val = (2 + Math.ceil(((charPow+charChr)-56)/16));
						if (pvalue.glamourCast==="on"){	
							val =+ 1;
						}						
						sprtCbtDam = val+"D6+"+(val+2);				
					}				
									
					setAttrs({sprt_cmbt_damage:sprtCbtDam});
				   

				});
			});			
			
			
			on("change:thp_wnds", function() {
				getAttrs(["thp_wnds"], function(values) {
						var wnds =  parseInt(values.thp_wnds);
						//var locstre = parseInt(values.l_leg_stre);
										
						var damage = eval(wnds);
						
						setAttrs({thp_loss:damage});	

			   });
			});	
			


		//reset weapon str/ def penalties if str changes

			on("change:curstr change:curdex change:cursiz", function() {
			
					console.log("start weapon str/dex min checks ");
					
					
					/* Start melee Section */
					getSectionIDs("repeating_melee2", function(idArray) {
						if (idArray.length > 0) {
							_.each(idArray, function(currentID, i) {
								getAttrs(["repeating_melee2_" + currentID + "_wpnstr","repeating_melee2_" + currentID + "_wpndex","curstr","curdex" ], function(values) {
									console.log("melee section");
									var wStr = parseInt(values["repeating_melee2_" + idArray[i] + "_wpnstr"]);
									var wDex = parseInt(values["repeating_melee2_" + idArray[i] + "_wpndex"]);
									var cStr = parseInt(values.curstr);
									var cDex = parseInt(values.curdex);
									var mod =1;
									var attrsToSet = {};
									var strBonus = 0;
									
									
									
									if (wStr > 0 && wDex >0){
										if (cStr > wStr){
											strBonus = Math.floor((cStr-wStr)/2);									
										}
										
										if (cStr < wStr && cDex+strBonus < wDex){
											mod =0.5;
										}
									}
									else if (wStr > 0  && cStr < wStr){
											mod=0.5
									}
									else if (wDex >0){
										if (cDex < wDex){
											mod=0.5
										}																	
									}								 

									var meleeModId = "repeating_melee2_" + idArray[i] + "_minmod";
									attrsToSet[meleeModId] = mod;
									console.log("attrsToSet");
									console.log(attrsToSet);		
									setAttrs(attrsToSet);
									
									
									/*
									console.log("wStr");
									console.log(wStr);
									console.log("wDex");
									console.log(wDex);
									console.log("Str");
									console.log(cStr);
									console.log("Dex");
									console.log(cDex);
									*/
									
									
								});
							});
						}
					});
					/* End melee section  */				
					
					
					
					
					
					
					
					
					/* Start missle Section */
					getSectionIDs("repeating_missle2", function(idArray) {
						if (idArray.length > 0) {
							_.each(idArray, function(currentID, i) {
								getAttrs(["repeating_missle2_" + currentID + "_mdbtoggle","repeating_missle2_" + currentID + "_wpnstr","repeating_missle2_" + currentID + "_wpndex","curstr","curdex","mdamagebonus","mmaxDb" ], function(values) {
									console.log("missle section");
									var wStr = parseInt(values["repeating_missle2_" + idArray[i] + "_wpnstr"]);
									var wDex = parseInt(values["repeating_missle2_" + idArray[i] + "_wpndex"]);
									var mdb = values["repeating_missle2_" + idArray[i] + "_mdbtoggle"]
									var cStr = parseInt(values.curstr);
									var cDex = parseInt(values.curdex);
									var mod = 1;

									var strBonus = 0;
									var mdbStr = "0";
									var mdbStr2 = "0";
									
									var attrsToSet = {};
									
									
									if (wStr > 0 && wDex >0){
										if (cStr > wStr){
											strBonus = Math.floor((cStr-wStr)/2);									
										}
										
										if (cStr < wStr && cDex+strBonus < wDex){
											mod =0.5;
										}
									}
									else if (wStr >0 && cStr < wStr){
											mod=0.5;
									}
									else if (wDex >0){
										if (cDex < wDex){
											mod=0.5;
										}																	
									}							
									
									var missleModId = "repeating_missle2_" + idArray[i] + "_minmod";
									attrsToSet[missleModId] = mod;
									console.log("attrsToSet");
									console.log(attrsToSet);		
									setAttrs(attrsToSet);
									
									//set missle damage bonus
									var missledbId = "repeating_missle2_" + idArray[i] + "_wpnmdb";
									var misslemaxdbId = "repeating_missle2_" + idArray[i] + "_maxwpnmdb";
									if (mdb=="on"){
										
										mdbStr = values.mdamagebonus;
										mdbStr2 = values.mmaxDb;

									}

									attrsToSet[missledbId] = mdbStr;
									attrsToSet[misslemaxdbId] = mdbStr2;
									console.log("new missle bonus");
									console.log(attrsToSet);		
									setAttrs(attrsToSet);								
									
									/*
									console.log("wStr");
									console.log(wStr);
									console.log("wDex");
									console.log(wDex);
									console.log("Str");
									console.log(cStr);
									console.log("Dex");
									console.log(cDex);
									*/
									
									
								});
							});
						}
					});
					/* End missle section  */
			});


		
		
		
		/*attr_missle_db*/
		

		on("change:repeating_melee2:skillDefault", function() {
		   getAttrs(["repeating_melee2_skillDefault"], function(values) {
					console.log("Start skill default");
										
	
					var val = 1;
					if (values.repeating_melee2_skillDefault=="on"){
						
						val= 0.5;		
						
					}
					
					console.log("!!!!1 WHAT IS FUCKING VAL "+val);
					setAttrs({repeating_melee2_skillReduct:val});	




		   });
		});

		
		on("change:repeating_missle2:skillDefault", function() {
		   getAttrs(["repeating_missle2_skillDefault"], function(values) {
					console.log("Start skill default");
										
	
					var val = 1;
					if (values.repeating_missle2_skillDefault=="on"){
						
						val= 0.5;		
						
					}
					
					console.log("!!!!1 WHAT IS FUCKING VAL "+val);
					setAttrs({repeating_missle2_skillReduct:val});	




		   });
		});
		


		on("change:repeating_melee2:mntDbToggle", function() {
		   getAttrs(["repeating_melee2_mntDbToggle"], function(values) {
					console.log("Start set mounted damage bonus");
										
					var mdb =  values.repeating_melee2_mntDbToggle;
					var val = 0;
					if (mdb=="on"){
						
						val= 1;		
						
					}
					
					console.log("!!!!1 WHAT IS VAL "+val);
					setAttrs({repeating_melee2_mntTogVal:val});	




		   });
		});
		
		
		on("change:repeating_missle2:mdbtoggle", function() {
		   getAttrs(["repeating_missle2_mdbtoggle","mdamagebonus"], function(values) {
					console.log("Start set missle damage bonus");
					console.log(values);
					console.log(values.repeating_missle2_mdbtoggle);
										
					var mdb =  values.repeating_missle2_mdbtoggle;
					var mdbStr = "0";
					var maxmdbStr = "0";

					if (mdb=="on"){
						
						mdbStr = values.mdamagebonus;
						mdbStr = mdbStr.toUpperCase();
						var splitMdb = mdbStr.split("D");
						maxmdbStr = splitMdb[0]*splitMdb[1];
						
						
					}
					setAttrs({repeating_missle2_wpnmdb:mdbStr,repeating_missle2_maxwpnmdb:maxmdbStr});	




		   });
		});	
		
		  on("change:repeating_missle2:wpndex change:repeating_missle2:wpnstr", function() {
		   getAttrs(["repeating_missle2_wpnstr","repeating_missle2_wpndex","curdex","curstr"], function(values) {

									var wStr =  parseInt(values.repeating_missle2_wpnstr);
									var wDex =  parseInt(values.repeating_missle2_wpndex);
									var cStr = parseInt(values.curstr);
									var cDex = parseInt(values.curdex);
									var mod = 1;

									var strBonus = 0;
									
									var attrsToSet = {};
									
									if (wStr > 0 && wDex >0){
										if (cStr > wStr){
											strBonus = Math.floor((cStr-wStr)/2);									
										}

										if (cStr < wStr && cDex+strBonus < wDex){
											mod =0.5;
										}
									}
									else if (wStr >0 && cStr < wStr){
											mod=0.5;
									}
									else if (wDex >0){
										if (cDex < wDex){
											mod=0.5;
										}																	
									}	
									
									setAttrs({repeating_missle2_minmod:mod});	



		   });
		});	
		
		
			  on("change:repeating_melee2:wpndex change:repeating_melee2:wpnstr", function() {
		   getAttrs(["repeating_melee2_wpnstr","repeating_melee2_wpndex","curdex","curstr"], function(values) {

									var wStr =  parseInt(values.repeating_melee2_wpnstr);
									var wDex =  parseInt(values.repeating_melee2_wpndex);
									var cStr = parseInt(values.curstr);
									var cDex = parseInt(values.curdex);
									var mod = 1;

									var strBonus = 0;
									
									var attrsToSet = {};
									
									if (wStr > 0 && wDex >0){
										if (cStr > wStr){
											strBonus = Math.floor((cStr-wStr)/2);									
										}

										if (cStr < wStr && cDex+strBonus < wDex){
											mod =0.5;
										}
									}
									else if (wStr >0 && cStr < wStr){
											mod=0.5;
									}
									else if (wDex >0){
										if (cDex < wDex){
											mod=0.5;
										}																	
									}	
									
									setAttrs({repeating_melee2_minmod:mod});	



		   });
		});
		
		//wpn_damage
		//calculate melee spcecial and critical damage
		on("change:repeating_melee2:wpn_damage change:repeating_melee2:wpn_spl", function() {
		   getAttrs(["repeating_melee2_wpn_damage","repeating_melee2_wpn_spl"], function(values) {

				var spcl = parseInt(values.repeating_melee2_wpn_spl);
				var wDmg =  values.repeating_melee2_wpn_damage;
				
				
				console.log("spcl "+spcl);
				wDmg = wDmg.toUpperCase();
				console.log("dmg "+wDmg);	
				var dmgSplit = wDmg.split(/[\D+]+/);
				var newStr = "";
				var newAdd = 0;
				
				var cDamage = (parseInt(dmgSplit[0])*parseInt(dmgSplit[1]))+parseInt(dmgSplit[2]);
				console.log("dmgSplit" +dmgSplit);
				var newDice = parseInt(dmgSplit[0])*2;
				
				
				if (spcl !==2){
					if (dmgSplit.length===3){
						cDamage = (newDice*parseInt(dmgSplit[1]))+parseInt(dmgSplit[2]*2);
					}else{
						cDamage = newDice*parseInt(dmgSplit[1]);
					}				
				}
				else{
				
					if (dmgSplit.length===3){
						cDamage =  parseInt(dmgSplit[0])*parseInt(dmgSplit[1]);
						cDamage = cDamage+parseInt(dmgSplit[2]);
						
					}else{
						cDamage =  (parseInt((dmgSplit[0])*parseInt(dmgSplit[1])));
					}					
				}
				console.log("cDamage "+cDamage);
				console.log("newDice "+newDice);
				 
				
				
				if (spcl !==2){			
					if (dmgSplit.length===3){
						newAdd =  parseInt(dmgSplit[2])*2
						newStr = newDice+"D"+dmgSplit[1]+"+"+newAdd;
					}
					else{
						
						newStr = newDice+"D"+dmgSplit[1];
					}			
				}
				else{
					newStr = wDmg;
				}
				
				
				
				console.log("newStr "+newStr)
									
				setAttrs({repeating_melee2_spcldamage:newStr,repeating_melee2_critdamage:cDamage});	



		   });
		});	

		
		
		//wpn_damage
		//calculate missle spcecial and critical damage
		on("change:repeating_missle2:wpn_damage change:repeating_missle2:wpn_spl", function() {
		   getAttrs(["repeating_missle2_wpn_damage","repeating_missle2_wpn_spl"], function(values) {

				var spcl = parseInt(values.repeating_missle2_wpn_spl);
				var wDmg =  values.repeating_missle2_wpn_damage;
				
				
				console.log("spcl "+spcl);
				wDmg = wDmg.toUpperCase();
				console.log("dmg "+wDmg);	
				var dmgSplit = wDmg.split(/[\D+]+/);
				var newStr = "";
				var newAdd = 0;
				
				var cDamage = (parseInt(dmgSplit[0])*parseInt(dmgSplit[1]))+parseInt(dmgSplit[2]);
				console.log("dmgSplit" +dmgSplit);
				var newDice = parseInt(dmgSplit[0])*2;
				
				
				if (spcl !==2){
					if (dmgSplit.length===3){
						cDamage = (newDice*parseInt(dmgSplit[1]))+parseInt(dmgSplit[2]*2);
					}else{
						cDamage = newDice*parseInt(dmgSplit[1]);
					}				
				}
				else{
				
					if (dmgSplit.length===3){
						cDamage =  parseInt(dmgSplit[0])*parseInt(dmgSplit[1]);
						cDamage = cDamage+parseInt(dmgSplit[2]);
						
					}else{
						cDamage =  (parseInt((dmgSplit[0])*parseInt(dmgSplit[1])));
					}					
				}
				console.log("cDamage "+cDamage);
				console.log("newDice "+newDice);
				 
				
				
				if (spcl !==2){			
					if (dmgSplit.length===3){
						newAdd =  parseInt(dmgSplit[2])*2
						newStr = newDice+"D"+dmgSplit[1]+"+"+newAdd;
					}
					else{
						newStr = newDice+"D"+dmgSplit[1];
					}			
				}
				else{
					newStr = wDmg;
				}
				
				
				
				console.log("newStr "+newStr)
									
				setAttrs({repeating_missle_spcldamage:newStr,repeating_missle2_critdamage:cDamage});	



		   });
		})	
		
		
</script>
		<!-- new Roll templates -->
		
		<rolltemplate class="sheet-rolltemplate-damageRoll">
		
			<div style="text-align: center;	color: #ffffff;  background-color: #000000;">{{name}}</div>
			<div style="text-align: center;	color: #ffffff;  background-color: #000000;">Rolls</div>
		
		
		<table class="damageRoll" style="width: 100%; border 1px black">
			<!--<tr><th>{{name}}</th></tr>-->

			<!--<tr><td>{{crit}}/{{special}}/{{fumble}} </td></tr>-->
			<tr>
				<td>&nbsp;<td>
			</tr>
			<tr>
				<td colspan="2" class="template_label"><b>{{skillname}}</b><b>  Damage:</b> &nbsp;{{roll}}</td> 
			</tr>

		</table>		
		</rolltemplate>
		
		
		
		
<rolltemplate class="sheet-rolltemplate-melee-roll2">
		<!--awaqsdasd {{mntTogVal}}</br/>
		Mount damage {{mntTot}}</br/>
		mount spcl {{mntSpcl}}</br/>
		mount crit {{mntCrit}}</br/>
		
		tot {{tot}}
		critSI {{critSI}}
		spcl {{spclDam}}
		fumble {{fumble}}-->

		<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
		<div style="border: 1px solid black ">
		
		<div style="background-color:white;color:#b87a38;text-align:center" >{{name}}</div>
		<div style="background-color:white;color:#b87a38;text-align:center">{{skillname}} Roll</div>

		<div style="padding-top:5px;background-color:white">	
			<div style="text-align:center"><b>Rolls:</b>   &nbsp;{{roll}} <= {{success}}%</div> 
			<div style="text-align:center"><b>Result:</b>
			{{#rollBetween() roll fumble 100}} 
					Fumble
			{{/rollBetween() roll fumble 100}} 
			
			{{#^rollBetween() roll fumble 100}}
			
				{{#rollGreater() success 99}}
					{{#rollLess() roll crit}}Critical!!!!!!</td>{{/rollLess() roll crit}}
					{{#^rollLess() roll crit}}
						{{#rollLess() roll special}}Special!!!{{/rollLess() roll special}}
						{{#rollGreater() roll 95}}Failure{{/rollGreater() roll 95}}
						{{#^rollGreater() roll 95}}
							{{#^rollLess() roll special}}Success{{/^rollLess() roll special}}
						{{/^rollGreater() roll 95}}
						
					{{/^rollLess() roll crit}}

				{{/rollGreater() success 99}}
				
				{{#^rollGreater() success 99}}
					{{#rollLess() roll crit}}Critical!!!!!!{{/rollLess() roll crit}}
					{{#^rollLess() roll crit}}
						{{#rollLess() roll special}}Special!!!{{/rollLess() roll special}}
						{{#^rollLess() roll special}}
						
							{{#rollGreater() roll 95}}Failure{{/rollGreater() roll 95}}
							{{#^rollGreater() roll 95}}
								{{#rollBetween() roll special success}}Success{{/rollBetween() roll special success}}
							{{/^rollGreater() roll 95}}
							
							{{#^rollBetween() roll special success}}
								{{#rollLess() roll fumble}}
									{{#^rollGreater() roll 95}}
										<td>Failure</td>
									{{/^rollGreater() roll 95}}
								{{/rollLess() roll fumble}}
								{{#^rollLess() roll fumble}}
									<td>fumble</td>
								{{/^rollLess() roll fumble}}							
							{{/^rollBetween() roll special success}}											
						{{/^rollLess() roll special}}
					{{/^rollLess() roll crit}}
				{{/^rollGreater() success 99}}
				
				
				
			{{/^rollBetween() roll fumble 100}}			
				
			</div>
			<div  style="text-align:center;background-color:white">
				{{#^rollGreater() roll 95}}
				{{#rollLess() roll success}}
				

					{{#rollLess() roll crit}}
						{{#rollTotal() type 2}}

								<b>Damage:</b> {{critCrsh}}					

						{{/rollTotal() type 2}}	
						{{#^rollTotal() type 2}}
							<tr>
								
								<b>Damage:</b>
								{{#rollTotal() mntTogVal 0}}								
									{{critSI}}
								{{/rollTotal() mntTogVal 0}}
								{{#rollTotal() mntTogVal 1}}							
									{{mntCrit}}
								{{/rollTotal() mntTogVal 1}}
								
							</tr>	
						{{/^rollTotal() type 2}}
					{{/rollLess() roll crit}}
				
					{{#^rollLess() roll crit}}

						{{#rollLess() roll special}}						

							{{#rollTotal() type 2}}
							
									<b>Damage:</b>{{crshDam}}					
							{{/rollTotal() type 2}}	
							{{#^rollTotal() type 2}}
							
								
								<b>Damage:</b>
								{{#rollTotal() mntTogVal 0}}	
									{{spclDam}}
								{{/rollTotal() mntTogVal 0}}	
								{{#rollTotal() mntTogVal 1}}							
									{{mntSpcl}}
								{{/rollTotal() mntTogVal 1}}								
								
							{{/^rollTotal() type 2}}
						{{/rollLess() roll special}}
					{{/^rollLess() roll crit}}
				
				
				
					{{#^rollLess() roll special}}
						
							<b>Damage:</b>
							{{#rollTotal() mntTogVal 0}}							
								{{tot}}
							{{/rollTotal() mntTogVal 0}}													
							{{#rollTotal() mntTogVal 1}}							
								{{mntTot}}
							{{/rollTotal() mntTogVal 1}}	

					{{/^rollLess() roll special}}
				{{/rollLess() roll success}}
				{{#rollTotal() roll success}}


						<b>Damage1:</b>
						{{#rollTotal() mntTogVal 0}}							
							{{tot}}
						{{/rollTotal() mntTogVal 0}}													
						{{#rollTotal() mntTogVal 1}}							
							{{mntTot}}
						{{/rollTotal() mntTogVal 1}}	
				{{/rollTotal() roll success}}			
				{{/^rollGreater() roll 95}}

			</div>
			</div>
			<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
		<div style="border: 1px solid black ">
	</rolltemplate>
	
	
	<rolltemplate class="sheet-rolltemplate-RQG-Fumble">
		<table style="background-color: #ffffff;" class="sheet-rolltemplate-skillRoll">
		<th>Fumble </th>
		<tr>
		{{#rollBetween() roll 1 5}}<td>Lose next parry</td>{{/rollBetween() roll 1 5}}
		{{#rollBetween() roll 6 10}}<td>Lose next attack</td>{{/rollBetween() roll 6 10}}
		{{#rollBetween() roll 11 15}}<td>Lose next attack and parry</td>{{/rollBetween() roll 11 15}}
		{{#rollBetween() roll 16 20}}<td>Lose next attack, parry, and any Dodge.</td>{{/rollBetween() roll 16 20}}
		{{#rollBetween() roll 21 25}}<td>Lose next 1D3 attacks.</td>{{/rollBetween() roll 21 25}}
		{{#rollBetween() roll 26 30}}<td>Lose next 1D3 attacks and parries.</td>{{/rollBetween() roll 26 30}}
		{{#rollBetween() roll 31 35}}<td>Shield strap breaks; lose shield immediately.</td>{{/rollBetween() roll 31 35}}
		{{#rollBetween() roll 36 40}}<td>Shield strap breaks; as above, and lose next attack.</td>{{/rollBetween() roll 36 40}}
		{{#rollBetween() roll 41 45}}<td>Armor strap breaks and armor comes lose (roll for hit location to determine which piece of armor is lost).</td>{{/rollBetween() roll 41 45}}
		{{#rollBetween() roll 46 50}}<td>Armor strap breaks, as above, and lose next attack and parry.</td>{{/rollBetween() roll 46 50}}
		{{#rollBetween() roll 51 55}}<td>Fall and lose parry this round (takes 1D3 rounds to get up).</td>{{/rollBetween() roll 51 55}}
		{{#rollBetween() roll 56 60}}<td>Twist ankle; lose half movement rate for 5D10 rounds.</td>{{/rollBetween() roll 56 60}}
		{{#rollBetween() roll 61 63}}<td>Fall and lose parry this round (takes 1D3 rounds to get up). <br>Twist ankle; lose half movement rate for 5D10 rounds.</td>{{/rollBetween() roll 61 63}}
		{{#rollBetween() roll 64 67}}<td>Vision impaired; lose 25% effectiveness on attacks and parries (takes 1D3 rounds unengaged to clear vision).</td>{{/rollBetween() roll 64 67}}
		{{#rollBetween() roll 68 70}}<td>Vision impaired; lose 50% effectiveness on attacks and parries (takes 1D6 rounds unengaged to clear vision).</td>{{/rollBetween() roll 68 70}}
		{{#rollBetween() roll 71 72}}<td>Vision blocked; lose all attacks and parries (takes 1D6 rounds unengaged to clear vision).</td>{{/rollBetween() roll 71 72}}
		{{#rollBetween() roll 73 74}}<td>Distracted; foes attack at +25% effectiveness for next round.</td>{{/rollBetween() roll 73 74}}
		{{#rollBetween() roll 75 78}}<td><b>Attack:</b> Weapon used in attack dropped (takes 1D3 rounds to recover).
	<br/><b>Parry:</b> Parrying weapon or shield dropped (takes 1D3 rounds to recover).</td>{{/rollBetween() roll 75 78}}
		{{#rollBetween() roll 79 82}}<td><b>Attack:</b> Weapon knocked away (roll 1D6 for number of meters it travels, and roll 1D8 for compass direction it goes;
	with 1=north, 2=northeast, 3=east, 4=southeast, 5=south, 6=southwest, 7=west, 8=northwest).
	<br><b>Parry:</b> Parrying weapon or shield knocked away (roll 1D6 for number of meters it travels and 1D8 for compass
	direction it goes, as above).</td>{{/rollBetween() roll 79 82}}
		{{#rollBetween() roll 83 86}}<td><b>Attack:</b> Weapon shattered (100% chance if unenchanted; 10% less for each point of battle magic spell on weapon,
	and 20% less for each point of Rune magic spell on weapon).
	Parry: Parrying weapon or shield shattered (100% if unenchanted; 10% less for each point of battle magic on object,
	and 20% less for each point of Rune magic.)</td>{{/rollBetween() roll 83 86}}
		{{#rollBetween() roll 87 89}}<td><b>Attack:</b> Hit nearest friend (hit self if no friend near); do rolled damage.
	<br><b>Parry:</b> Wide open; foe automatically hits with normal damage.</td>{{/rollBetween() roll 87 89}}
		{{#rollBetween() roll 90 91}}<td><b>Attack:</b> Hit nearest friend (hit self if no friend near); do full possible damage.
	<br><b>Parry:</b> Wide open; foe automatically hits with normal damage.</td>{{/rollBetween() roll 90 91}}
		{{#rollTotal() roll 92}}<td><b>Attack:</b> Hit nearest friend (hit self if no friend near); do critical hit.
	<br><b>Parry:</b> Wide open; foe automatically hits with normal damage.</td>{{/rollTotal() roll 92}}
		{{#rollBetween() roll 93 95}}<td><b>Attack:</b> Hit self; do rolled damage.
	<br><b>Parry:</b> Wide open; foe automatically hits with full possible damage.</td>{{/rollBetween() roll 93 95}}
		{{#rollBetween() roll 96 97}}<td><b>Attack:</b> Hit self; do full possible damage.
	<br><b>Parry:</b> Wide open; foe automatically critical hits.</td>{{/rollBetween() roll 96 97}}
		{{#rollTotal() roll 98}}<td><b>Attack:</b> Hit self; do critical hit.
	<br><b>Parry:</b> Wide open; foe automatically critical hits.</td>{{/rollTotal() roll 98}}
		{{#rollTotal() roll 99}}<td>Blow it; roll twice on this table, and apply both results. If this result is rolled again, continue rolling until two other
	results are achieved.</td>{{/rollTotal() roll 99}}
		{{#rollTotal() roll 100}}<td>Blow it badly; roll three times on this table, and apply all three results. If this result is rolled again, continue rolling
	until three other results are achieved.</td>{{/rollTotal() roll 100}}
		</tr>
		</table>
	</rolltemplate>

	
	<rolltemplate class="sheet-rolltemplate-expRoll">
		<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
		<div style="border: 1px solid black ">
		
		<div style="background-color:white;color:#b87a38;text-align:center" >{{name}}</div>
		<div style="background-color:white;color:#b87a38;text-align:center" >{{skill}} Experience Roll</div>	


		<div style="padding-top:5px;baCkground-color:white">
				
			<div style="text-align:center"><b>Roll:</b>{{roll}} >= {{value}}</div> 
			{{#rollGreater() roll value}}
				<div style="background-color:white;color:#b87a38;text-align:center" >Increase Skill</div>					
			{{/rollGreater() roll value}}
			{{#^rollGreater() roll value}}
				<div style="background-color:white;color:#b87a38;text-align:center" >Failed to Increase Skill</div>					
			{{/^rollGreater() roll value}}			
			
		</div>	
		<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
	</rolltemplate>	

		<!--end new rolltemplates -->
		<!--old templates -->
	<rolltemplate class="sheet-rolltemplate-melee-roll">
    <table class="skillRoll" style="border 1px black">
        <tr><th colspan="2">{{name}}</th></tr>
		
		<tr><th colspan="2">Weapon Roll</th></tr>
		 <!--<tr><td>{{crit}}/{{special}}/{{fumble}}</td></tr>-->

			<tr>
				<td class="template_label">{{skillname}} {{skillvalue}}% </td> 
				<td class="template_value"> ({{success}}%)</td>
			</tr>
			
		<!--<tr>
			Fumble {{fumble}}
		</tr>
		<tr>
			crit {{crit}}
		</tr>
		<tr>
			special {{special}}
		</tr>
		<tr>
			success {{success}}
		</tr>-->
		
        <tr>
            <td class="template_label"><b>Rolled:</b></td>
            <td class="template_value">&nbsp;{{roll}}</td>
        </tr>
		<tr>
		 <td class="template_label"><b>Result:</b></td>
		 
		{{#rollBetween() roll fumble 100}} 
				<td class="template_value">Fumble</td>
		{{/rollBetween() roll fumble 100}} 
		
		{{#^rollBetween() roll fumble 100}}
		
			{{#rollGreater() success 99}}
				{{#rollLess() roll crit}}<td class="template_value">Critical!!!!!!</td>{{/rollLess() roll crit}}
				{{#^rollLess() roll crit}}
					{{#rollLess() roll special}}<td class="template_value">Special!!!</td>{{/rollLess() roll special}}
					{{#^rollLess() roll special}}<td class="template_value">Success</td>{{/^rollLess() roll special}}
				{{/^rollLess() roll crit}}

			{{/rollGreater() success 99}}
			
			{{#^rollGreater() success 99}}
				{{#rollLess() roll crit}}<td class="template_value">Critical!!!!!!</td>{{/rollLess() roll crit}}
				{{#^rollLess() roll crit}}
					{{#rollLess() roll special}}<td class="template_value">Special!!!</td>{{/rollLess() roll special}}
					{{#^rollLess() roll special}}
						{{#rollBetween() roll special success}}<td class="template_value">Success</td>{{/rollBetween() roll special success}}
						{{#^rollBetween() roll special success}}
							{{#rollLess() roll fumble}}
								<td class="template_value">Failure</td>
							{{/rollLess() roll fumble}}
							{{#^rollLess() roll fumble}}
								<td class="template_value">fumble</td>
							{{/^rollLess() roll fumble}}							
						{{/^rollBetween() roll special success}}											
					{{/^rollLess() roll special}}
				{{/^rollLess() roll crit}}
			{{/^rollGreater() success 99}}
		{{/^rollBetween() roll fumble 100}}
		
		
		{{#rollLess() roll success}}
			<tr>
				<td class="template_label"><b>Damage:</b></td>
				<td style="text-align: right"; class="template_value">{{tot}}<td>
			</tr>
		{{/rollLess() roll success}}
    </table>
</rolltemplate>






<rolltemplate class="sheet-rolltemplate-HL-Melee">
	<div class="loc_wrapper">
		<div class="template_header">Human Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
		<span class="template_label">
			{{#rollBetween() roll 1 4}}Hit on the Left Leg{{/rollBetween() roll 1 4}}
			{{#rollBetween() roll 5 8}}Hit on the Right Leg{{/rollBetween() roll 5 8}}
			{{#rollBetween() roll 9 11}}Hit on the  Abdomen{{/rollBetween() roll 9 11}}
			{{#rollTotal() roll 12}}Hit on the Chest{{/rollTotal() roll 12}}
			{{#rollBetween() roll 13 15}}Hit on the Right Arm{{/rollBetween() roll 13 15}}
			{{#rollBetween() roll 16 18}}Hit on the Left Arm{{/rollBetween() roll 16 18}}
			{{#rollBetween() roll 19 20}}Hit on the Head{{/rollBetween() roll 19 20}}
		</span>
		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-HL-Missle">
	<table class="skillRoll" style="border 1px black">
		<tr><th colspan="2">Human Missle Hit location roll</th></tr>
		<tr>
		<td>{{roll}}&nbsp;</td>
		{{#rollBetween() roll 1 3}}<td class="template_label">Hit on the Left Leg</td>{{/rollBetween() roll 1 3}}
		{{#rollBetween() roll 4 6}}<td class="template_label">Hit on the Right Leg</td>{{/rollBetween() roll 4 6}}
		{{#rollBetween() roll 7 10}}<td class="template_label">Hit on the  Abdomen</td>{{/rollBetween() roll 7 10}}
		{{#rollBetween() roll 11 15}}<td class="template_label">Hit on the Chest</td>{{/rollBetween() roll 11 15}}
		{{#rollBetween() roll 16 17}}<td class="template_label">Hit on the Right Arm</td>{{/rollBetween() roll 16 17}}
		{{#rollBetween() roll 18 19}}<td class="template_label">Hit on the Left Arm</td>{{/rollBetween() roll 18 19}}
		{{#rollTotal() roll 20}}
			<td class="template_value">Hit on the Head</td>
		{{/rollTotal() roll 20}}		
		</tr>
	</table>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-FLL-Missle">
	<table class="skillRoll" style="border 1px black">
		<tr><th colspan="2">Four-legged Missle Hit location roll</th></tr>
		<tr>
	    <td>{{roll}}&nbsp;</td>		
		{{#rollBetween() roll 1 2}}<td class="template_label">Hit on the RH Leg</td>{{/rollBetween() roll 1 2}}
		{{#rollBetween() roll 3 4}}<td class="template_label">Hit on the LH Leg</td>{{/rollBetween() roll 3 4}}
		{{#rollBetween() roll 5 9}}<td class="template_label">Hit on the  Hind Q</td>{{/rollBetween() roll 5 9}}
		{{#rollBetween() roll 10 14}}<td class="template_label">Hit on the Fore Q</td>{{/rollBetween() roll 10 14}}
		{{#rollBetween() roll 15 16}}<td class="template_label">Hit on the RF Leg</td>{{/rollBetween() roll 15 16}}
		{{#rollBetween() roll 17 18}}<td class="template_label">Hit on the LF Leg</td>{{/rollBetween() roll 17 18}}
		{{#rollBetween() roll 19 20}}<td class="template_label">Hit on the Head</td>{{/rollBetween() roll 19 20}}		
		</tr>
	</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-FLL-Melee">
	<div class="loc_wrapper">		
		<div class="template_header">Four-legged Hit location roll</div>
		<div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollBetween() roll 1 2}}Hit on the RH Leg{{/rollBetween() roll 1 2}}
				{{#rollBetween() roll 3 4}}Hit on the LH Leg{{/rollBetween() roll 3 4}}
				{{#rollBetween() roll 5 7}}Hit on the  Hind Q{{/rollBetween() roll 5 7}}
				{{#rollBetween() roll 8 10}}Hit on the Fore Q{{/rollBetween() roll 8 10}}
				{{#rollBetween() roll 11 13}}Hit on the RF Leg{{/rollBetween() roll 11 13}}
				{{#rollBetween() roll 14 16}}Hit on the LF Leg{{/rollBetween() roll 14 16}}
				{{#rollBetween() roll 17 20}}Hit on the Head{{/rollBetween() roll 17 20}}		
			</span>
		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-SprulPaL-Melee">
	<div class="loc_wrapper">
		<div class="template_header">Sprul-Pa Hit location roll</div>
		<div class="template_body" ><span>{{roll}}&nbsp;</span>		
			<span class="template_label">
				{{#rollBetween() roll 1 4}}Hit on the R Leg{{/rollBetween() roll 1 4}}		
				{{#rollBetween() roll 5 8}}Hit on the L Leg{{/rollBetween() roll 5 8}}
				{{#rollBetween() roll 9 11}}Hit on the  Abdomen{{/rollBetween() roll 9 11}}
				{{#rollTotal() roll 12}}Hit on the Chest{{/rollTotal() roll 12}}
				{{#rollTotal() roll 13}}Hit on the Lower R Arm{{/rollTotal() roll 13}}
				{{#rollTotal() roll 14}}Hit on the Lower L Arm{{/rollTotal() roll 14}}		
				{{#rollBetween() roll 15 16}}Hit on the Upper R Arm{{/rollBetween() roll 15 16}}
				{{#rollBetween() roll 17 18}}Hit on the Upper L Arm{{/rollBetween() roll 17 18}}		
				{{#rollBetween() roll 19 20}}Hit on the Head{{/rollBetween() roll 19 20}}		
			</span>
		</div>
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-NewtL-Missle">
	<div class="loc_wrapper">
		<div class="template_header">Newtling Missle Hit location roll</div>
		<div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollTotal() roll 1}}Hit on the Tail{{/rollTotal() roll 1}}		
				{{#rollBetween() roll 2 4}}Hit on the R Leg{{/rollBetween() roll 2 4}}
				{{#rollBetween() roll 5 7}}Hit on the L Leg{{/rollBetween() roll 5 7}}
				{{#rollBetween() roll 8 11}}Hit on the  Abdomen{{/rollBetween() roll 8 11}}
				{{#rollBetween() roll 12 15}}Hit on the Chest{{/rollBetween() roll 12 15}}
				{{#rollBetween() roll 16 17}}Hit on the R Arm{{/rollBetween() roll 16 17}}
				{{#rollBetween() roll 18 19}}Hit on the L Arm{{/rollBetween() roll 18 19}}
				{{#rollTotal() roll 20}}Hit on the Head{{/rollTotal() roll 20}}		
			</span>
		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-NewtL-Melee">
	<div class="loc_wrapper">
		<div class="template_header">Newtling Hit location roll</div>
		<div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
			{{#rollBetween() roll 1 2}}Hit on the Tail{{/rollBetween() roll 1 2}}		
			{{#rollBetween() roll 3 5}}Hit on the R Leg{{/rollBetween() roll 3 5}}
			{{#rollBetween() roll 6 8}}Hit on the L Leg{{/rollBetween() roll 6 8}}
			{{#rollBetween() roll 9 11}}Hit on the  Abdomen{{/rollBetween() roll 9 11}}
			{{#rollTotal() roll 12}}Hit on the Chest{{/rollTotal() roll 12}}
			{{#rollBetween() roll 13 15}}Hit on the R Arm{{/rollBetween() roll 13 15}}
			{{#rollBetween() roll 16 18}}Hit on the L Arm{{/rollBetween() roll 16 18}}
			{{#rollBetween() roll 19 20}}Hit on the Head{{/rollBetween() roll 19 20}}
			</span>
		</div>
	</div>
</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-RockL-Melee">
		<div class="loc_wrapper">
			<div class="template_header">Rock Lizard Hit location roll</div>
			<div class="template_body" ><span>{{roll}}&nbsp;</span>
				<span class="template_label">
					{{#rollBetween() roll 1 3}}<td class="template_label">Hit on the Tail</td>{{/rollBetween() roll 1 3}}		
					{{#rollBetween() roll 4 5}}<td class="template_label">Hit on the R Leg</td>{{/rollBetween() roll 4 5}}
					{{#rollBetween() roll 6 7}}<td class="template_label">Hit on the L Leg</td>{{/rollBetween() roll 6 7}}
					{{#rollBetween() roll 8 11}}<td class="template_label">Hit on the  HQ</td>{{/rollBetween() roll 8 11}}
					{{#rollBetween() roll 12 15}}<td class="template_label">Hit on the  FQ</td>{{/rollBetween() roll 12 15}}
					{{#rollTotal() roll 16}}<td class="template_label">Hit on the R Fore Leg</td>{{/rollTotal() roll 16}}
					{{#rollTotal() roll 17}}<td class="template_label">Hit on the R Fore Leg</td>{{/rollTotal() roll 17}}
					{{#rollBetween() roll 18 20}}<td class="template_label">Hit on the Head</td>{{/rollBetween() roll 18 20}}		
				</span>	
			</div>
		</div>
	</rolltemplate>



<rolltemplate class="sheet-rolltemplate-WalkL-Melee">
	<div class="loc_wrapper">
		<div class="template_header">Walktapus Hit location roll</div>
		<div class="template_body" ><span>{{roll}}&nbsp;</span>
		<span class="template_label">		
			{{#rollBetween() roll 1 2}}Hit on the R Leg{{/rollBetween() roll 1 2}}
			{{#rollBetween() roll 3 4}}Hit on the L Leg{{/rollBetween() roll 3 4}}
			{{#rollTotal() roll 5}}Hit on the  Abdomen{{/rollTotal() roll 5}}
			{{#rollTotal() roll 6}}Hit on the  Chest{{/rollTotal() roll 6}}		
			{{#rollBetween() roll 7 8}}Hit on the R Arm{{/rollBetween() roll 7 8}}
			{{#rollBetween() roll 9 10}}Hit on the L Arm{{/rollBetween() roll 9 10}}
			{{#rollTotal() roll 11}}Hit on the  Tentacle 1{{/rollTotal() roll 11}}
			{{#rollTotal() roll 12}}Hit on the  Tentacle 2{{/rollTotal() roll 12}}				
			{{#rollTotal() roll 13}}Hit on the  Tentacle 3{{/rollTotal() roll 13}}				
			{{#rollTotal() roll 14}}Hit on the  Tentacle 4{{/rollTotal() roll 14}}
			{{#rollTotal() roll 15}}Hit on the  Tentacle 5{{/rollTotal() roll 15}}
			{{#rollTotal() roll 16}}Hit on the  Tentacle 6{{/rollTotal() roll 16}}				
			{{#rollTotal() roll 17}}Hit on the  Tentacle 7{{/rollTotal() roll 17}}				
			{{#rollTotal() roll 18}}Hit on the  Tentacle 8{{/rollTotal() roll 18}}				
			{{#rollBetween() roll 19 20}}Hit on Head{{/rollBetween() roll 19 20}}		
			</span>
		</div>
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-WalkL-Missle">
	<table class="skillRoll" style="border 1px black">
		<tr><th colspan="2">Walktapus Missle Hit location roll</th></tr>
		<tr>
		<td>{{roll}}&nbsp;</td>
		{{#rollTotal() roll 1}}<td class="template_label">Hit on the  R Leg</td>{{/rollTotal() roll 1}}		
		{{#rollTotal() roll 2}}<td class="template_label">Hit on the  L Leg</td>{{/rollTotal() roll 2}}
		{{#rollBetween() roll 3 4}}<td class="template_label">Hit on Abdomen</td>{{/rollBetween() roll 3 4}}
		{{#rollBetween() roll 5 7}}<td class="template_label">Hit on chest</td>{{/rollBetween() roll 5 7}}
		{{#rollTotal() roll 8}}<td class="template_label">Hit on the  R Arm</td>{{/rollTotal() roll 8}}		
		{{#rollTotal() roll 9}}<td class="template_label">Hit on the  L Arm</td>{{/rollTotal() roll 9}}		
		{{#rollTotal() roll 10}}<td class="template_label">Hit on the  Tentacle 1</td>{{/rollTotal() roll 10}}
		{{#rollTotal() roll 11}}<td class="template_label">Hit on the  Tentacle 2</td>{{/rollTotal() roll 11}}				
		{{#rollTotal() roll 12}}<td class="template_label">Hit on the  Tentacle 3</td>{{/rollTotal() roll 12}}				
		{{#rollTotal() roll 13}}<td class="template_label">Hit on the  Tentacle 4</td>{{/rollTotal() roll 13}}
		{{#rollTotal() roll 14}}<td class="template_label">Hit on the  Tentacle 5</td>{{/rollTotal() roll 14}}
		{{#rollTotal() roll 15}}<td class="template_label">Hit on the  Tentacle 6</td>{{/rollTotal() roll 15}}				
		{{#rollTotal() roll 16}}<td class="template_label">Hit on the  Tentacle 7</td>{{/rollTotal() roll 16}}				
		{{#rollTotal() roll 17}}<td class="template_label">Hit on the  Tentacle 8</td>{{/rollTotal() roll 17}}				
		{{#rollBetween() roll 18 20}}<td class="template_label">Hit on Head</td>{{/rollBetween() roll 18 20}}		

		</tr>
	</table>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-ScorpL-Missle">
	<table class="skillRoll" style="border 1px black">
		<tr><th colspan="2">Scorpion Man Missle Hit location roll</th></tr>
		<tr>
		<td>{{roll}}&nbsp;</td>
		{{#rollTotal() roll 1}}<td class="template_label">Hit on the  RH Leg</td>{{/rollTotal() roll 1}}		
		{{#rollTotal() roll 2}}<td class="template_label">Hit on the  RC Leg</td>{{/rollTotal() roll 2}}
		{{#rollTotal() roll 3}}<td class="template_label">Hit on the  RF Leg</td>{{/rollTotal() roll 3}}
		{{#rollTotal() roll 4}}<td class="template_label">Hit on the  LH Leg</td>{{/rollTotal() roll 4}}
		{{#rollTotal() roll 5}}<td class="template_label">Hit on the  LC Leg</td>{{/rollTotal() roll 5}}
		{{#rollTotal() roll 6}}<td class="template_label">Hit on the  LF Leg</td>{{/rollTotal() roll 6}}
		{{#rollTotal() roll 7}}<td class="template_label">Hit on the  Tail</td>{{/rollTotal() roll 7}}						
		{{#rollBetween() roll 8 10}}<td class="template_label">Hit on the  Thorax</td>{{/rollBetween() roll 8 10}}		
		{{#rollBetween() roll 11 15}}<td class="template_label">Hit on the  Chest</td>{{/rollBetween() roll 11 15}}		
		{{#rollBetween() roll 16 17}}<td class="template_label">Hit on the  R Arm</td>{{/rollBetween() roll 16 17}}		
		{{#rollBetween() roll 18 19}}<td class="template_label">Hit on the  L Arm</td>{{/rollBetween() roll 18 19}}		
		{{#rollTotal() roll 20}}<td class="template_label">Hit on the  Head</td>{{/rollTotal() roll 20}}		

		</tr>
	</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-ScorpL-Melee">
		<div class="loc_wrapper">
		<div class="template_header">Scorpion Man Hit location roll</div>
		<div class="template_body" ><span>{{roll}}&nbsp;</span>		
			<span class="template_label">			
			{{#rollTotal() roll 1}}Hit on the  RH Leg{{/rollTotal() roll 1}}		
			{{#rollTotal() roll 2}}Hit on the  RC Leg{{/rollTotal() roll 2}}
			{{#rollBetween() roll 3 4}}Hit on the  RF Leg{{/rollBetween() roll 3 4}}
			{{#rollTotal() roll 5}}Hit on the  LH Leg{{/rollTotal() roll 5}}
			{{#rollTotal() roll 6}}Hit on the  LC Leg{{/rollTotal() roll 6}}		
			{{#rollBetween() roll 7 8}}Hit on the  LF Leg{{/rollBetween() roll 7 8}}		
			{{#rollBetween() roll 9 10}}Hit on the  Tail{{/rollBetween() roll 9 10}}		
			{{#rollBetween() roll 11 12}}Hit on the  Thorax{{/rollBetween() roll 11 12}}		
			{{#rollBetween() roll 13 14}}Hit on the  Chest{{/rollBetween() roll 13 14}}		
			{{#rollBetween() roll 15 16}}Hit on the  R Arm{{/rollBetween() roll 15 16}}		
			{{#rollBetween() roll 17 18}}Hit on the  L Arm{{/rollBetween() roll 17 18}}		
			{{#rollBetween() roll 19 20}}Hit on the  Head{{/rollBetween() roll 19 20}}		
			</span>
		</div>
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-AnkylosaursL-Melee">
	<div class="skillRoll" style="border 1px black">
		<div style="text-align:center">Ankylosaurs Hit location roll</div>
		<div class="result">
			<span>{{roll}}&nbsp;</span>
			
			{{#rollBetween() roll 1 3}}<span class="template_label">Hit on the  Tail</span>{{/rollBetween() roll 1 3}}		
			{{#rollBetween() roll 4 5}}<span class="template_label">Hit on the  RH Leg</span>{{/rollBetween() roll 4 5}}		
			{{#rollBetween() roll 6 7}}<span class="template_label">Hit on the  LH Leg</span>{{/rollBetween() roll 6 7}}
			{{#rollBetween() roll 8 11}}<span class="template_label">Hit on the  HQ</span>{{/rollBetween() roll 8 11}}
			{{#rollBetween() roll 12 15}}<span class="template_label">Hit on the  FQ Leg</span>{{/rollBetween() roll 12 15}}
			{{#rollTotal() roll 16}}<span class="template_label">Hit on the  LH Leg</span>{{/rollTotal() roll 16}}
			{{#rollTotal() roll 17}}<span class="template_label">Hit on the  LH Leg</span>{{/rollTotal() roll 17}}
			{{#rollBetween() roll 18 20}}<span class="template_label">Hit on the  FQ Leg</span>{{/rollBetween() roll 18 20}}		

		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-BeetleL-Melee">
	<div class="skillRoll" style="border 1px black">
		<div style="text-align:center">Beetle Hit location roll</div>
		<div class="result">
			<span>{{roll}}&nbsp;</span>
			{{#rollTotal() roll 1}}<span class="template_label">Hit on the  RH Leg</span>{{/rollTotal() roll 1}}
			{{#rollTotal() roll 2}}<span class="template_label">Hit on the  RC Leg</span>{{/rollTotal() roll 2}}
			{{#rollTotal() roll 3}}<span class="template_label">Hit on the  LH Leg</span>{{/rollTotal() roll 3}}			
			{{#rollTotal() roll 4}}<span class="template_label">Hit on the  LC Leg</span>{{/rollTotal() roll 4}}
			{{#rollBetween() roll 5 8}}<span class="template_label">Hit on the  Abdomen</span>{{/rollBetween() roll 5 8}}					
			{{#rollBetween() roll 9 12}}<span class="template_label">Hit on the  Thorax</span>{{/rollBetween() roll 9 12}}
			{{#rollBetween() roll 13 14}}<span class="template_label">Hit on the  RF Leg</span>{{/rollBetween() roll 13 14}}			
			{{#rollBetween() roll 15 16}}<span class="template_label">Hit on the  LF Leg</span>{{/rollBetween() roll 15 16}}						
			{{#rollBetween() roll 17 20}}<span class="template_label">Hit on the  RF Leg</span>{{/rollBetween() roll 17 20}}			

		</div>
	</div>
</rolltemplate>




<rolltemplate class="sheet-rolltemplate-BirdsFlyingL-Melee">
	<div class="skillRoll" style="border 1px black">
		<div style="text-align:center">Birds,Flying Hit location roll</div>
		<div class="result">
			<span>{{roll}}&nbsp;</span>
			{{#rollTotal() roll 1}}<span class="template_label">Hit on Tail</span>{{/rollTotal() roll 1}}
			{{#rollBetween() roll 2 4}}<span class="template_label">Hit on the  RH Leg</span>{{/rollBetween() roll 2 4}}		
			{{#rollBetween() roll 5 7}}<span class="template_label">Hit on the  LH Leg</span>{{/rollBetween() roll 5 7}}		
			{{#rollBetween() roll 8 9}}<span class="template_label">Hit on the  Abdomen</span>{{/rollBetween() roll 8 9}}
			{{#rollBetween() roll 10 12}}<span class="template_label">Hit on the  Chest</span>{{/rollBetween() roll 10 12}}
			{{#rollBetween() roll 13 14}}<span class="template_label">Hit on the  Right Wing</span>{{/rollBetween() roll 13 14}}			
			{{#rollBetween() roll 15 16}}<span class="template_label">Hit on the  Left Wing</span>{{/rollBetween() roll 15 16}}
			{{#rollBetween() roll 17 20}}<span class="template_label">Hit on the  Head</span>{{/rollBetween() roll 17 20}}				
		</div>
	</div>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-BirdsRunningL-Melee">
	<div class="skillRoll" style="border 1px black">
		<div style="text-align:center">Birds,Running Hit location roll</div>
		<div class="result">
			<span>{{roll}}&nbsp;</span>
			{{#rollBetween() roll 1 4}}<span class="template_label">Hit on the  Right Leg</span>{{/rollBetween() roll 1 4}}		
			{{#rollBetween() roll 5 8}}<span class="template_label">Hit on the  Left Leg</span>{{/rollBetween() roll 5 8}}		
			{{#rollBetween() roll 9 10}}<span class="template_label">Hit on the  Abdomen</span>{{/rollBetween() roll 9 10}}
			{{#rollBetween() roll 11 13}}<span class="template_label">Hit on the  Chest</span>{{/rollBetween() roll 11 13}}
			{{#rollBetween() roll 14 15}}<span class="template_label">Hit on the  Right Wing</span>{{/rollBetween() roll 14 15}}			
			{{#rollBetween() roll 16 17}}<span class="template_label">Hit on the  Left Wing</span>{{/rollBetween() roll 16 17}}
			{{#rollBetween() roll 18 20}}<span class="template_label">Hit on the  Head</span>{{/rollBetween() roll 18 20}}				
		</div>
	</div>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-CentaurL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Centaur Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollBetween() roll 1 2}}Hit on the  RH Leg{{/rollBetween() roll 1 2}}
				{{#rollBetween() roll 3 4}}Hit on the  LH Leg{{/rollBetween() roll 3 4}}
				{{#rollBetween() roll 5 6}}Hit on the  HQ{{/rollBetween() roll 5 6}}
				{{#rollBetween() roll 7 8}}Hit on the  FQ{{/rollBetween() roll 7 8}}
				{{#rollBetween() roll 9 10}}Hit on the RF Leg{{/rollBetween() roll 9 10}}
				{{#rollBetween() roll 11 12}}Hit on the  LF Leg{{/rollBetween() roll 11 12}}		
				{{#rollBetween() roll 13 14}}Hit on the  Chest{{/rollBetween() roll 13 14}}				
				{{#rollBetween() roll 15 16}}Hit on the  R Arm{{/rollBetween() roll 15 16}}				
				{{#rollBetween() roll 17 18}}Hit on the  L Arm{{/rollBetween() roll 17 18}}						
				{{#rollBetween() roll 19 20}}Hit on the  Head{{/rollBetween() roll 19 20}}
			</span>	
		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-DragonL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Dragon/Manticore Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollBetween() roll 1 2}}Hit on the  Tail{{/rollBetween() roll 1 2}}
				{{#rollBetween() roll 3 4}}Hit on the  RH Leg{{/rollBetween() roll 3 4}}
				{{#rollBetween() roll 5 6}}Hit on the  LH Leg{{/rollBetween() roll 5 6}}
				{{#rollBetween() roll 7 8}}Hit on the  HQ{{/rollBetween() roll 7 8}}
				{{#rollBetween() roll 9 10}}Hit on the FQ{{/rollBetween() roll 9 10}}
				{{#rollBetween() roll 11 12}}Hit on the  R Wing{{/rollBetween() roll 11 12}}		
				{{#rollBetween() roll 13 14}}Hit on the  L Wing{{/rollBetween() roll 13 14}}				
				{{#rollBetween() roll 15 16}}Hit on the  RF Leg{{/rollBetween() roll 15 16}}				
				{{#rollBetween() roll 17 18}}Hit on the  LF Leg{{/rollBetween() roll 17 18}}						
				{{#rollBetween() roll 19 20}}Hit on the  Head{{/rollBetween() roll 19 20}}
			</span>	
		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-Dragonsnail1HL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Dragonsnail 1 head Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollBetween() roll 1 8}}Hit on the  Shell{{/rollBetween() roll 1 8}}
				{{#rollBetween() roll 9 14}}Hit on the  Forebody{{/rollBetween() roll 9 14}}
				{{#rollBetween() roll 15 20}}Hit on the  Head{{/rollBetween() roll 15 20}}
			</span>	
		</div>
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-Dragonsnail2HL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Dragonsnail 2 head Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollBetween() roll 1 7}}Hit on the  Shell{{/rollBetween() roll 1 7}}
				{{#rollBetween() roll 8 12}}Hit on the  Forebody{{/rollBetween() roll 8 12}}
				{{#rollBetween() roll 13 16}}Hit on the  R Head{{/rollBetween() roll 13 16}}
				{{#rollBetween() roll 17 20}}Hit on the  L Head{{/rollBetween() roll 17 20}}				
			</span>	
		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-4leggedwingsL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Four-legged, Winged Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollBetween() roll 1 3}}Hit on the  RH Leg{{/rollBetween() roll 1 3}}
				{{#rollBetween() roll 4 6}}Hit on the  LH Leg{{/rollBetween() roll 4 6}}
				{{#rollBetween() roll 7 9}}Hit on the  HQ{{/rollBetween() roll 7 9}}
				{{#rollTotal() roll 10}}Hit on the  FQ{{/rollTotal() roll 10}}				
				{{#rollBetween() roll 11 12}}Hit on the R Wing{{/rollBetween() roll 11 12}}
				{{#rollBetween() roll 13 14}}Hit on the L Wing{{/rollBetween() roll 13 14}}
				{{#rollBetween() roll 15 16}}Hit on the RF Leg{{/rollBetween() roll 15 16}}
				{{#rollBetween() roll 17 18}}Hit on the  LF Leg{{/rollBetween() roll 17 18}}		
				{{#rollBetween() roll 19 20}}Hit on the  Head{{/rollBetween() roll 19 20}}
			</span>	
		</div>
	</div>
</rolltemplate>




<rolltemplate class="sheet-rolltemplate-harpiesL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Harpy Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollBetween() roll 1 2}}Hit on the  R Leg{{/rollBetween() roll 1 2}}
				{{#rollBetween() roll 3 4}}Hit on the  L Leg{{/rollBetween() roll 3 4}}
				{{#rollBetween() roll 5 7}}Hit on the  Abdomen{{/rollBetween() roll 5 7}}
				{{#rollBetween() roll 8 9}}Hit on the  Chest{{/rollBetween() roll 8 9}}				
				{{#rollBetween() roll 10 13}}Hit on the R Wing{{/rollBetween() roll 10 13}}
				{{#rollBetween() roll 14 17}}Hit on the L Wing{{/rollBetween() roll 14 17}}
				{{#rollBetween() roll 18 20}}Hit on the  Head{{/rollBetween() roll 18 20}}
			</span>	
		</div>
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-mammothL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Mammoth/Mastadon Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollBetween() roll 1 2}}Hit on the  RH Leg{{/rollBetween() roll 1 2}}
				{{#rollBetween() roll 3 4}}Hit on the  LH Leg{{/rollBetween() roll 3 4}}
				{{#rollBetween() roll 5 7}}Hit on the  HQ{{/rollBetween() roll 5 7}}
				{{#rollBetween() roll 8 10}}Hit on the  FQ{{/rollBetween() roll 8 10}}
				{{#rollBetween() roll 11 13}}Hit on the RF Leg{{/rollBetween() roll 11 13}}
				{{#rollBetween() roll 14 16}}Hit on the  LF Leg{{/rollBetween() roll 14 16}}	
				{{#rollTotal() roll 17}}Hit on the  Trunk{{/rollTotal() roll 17}}								
				{{#rollBetween() roll 18 20}}Hit on the  Head{{/rollBetween() roll 18 20}}
			</span>	
		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-serpentL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Serpent Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollBetween() roll 1 6}}Hit on the Tail{{/rollBetween() roll 1 6}}
				{{#rollBetween() roll 7 14}}Hit on the  Body{{/rollBetween() roll 7 14}}
				{{#rollBetween() roll 15 20}}Hit on the Head{{/rollBetween() roll 15 20}}
			</span>	
		</div>
	</div>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-serpentWingsL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Serpent , Winged Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollBetween() roll 1 4}}Hit on the Tail{{/rollBetween() roll 1 4}}
				{{#rollBetween() roll 5 8}}Hit on the  Abdomen{{/rollBetween() roll 5 8}}
				{{#rollBetween() roll 9 12}}Hit on the  Chest{{/rollBetween() roll 9 12}}	
				{{#rollBetween() roll 13 14}}Hit on the R Wing{{/rollBetween() roll 13 14}}
				{{#rollBetween() roll 15 16}}Hit on the L Wing{{/rollBetween() roll 15 16}}				
				{{#rollBetween() roll 17 20}}Hit on the Head{{/rollBetween() roll 17 20}}
			</span>	
		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-spiderL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Spider, Giant Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollTotal() roll 1}}Hit on the  RH Leg{{/rollTotal() roll 1}}				
				{{#rollTotal() roll 2}}Hit on the  LH Leg{{/rollTotal() roll 2}}				
				{{#rollTotal() roll 3}}Hit on the  RCR Leg{{/rollTotal() roll 3}}				
				{{#rollTotal() roll 4}}Hit on the  LCR Leg{{/rollTotal() roll 4}}
				{{#rollBetween() roll 5 8}}Hit on the Abdomen{{/rollBetween() roll 5 8}}
				{{#rollBetween() roll 9 10}}Hit on the RCF Leg{{/rollBetween() roll 9 10}}
				{{#rollBetween() roll 11 12}}Hit on the LCF Leg{{/rollBetween() roll 11 12}}
				{{#rollBetween() roll 13 14}}Hit on the RF Leg{{/rollBetween() roll 13 14}}
				{{#rollBetween() roll 15 16}}Hit on the LF leg{{/rollBetween() roll 15 16}}
				{{#rollBetween() roll 17 20}}Hit on the Head{{/rollBetween() roll 17 20}}				
			</span>	
		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-wyvernL-Melee">
	<div style="border: 1px solid black ">
		<div class="template_header" >Wyvern Hit location roll</div>
	    <div class="template_body" ><span>{{roll}}&nbsp;</span>
			<span class="template_label">
				{{#rollTotal() roll 1}}Hit on the  Tail{{/rollTotal() roll 1}}				
				{{#rollBetween() roll 2 4}}Hit on the R Leg{{/rollBetween() roll 2 4}}				
				{{#rollBetween() roll 5 7}}Hit on the L Leg{{/rollBetween() roll 5 7}}
				{{#rollBetween() roll 8 9}}Hit on the Abdomen{{/rollBetween() roll 8 9}}
				{{#rollBetween() roll 10 12}}Hit on the Chest{{/rollBetween() roll 10 12}}
				{{#rollBetween() roll 13 14}}Hit on the R Wing{{/rollBetween() roll 13 14}}
				{{#rollBetween() roll 15 16}}Hit on the L Wing{{/rollBetween() roll 15 16}}
				{{#rollBetween() roll 17 20}}Hit on the Head{{/rollBetween() roll 17 20}}				
			</span>	
		</div>
	</div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-skillRoll">
		

		<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
		<div style="border: 1px solid black ">
		
		<div style="background-color:white;color:#b87a38;text-align:center" >{{name}}</div>
		<div style="background-color:white;color:#b87a38;text-align:center">{{skillname}} Roll</div>

		<div style="padding-top:5px;background-color:white">	
			<div style="text-align:center"><b>Rolls:</b>   &nbsp;{{roll}} <= {{success}}%</div> 
			<div style="text-align:center"><b>Result:</b>
			{{#rollBetween() roll fumble 100}} 
					Fumble 
					(-50%/Despair/Psychic Turmoil)
			{{/rollBetween() roll fumble 100}} 
			
			{{#^rollBetween() roll fumble 100}}
			
				{{#rollGreater() success 99}}
					{{#rollLess() roll crit}}Critical (+50%)</td>{{/rollLess() roll crit}}
					{{#^rollLess() roll crit}}
						{{#rollLess() roll special}}Special (+30%) {{/rollLess() roll special}}
						{{#rollGreater() roll 95}}
							Failure 
							-20%/-10% (Pass.) 
						{{/rollGreater() roll 95}}
						{{#^rollGreater() roll 95}}
							{{#^rollLess() roll special}}Success (+20%) {{/^rollLess() roll special}}
						{{/^rollGreater() roll 95}}
						
					{{/^rollLess() roll crit}}

				{{/rollGreater() success 99}}
				
				{{#^rollGreater() success 99}}
					{{#rollLess() roll crit}}Critical (+50%) {{/rollLess() roll crit}}
					{{#^rollLess() roll crit}}
						{{#rollLess() roll special}}Special (+30%) {{/rollLess() roll special}}
						{{#^rollLess() roll special}}
						
							{{#rollGreater() roll 95}}Failure -20%/-10% (Pass.)  {{/rollGreater() roll 95}}
							{{#^rollGreater() roll 95}}
								{{#rollBetween() roll special success}}Success (+20%) {{/rollBetween() roll special success}}
							{{/^rollGreater() roll 95}}
							
							{{#^rollBetween() roll special success}}
								{{#rollLess() roll fumble}}
									{{#^rollGreater() roll 95}}
										Failure  
										-20%/-10% (Pass.) 										
									{{/^rollGreater() roll 95}}
								{{/rollLess() roll fumble}}
								{{#^rollLess() roll fumble}}
									Fumble 
									(-50%/Despair/Psychic Turmoil)
								{{/^rollLess() roll fumble}}							
							{{/^rollBetween() roll special success}}											
						{{/^rollLess() roll special}}
					{{/^rollLess() roll crit}}
				{{/^rollGreater() success 99}}
				
				
				
			{{/^rollBetween() roll fumble 100}}			
				
			</div>

			</div>
			<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
		<div style="border: 1px solid black ">
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-Melee-Attack-Fumble">
	<table style="background-color: #ffffff;" class="sheet-rolltemplate-skillRoll">
	
	{{#rollTotal() table 0}}
		<th>Melee Attack Fumble </th>
	{{/rollTotal() table 0}}
	{{#rollTotal() table 1}}
		<th>Melee Parry Fumble </th>
	{{/rollTotal() table 1}}	
	{{#rollTotal() table 2}}
		<th>Missle Attack Fumble </th>
	{{/rollTotal() table 2}}	
	{{#rollTotal() table 3}}
		<th>Natural Weapon Fumble </th>
	{{/rollTotal() table 3}}
	<!--<tr><td><b>Roll:</b>{{roll}}</td></tr>
	<tr><td><b>Table:</b>{{table}}</td></tr>-->
	<tr>
	{{#rollTotal() table 0}}
		{{#rollBetween() roll 1 15}}<td class="template_value">Lose the next combat round and are effectively helpless.</td>{{/rollBetween() roll 1 15}}
		{{#rollBetween() roll 16 25}}<td class="template_value">Lose the next 1D3 combat rounds and are effectively helpless.</td>{{/rollBetween() roll 16 25}}		
		{{#rollBetween() roll 26 40}}<td class="template_value">Fall down.</td>{{/rollBetween() roll 26 40}}		
		{{#rollBetween() roll 41 50}}<td class="template_value">Drop the weapon being used.</td>{{/rollBetween() roll 41 50}}
		{{#rollBetween() roll 51 60}}<td class="template_value">Throw weapon 1D10 meters away.</td>{{/rollBetween() roll 51 60}}
		{{#rollBetween() roll 61 65}}<td class="template_value">Lose 1D10 points of weapon?s hit points.</td>{{/rollBetween() roll 61 65}}
		{{#rollBetween() roll 66 75}}<td class="template_value">Vision obscured, lose 30% on all appropriate skills for 1D3 combat rounds.</td>{{/rollBetween() roll 66 75}}
		{{#rollBetween() roll 76 85}}<td class="template_value">Hit nearest ally for normal damage, or Drop the weapon being used if no ally nearby.</td>{{/rollBetween() roll 76 85}}
		{{#rollBetween() roll 86 90}}<td class="template_value">Hit nearest ally for special damage, or Throw weapon 1D10 meters away, if no ally nearby.</td>{{/rollBetween() roll 86 90}}
		{{#rollBetween() roll 91 98}}<td class="template_value">Hit nearest ally for critical damage, or Lose 1D10 points of weapon?s hit points, if no ally nearby.</td>{{/rollBetween() roll 91 98}}
		{{#rollTotal() roll 99}}<td class="template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 99}}
		{{#rollTotal() roll 00}}<td class="template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 00}}
	{{/rollTotal() table 0}}
	
	{{#rollTotal() table 1}}
		{{#rollBetween() roll 1 20}}<td>Lose the next combat round and are effectively helpless.</td>{{/rollBetween() roll 1 20}}
		{{#rollBetween() roll 21 40}}<td>Fall down.</td>{{/rollBetween() roll 21 40}}		
		{{#rollBetween() roll 41 50}}<td>Drop the weapon being used.</td>{{/rollBetween() roll 41 50}}
		{{#rollBetween() roll 51 60}}<td>Throw weapon 1D10 meters away.</td>{{/rollBetween() roll 51 60}}
		{{#rollBetween() roll 61 75}}<td>Lose 1D10 points of weapon?s hit points.</td>{{/rollBetween() roll 61 75}}
		{{#rollBetween() roll 76 85}}<td>Wide open; foe automatically hits with normal hit.</td>{{/rollBetween() roll 76 85}}
		{{#rollBetween() roll 86 90}}<td>Wide open; foe automatically hits with special hit.</td>{{/rollBetween() roll 86 90}}
		{{#rollBetween() roll 91 93}}<td>Wide open; foe automatically hits with critical hit</td>{{/rollBetween() roll 91 93}}
		{{#rollBetween() roll 94 98}}<td>Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollBetween() roll 94 98}}
		{{#rollBetween() roll 99 100}}<td>Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollBetween() roll 99 100}}
	{{/rollTotal() table 1}}	
	
	{{#rollTotal() table 2}}
		{{#rollBetween() roll 1 15}}<td class="template_value">Lose the next attack or other activity.</td>{{/rollBetween() roll 1 15}}
		{{#rollBetween() roll 16 25}}<td class="template_value">Lose the next 1D3 combat rounds or other activity.</td>{{/rollBetween() roll 16 25}}		
		{{#rollBetween() roll 26 40}}<td class="template_value">Fall down.</td>{{/rollBetween() roll 26 40}}		
		{{#rollBetween() roll 41 55}}<td class="template_value">Vision obscured; lose 30% on all appropriate skills for 1D3 combat rounds</td>{{/rollBetween() roll 41 55}}
		{{#rollBetween() roll 56 65}}<td class="template_value">Drop weapon; which slides or bounces 1D6?1 meters away.</td>{{/rollBetween() roll 56 65}}
		{{#rollBetween() roll 66 80}}<td class="template_value">Do 1D6 damage to weapon?s hit points or break if the weapon has no hit points.</td>{{/rollBetween() roll 66 80}}
		{{#rollBetween() roll 81 85}}<td class="template_value">Break weapon.</td>{{/rollBetween() roll 81 85}}
		{{#rollBetween() roll 86 90}}<td class="template_value">Hit nearest ally for normal damage, or Drop weapon; which slides or bounces 1D6?1 meters away. if no ally nearby.</td>{{/rollBetween() roll 86 90}}
		{{#rollBetween() roll 91 95}}<td class="template_value">Hit nearest ally for special damage, orDo 1D6 damage to weapon?s hit points or break if the weapon has no hit points, if no ally nearby.</td>{{/rollBetween() roll 91 95}}
		{{#rollBetween() roll 96 98}}<td class="template_value">Hit nearest ally for critical damage, or Break weapon, if no ally nearby</td>{{/rollBetween() roll 96 98}}
		{{#rollTotal() roll 99}}<td class="template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 99}}
		{{#rollTotal() roll 100}}<td class="template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 100}}
	{{/rollTotal() table 2}}
	
	{{#rollTotal() table 3}}
		{{#rollBetween() roll 1 25}}<td class="template_value">Lose the next combat round (or this one if no action has yet been taken).</td>{{/rollBetween() roll 1 25}}
		{{#rollBetween() roll 26 30}}<td class="template_value">Lose the next 1D3 combat rounds (this includes this one if no action has yet been taken).</td>{{/rollBetween() roll 26 30}}		
		{{#rollBetween() roll 31 50}}<td class="template_value">Fall down.</td>{{/rollBetween() roll 31 50}}		
		{{#rollBetween() roll 51 60}}<td class="template_value">Fall down and twist ankle; lose 1 meter/DEX rank of movement for 1D10 full turns (and all combat turns within them).</td>{{/rollBetween() roll 51 60}}
		{{#rollBetween() roll 61 75}}<td class="template_value">Vision obscured; lose 30% on all appropriate skills for 1D3 combat rounds.</td>{{/rollBetween() roll 61 75}}
		{{#rollBetween() roll 76 85}}<td class="template_value">Miss and strain something; lose 1 hit point (in the attacking limb if hit locations are being used)</td>{{/rollBetween() roll 76 85}}
		{{#rollBetween() roll 86 90}}<td class="template_value">Hit nearest ally for normal damage, or Miss and strain something; lose 1 hit point (in the attacking limb if hit locations are being used), if no ally nearby</td>{{/rollBetween() roll 86 90}}
		{{#rollBetween() roll 91 94}}<td class="template_value">Hit nearest ally for special damage, or Miss and strain something; lose 1 hit point (in the attacking limb if hit locations are being used), if no ally nearby.</td>{{/rollBetween() roll 91 94}}
		{{#rollBetween() roll 95 98}}<td class="template_value">Hit hard surface; do normal damage to self (in the attacking limb if hit locations are being used)..</td>{{/rollBetween() roll 95 98}}
		{{#rollBetween() roll 96 98}}<td class="template_value">Hit nearest ally for critical damage, or Break weapon, if no ally nearby</td>{{/rollBetween() roll 96 98}}
		{{#rollTotal() roll 99}}<td class="template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 99}}
		{{#rollTotal() roll 100}}<td class="template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 100}}
	{{/rollTotal() table 3}}
	

	</tr>
	</table>
</rolltemplate>

		<!--old  templates  end-->		
